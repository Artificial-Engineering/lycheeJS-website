<!DOCTYPE html>
<html manifest="index.appcache">
<head>
	<meta charset="utf-8">
	<title>/projects/flappy-bnn/main</title>

	<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<link rel="manifest" href="./manifest.json">
	<link rel="icon" href="./icon.png" sizes="128x128" type="image/png">

	<script src="./core.js"></script>

	<style>
		.lychee-Renderer-canvas {
			margin: 0 auto;
		}
	</style>

</head>
<body>
<script>
(function(lychee, global) {

	let environment = lychee.deserialize({"constructor":"lychee.Environment","arguments":[{"id":"/projects/flappy-bnn/main","debug":false,"timeout":5000,"target":"game.Main","type":"build","tags":{"platform":["html"]}}],"blob":{"definitions":{"game.Main":{"constructor":"lychee.Definition","arguments":[{"id":"game.Main","url":"/projects/flappy-bnn/source/Main.js"}],"blob":{"attaches":{},"requires":["game.state.Game"],"includes":["lychee.app.Main"],"exports":"function(lychee, global, attachments) {\n\n\tconst _game = lychee.import('game');\n\tconst _Main = lychee.import('lychee.app.Main');\n\n\n\n\t/*\n\t * IMPLEMENTATION\n\t */\n\n\tconst Composite = function(data) {\n\n\t\tlet states = Object.assign({\n\n\t\t\tclient:  null,\n\t\t\tinput:   null,\n\t\t\tserver:  null,\n\t\t\tstash:   null,\n\t\t\tstorage: null,\n\n\t\t\tjukebox: {\n\t\t\t\tmusic: false,\n\t\t\t\tsound: true\n\t\t\t},\n\n\t\t\trenderer: {\n\t\t\t\twidth:  1024,\n\t\t\t\theight: 512\n\t\t\t},\n\n\t\t\tviewport: {\n\t\t\t\tfullscreen: false\n\t\t\t}\n\n\t\t}, data);\n\n\n\t\t_Main.call(this, states);\n\n\t\tstates = null;\n\n\n\n\t\t/*\n\t\t * INITIALIZATION\n\t\t */\n\n\t\tthis.bind('load', function(oncomplete) {\n\t\t\toncomplete(true);\n\t\t}, this, true);\n\n\t\tthis.bind('init', function() {\n\n\t\t\tlet viewport = this.viewport || null;\n\t\t\tif (viewport !== null) {\n\t\t\t\t// viewport.unbind('hide');\n\t\t\t\t// viewport.unbind('show');\n\t\t\t}\n\n\n\t\t\tthis.setState('game', new _game.state.Game(this));\n\t\t\tthis.changeState('game');\n\n\t\t}, this, true);\n\n\t};\n\n\n\tComposite.prototype = {\n\n\t\t/*\n\t\t * ENTITY API\n\t\t */\n\n\t\t// deserialize: function(blob) {},\n\n\t\tserialize: function() {\n\n\t\t\tlet data = _Main.prototype.serialize.call(this);\n\t\t\tdata['constructor'] = 'game.Main';\n\n\n\t\t\tlet states = data['arguments'][0] || {};\n\t\t\tlet blob   = data['blob'] || {};\n\n\n\t\t\tdata['arguments'][0] = states;\n\t\t\tdata['blob']         = Object.keys(blob).length > 0 ? blob : null;\n\n\n\t\t\treturn data;\n\n\t\t}\n\n\t};\n\n\n\treturn Composite;\n\n}"}},"lychee.app.Main":{"constructor":"lychee.Definition","arguments":[{"id":"lychee.app.Main","url":"/libraries/lychee/source/app/Main.js"}],"blob":{"attaches":{},"requires":["lychee.Input","lychee.Renderer","lychee.Stash","lychee.Storage","lychee.Viewport","lychee.event.Flow","lychee.app.Jukebox","lychee.app.Loop","lychee.app.State","lychee.net.Client","lychee.net.Server"],"includes":["lychee.event.Emitter"],"exports":"function(lychee, global, attachments) {\n\n\tconst _Client   = lychee.import('lychee.net.Client');\n\tconst _Emitter  = lychee.import('lychee.event.Emitter');\n\tconst _Flow     = lychee.import('lychee.event.Flow');\n\tconst _Input    = lychee.import('lychee.Input');\n\tconst _Jukebox  = lychee.import('lychee.app.Jukebox');\n\tconst _Loop     = lychee.import('lychee.app.Loop');\n\tconst _Renderer = lychee.import('lychee.Renderer');\n\tconst _Server   = lychee.import('lychee.net.Server');\n\tconst _Stash    = lychee.import('lychee.Stash');\n\tconst _State    = lychee.import('lychee.app.State');\n\tconst _Storage  = lychee.import('lychee.Storage');\n\tconst _Viewport = lychee.import('lychee.Viewport');\n\n\n\n\t/*\n\t * HELPERS\n\t */\n\n\tconst _API_ORIGIN = (function(location) {\n\n\t\tlet hostname = location.hostname || '';\n\t\tlet origin   = location.origin   || '';\n\t\tlet proto    = origin.split(':')[0];\n\n\t\tif (/app|file|chrome-extension/g.test(proto)) {\n\n\t\t\treturn 'http://harvester.artificial.engineering:4848';\n\n\t\t} else if (hostname === 'localhost') {\n\n\t\t\treturn 'http://localhost:4848';\n\n\t\t} else if (/http|https/g.test(proto)) {\n\n\t\t\treturn 'http://' + hostname + ':4848';\n\n\t\t} else {\n\n\t\t\treturn '';\n\n\t\t}\n\n\t})(global.location || {});\n\n\tconst _load_api = function(url, callback, scope) {\n\n\t\turl = typeof url === 'string' ? url : '/api/server/connect?identifier=boilerplate';\n\n\n\t\tif (/^(http|https):\\/\\//g.test(url) === false) {\n\t\t\turl = _API_ORIGIN + url;\n\t\t}\n\n\n\t\tlet config = new Config(url);\n\n\t\tconfig.onload = function(result) {\n\t\t\tcallback.call(scope, result === true ? this.buffer : null);\n\t\t};\n\n\t\tconfig.load();\n\n\t};\n\n\tconst _initialize = function() {\n\n\t\tlet settings = this.settings;\n\n\t\tif (settings.client !== null) {\n\t\t\tthis.client = new _Client(settings.client);\n\t\t\tthis.client.connect();\n\t\t}\n\n\t\tif (settings.server !== null) {\n\t\t\tthis.server = new _Server(settings.server);\n\t\t\tthis.server.connect();\n\t\t}\n\n\t\tif (settings.input !== null) {\n\t\t\tthis.input = new _Input(settings.input);\n\t\t}\n\n\t\tif (settings.jukebox !== null) {\n\t\t\tthis.jukebox = new _Jukebox(settings.jukebox);\n\t\t}\n\n\t\tif (settings.loop !== null) {\n\n\t\t\tthis.loop = new _Loop(settings.loop);\n\t\t\tthis.loop.bind('render', _on_render, this);\n\t\t\tthis.loop.bind('update', _on_update, this);\n\n\t\t}\n\n\t\tif (settings.renderer !== null) {\n\t\t\tthis.renderer = new _Renderer(settings.renderer);\n\t\t}\n\n\t\tif (settings.stash !== null) {\n\n\t\t\tthis.stash = new _Stash(settings.stash);\n\n\n\t\t\t// Give custom clients 1000ms to connect\n\t\t\tsetTimeout(function() {\n\n\t\t\t\tlet client = this.client;\n\t\t\t\tif (client !== null) {\n\n\t\t\t\t\tlet service = client.getService('stash');\n\t\t\t\t\tif (service !== null) {\n\n\t\t\t\t\t\tservice.bind('sync', function(data) {\n\n\t\t\t\t\t\t\tthis.stash.deserialize({\n\t\t\t\t\t\t\t\tassets: data.assets\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tthis.stash.sync(true);\n\n\t\t\t\t\t\t}, this);\n\n\t\t\t\t\t\tthis.stash.bind('sync', function(assets) {\n\t\t\t\t\t\t\tservice.sync(assets);\n\t\t\t\t\t\t}, this);\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}.bind(this), 1000);\n\n\t\t}\n\n\t\tif (settings.storage !== null) {\n\n\t\t\tthis.storage = new _Storage(settings.storage);\n\n\n\t\t\t// Give custom clients 1000ms to connect\n\t\t\tsetTimeout(function() {\n\n\t\t\t\tlet client = this.client;\n\t\t\t\tif (client !== null) {\n\n\t\t\t\t\tlet service = client.getService('storage');\n\t\t\t\t\tif (service !== null) {\n\n\t\t\t\t\t\tservice.bind('sync', function(data) {\n\n\t\t\t\t\t\t\tthis.storage.deserialize({\n\t\t\t\t\t\t\t\tobjects: data.objects\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tthis.storage.sync(true);\n\n\t\t\t\t\t\t}, this);\n\n\t\t\t\t\t\tthis.storage.bind('sync', function(objects) {\n\t\t\t\t\t\t\tservice.sync(objects);\n\t\t\t\t\t\t}, this);\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}.bind(this), 1000);\n\n\t\t}\n\n\t\tif (settings.viewport !== null) {\n\n\t\t\tthis.viewport = new _Viewport();\n\t\t\tthis.viewport.bind('reshape', _on_reshape, this);\n\t\t\tthis.viewport.bind('hide',    _on_hide,    this);\n\t\t\tthis.viewport.bind('show',    _on_show,    this);\n\n\t\t\tthis.viewport.setFullscreen(settings.viewport.fullscreen);\n\n\t\t}\n\n\t};\n\n\tconst _on_hide = function() {\n\n\t\tlet loop = this.loop;\n\t\tif (loop !== null) {\n\t\t\tloop.pause();\n\t\t}\n\n\t};\n\n\tconst _on_render = function(clock, delta) {\n\n\t\tif (this.state !== null) {\n\t\t\tthis.state.render(clock, delta);\n\t\t}\n\n\t};\n\n\tconst _on_reshape = function(orientation, rotation, width, height) {\n\n\t\tlet renderer = this.renderer;\n\t\tif (renderer !== null) {\n\n\t\t\tlet settings = this.settings;\n\t\t\tif (settings.renderer !== null) {\n\t\t\t\trenderer.setWidth(settings.renderer.width);\n\t\t\t\trenderer.setHeight(settings.renderer.height);\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tconst _on_show = function() {\n\n\t\tlet loop = this.loop;\n\t\tif (loop !== null) {\n\t\t\tloop.resume();\n\t\t}\n\n\t};\n\n\tconst _on_update = function(clock, delta) {\n\n\t\tif (this.state !== null) {\n\t\t\tthis.state.update(clock, delta);\n\t\t}\n\n\t};\n\n\n\n\t/*\n\t * DEFAULT SETTINGS\n\t * and SERIALIZATION CACHE\n\t */\n\n\tconst _DEFAULTS = {\n\n\t\tclient: null,\n\t\tserver: null,\n\n\t\tinput: {\n\t\t\tdelay:       0,\n\t\t\tkey:         true,\n\t\t\tkeymodifier: false,\n\t\t\tscroll:      true,\n\t\t\tswipe:       true,\n\t\t\ttouch:       true\n\t\t},\n\n\t\tjukebox: {\n\t\t\tchannels: 8,\n\t\t\tmusic:    true,\n\t\t\tsound:    true\n\t\t},\n\n\t\tloop: {\n\t\t\trender: 60,\n\t\t\tupdate: 60\n\t\t},\n\n\t\trenderer: {\n\t\t\twidth:      null,\n\t\t\theight:     null,\n\t\t\tid:         'app',\n\t\t\tbackground: '#405050'\n\t\t},\n\n\t\tstash: {\n\t\t\tid:   'app',\n\t\t\ttype: _Stash.TYPE.persistent\n\t\t},\n\n\t\tstorage: {\n\t\t\tid:    'app',\n\t\t\tmodel: {},\n\t\t\ttype:  _Storage.TYPE.persistent\n\t\t},\n\n\t\tviewport: {\n\t\t\tfullscreen: false\n\t\t}\n\n\t};\n\n\n\n\t/*\n\t * IMPLEMENTATION\n\t */\n\n\tconst Composite = function(states) {\n\n\t\tthis.settings = lychee.assignunlink({}, _DEFAULTS, states);\n\t\tthis.defaults = lychee.assignunlink({}, this.settings);\n\n\t\tthis.client   = null;\n\t\tthis.server   = null;\n\n\t\tthis.input    = null;\n\t\tthis.jukebox  = null;\n\t\tthis.loop     = null;\n\t\tthis.renderer = null;\n\t\tthis.stash    = null;\n\t\tthis.storage  = null;\n\t\tthis.viewport = null;\n\n\t\tthis.state    = null;\n\t\tthis.__states = {};\n\n\n\t\t_Emitter.call(this);\n\n\t};\n\n\n\tComposite.prototype = {\n\n\t\t/*\n\t\t * ENTITY API\n\t\t */\n\n\t\tdeserialize: function(blob) {\n\n\t\t\tif (blob.client instanceof Object)   this.client   = lychee.deserialize(blob.client);\n\t\t\tif (blob.server instanceof Object)   this.server   = lychee.deserialize(blob.server);\n\n\t\t\tif (blob.input instanceof Object)    this.input    = lychee.deserialize(blob.input);\n\t\t\tif (blob.jukebox instanceof Object)  this.jukebox  = lychee.deserialize(blob.jukebox);\n\t\t\tif (blob.loop instanceof Object)     this.loop     = lychee.deserialize(blob.loop);\n\t\t\tif (blob.renderer instanceof Object) this.renderer = lychee.deserialize(blob.renderer);\n\t\t\tif (blob.stash instanceof Object)    this.stash    = lychee.deserialize(blob.stash);\n\t\t\tif (blob.storage instanceof Object)  this.storage  = lychee.deserialize(blob.storage);\n\t\t\tif (blob.viewport instanceof Object) this.viewport = lychee.deserialize(blob.viewport);\n\n\n\t\t\tif (blob.states instanceof Object) {\n\n\t\t\t\tfor (let id in blob.states) {\n\n\t\t\t\t\tlet stateblob = blob.states[id];\n\n\t\t\t\t\tfor (let a = 0, al = stateblob.arguments.length; a < al; a++) {\n\t\t\t\t\t\tif (stateblob.arguments[a] === '#MAIN') {\n\t\t\t\t\t\t\tstateblob.arguments[a] = this;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.setState(id, lychee.deserialize(stateblob));\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t},\n\n\t\tserialize: function() {\n\n\t\t\tlet data = _Emitter.prototype.serialize.call(this);\n\t\t\tdata['constructor'] = 'lychee.app.Main';\n\n\t\t\tlet states = lychee.assignunlink({}, this.settings);\n\t\t\tlet blob   = data['blob'] || {};\n\n\n\t\t\tif (this.client !== null)   blob.client   = lychee.serialize(this.client);\n\t\t\tif (this.server !== null)   blob.server   = lychee.serialize(this.server);\n\n\t\t\tif (this.input !== null)    blob.input    = lychee.serialize(this.input);\n\t\t\tif (this.jukebox !== null)  blob.jukebox  = lychee.serialize(this.jukebox);\n\t\t\tif (this.loop !== null)     blob.loop     = lychee.serialize(this.loop);\n\t\t\tif (this.renderer !== null) blob.renderer = lychee.serialize(this.renderer);\n\t\t\tif (this.stash !== null)    blob.stash    = lychee.serialize(this.stash);\n\t\t\tif (this.storage !== null)  blob.storage  = lychee.serialize(this.storage);\n\t\t\tif (this.viewport !== null) blob.viewport = lychee.serialize(this.viewport);\n\n\n\t\t\tif (Object.keys(this.__states).length > 0) {\n\n\t\t\t\tblob.states = {};\n\n\t\t\t\tfor (let id in this.__states) {\n\t\t\t\t\tblob.states[id] = lychee.serialize(this.__states[id]);\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\tdata['arguments'][0] = states;\n\t\t\tdata['blob']         = Object.keys(blob).length > 0 ? blob : null;\n\n\n\t\t\treturn data;\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * MAIN API\n\t\t */\n\n\t\tinit: function() {\n\n\t\t\tlet flow       = new _Flow();\n\t\t\tlet client_api = this.settings.client;\n\t\t\tlet server_api = this.settings.server;\n\n\n\t\t\tflow.then('load-api');\n\t\t\tflow.then('load');\n\t\t\tflow.then('init');\n\n\n\t\t\tflow.bind('load-api', function(oncomplete) {\n\n\t\t\t\tlet c = typeof client_api === 'string';\n\t\t\t\tlet s = typeof server_api === 'string';\n\n\n\t\t\t\tif (c === true && s === true) {\n\n\t\t\t\t\t_load_api(client_api, function(settings) {\n\n\t\t\t\t\t\tthis.settings.client = Object.assign({}, settings);\n\n\t\t\t\t\t\t_load_api(server_api, function(settings) {\n\t\t\t\t\t\t\tthis.settings.server = Object.assign({}, settings);\n\t\t\t\t\t\t\toncomplete(true);\n\t\t\t\t\t\t}, this);\n\n\t\t\t\t\t}, this);\n\n\t\t\t\t} else if (c === true) {\n\n\t\t\t\t\t_load_api(client_api, function(settings) {\n\t\t\t\t\t\tthis.settings.client = Object.assign({}, settings);\n\t\t\t\t\t\toncomplete(true);\n\t\t\t\t\t}, this);\n\n\t\t\t\t} else if (s === true) {\n\n\t\t\t\t\t_load_api(server_api, function(settings) {\n\t\t\t\t\t\tthis.settings.server = Object.assign({}, settings);\n\t\t\t\t\t\toncomplete(true);\n\t\t\t\t\t}, this);\n\n\t\t\t\t} else {\n\n\t\t\t\t\toncomplete(true);\n\n\t\t\t\t}\n\n\t\t\t}, this);\n\n\t\t\tflow.bind('load', function(oncomplete) {\n\n\t\t\t\tlet result = this.trigger('load', [ oncomplete ]);\n\t\t\t\tif (result === false) {\n\t\t\t\t\toncomplete(true);\n\t\t\t\t}\n\n\t\t\t}, this);\n\n\t\t\tflow.bind('init', function(oncomplete) {\n\n\t\t\t\t_initialize.call(this);\n\t\t\t\toncomplete(true);\n\n\t\t\t}, this);\n\n\t\t\tflow.bind('complete', function() {\n\t\t\t\tthis.trigger('init');\n\t\t\t}, this);\n\n\t\t\tflow.bind('error', function() {\n\t\t\t\t_initialize.call(this);\n\t\t\t}, this);\n\n\t\t\tflow.init();\n\n\n\t\t\treturn true;\n\n\t\t},\n\n\t\tdestroy: function() {\n\n\t\t\tif (this.client !== null) {\n\t\t\t\tthis.client.disconnect();\n\t\t\t\tthis.client = null;\n\t\t\t}\n\n\t\t\tif (this.server !== null) {\n\t\t\t\tthis.server.disconnect();\n\t\t\t\tthis.server = null;\n\t\t\t}\n\n\t\t\tif (this.input !== null) {\n\t\t\t\tthis.input.destroy();\n\t\t\t\tthis.input = null;\n\t\t\t}\n\n\t\t\tif (this.jukebox !== null) {\n\t\t\t\tthis.jukebox = null;\n\t\t\t}\n\n\t\t\tif (this.loop !== null) {\n\t\t\t\tthis.loop.destroy();\n\t\t\t\tthis.loop = null;\n\t\t\t}\n\n\t\t\tif (this.renderer !== null) {\n\t\t\t\tthis.renderer.destroy();\n\t\t\t\tthis.renderer = null;\n\t\t\t}\n\n\t\t\tif (this.stash !== null) {\n\t\t\t\tthis.stash = null;\n\t\t\t}\n\n\t\t\tif (this.storage !== null) {\n\t\t\t\tthis.storage = null;\n\t\t\t}\n\n\t\t\tif (this.viewport !== null) {\n\t\t\t\tthis.viewport.destroy();\n\t\t\t\tthis.viewport = null;\n\t\t\t}\n\n\n\t\t\treturn true;\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * CUSTOM API\n\t\t */\n\n\t\tsetState: function(id, state) {\n\n\t\t\tid    = typeof id === 'string'            ? id    : null;\n\t\t\tstate = lychee.interfaceof(_State, state) ? state : null;\n\n\n\t\t\tif (id !== null && state !== null) {\n\n\t\t\t\tthis.__states[id] = state;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tgetState: function(id) {\n\n\t\t\tid = typeof id === 'string' ? id : null;\n\n\n\t\t\tif (id !== null && this.__states[id] !== undefined) {\n\t\t\t\treturn this.__states[id];\n\t\t\t}\n\n\n\t\t\treturn null;\n\n\t\t},\n\n\t\tremoveState: function(id) {\n\n\t\t\tid = typeof id === 'string' ? id : null;\n\n\n\t\t\tif (id !== null && this.__states[id] !== undefined) {\n\n\t\t\t\tif (this.state === this.__states[id]) {\n\t\t\t\t\tthis.changeState(null);\n\t\t\t\t}\n\n\t\t\t\tdelete this.__states[id];\n\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tchangeState: function(id, data) {\n\n\t\t\tid   = typeof id === 'string' ? id   : null;\n\t\t\tdata = data !== undefined     ? data : null;\n\n\n\t\t\tlet that     = this;\n\t\t\tlet oldstate = this.state;\n\t\t\tlet newstate = this.__states[id] || null;\n\n\n\t\t\tif (newstate !== null) {\n\n\t\t\t\tif (oldstate !== null) {\n\n\t\t\t\t\toldstate.leave(function(result) {\n\t\t\t\t\t\tnewstate.enter(function(result) {\n\t\t\t\t\t\t\tthat.state = newstate;\n\t\t\t\t\t\t}, data);\n\t\t\t\t\t});\n\n\t\t\t\t} else {\n\n\t\t\t\t\tnewstate.enter(function(result) {\n\t\t\t\t\t\tthat.state = newstate;\n\t\t\t\t\t}, data);\n\n\t\t\t\t}\n\n\n\t\t\t\treturn true;\n\n\t\t\t} else {\n\n\t\t\t\tif (oldstate !== null) {\n\n\t\t\t\t\toldstate.leave(function(result) {\n\t\t\t\t\t\tthat.state = null;\n\t\t\t\t\t});\n\n\t\t\t\t}\n\n\n\t\t\t\tif (id === null) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t}\n\n\t};\n\n\n\treturn Composite;\n\n}"}},"lychee.event.Emitter":{"constructor":"lychee.Definition","arguments":[{"id":"lychee.event.Emitter","url":"/libraries/lychee/source/event/Emitter.js"}],"blob":{"attaches":{},"exports":"function(lychee, global, attachments) {\n\n\t/*\n\t * HELPERS\n\t */\n\n\tconst _bind = function(event, callback, scope, once) {\n\n\t\tif (event === null || callback === null) {\n\t\t\treturn false;\n\t\t}\n\n\n\t\tlet pass_event = false;\n\t\tlet pass_self  = false;\n\n\t\tlet modifier = event.charAt(0);\n\t\tif (modifier === '@') {\n\n\t\t\tevent      = event.substr(1, event.length - 1);\n\t\t\tpass_event = true;\n\n\t\t} else if (modifier === '#') {\n\n\t\t\tevent     = event.substr(1, event.length - 1);\n\t\t\tpass_self = true;\n\n\t\t}\n\n\n\t\tif (this.___events[event] === undefined) {\n\t\t\tthis.___events[event] = [];\n\t\t}\n\n\n\t\tthis.___events[event].push({\n\t\t\tpass_event: pass_event,\n\t\t\tpass_self:  pass_self,\n\t\t\tcallback:   callback,\n\t\t\tscope:      scope,\n\t\t\tonce:       once\n\t\t});\n\n\n\t\treturn true;\n\n\t};\n\n\tconst _relay = function(event, instance, once) {\n\n\t\tif (event === null || instance === null) {\n\t\t\treturn false;\n\t\t}\n\n\n\t\tlet callback = function() {\n\n\t\t\tlet event = arguments[0];\n\t\t\tlet data  = [];\n\n\t\t\tfor (let a = 1, al = arguments.length; a < al; a++) {\n\t\t\t\tdata.push(arguments[a]);\n\t\t\t}\n\n\t\t\tthis.trigger(event, data);\n\n\t\t};\n\n\n\t\tif (this.___events[event] === undefined) {\n\t\t\tthis.___events[event] = [];\n\t\t}\n\n\n\t\tthis.___events[event].push({\n\t\t\tpass_event: true,\n\t\t\tpass_self:  false,\n\t\t\tcallback:   callback,\n\t\t\tscope:      instance,\n\t\t\tonce:       once\n\t\t});\n\n\n\t\treturn true;\n\n\t};\n\n\tconst _trigger = function(event, data) {\n\n\t\tif (this.___events !== undefined && this.___events[event] !== undefined) {\n\n\t\t\tlet value = undefined;\n\n\t\t\tfor (let e = 0; e < this.___events[event].length; e++) {\n\n\t\t\t\tlet args  = [];\n\t\t\t\tlet entry = this.___events[event][e];\n\n\t\t\t\tif (entry.pass_event === true) {\n\n\t\t\t\t\targs.push(event);\n\n\t\t\t\t} else if (entry.pass_self === true) {\n\n\t\t\t\t\targs.push(this);\n\n\t\t\t\t}\n\n\n\t\t\t\tif (data !== null) {\n\t\t\t\t\targs.push.apply(args, data);\n\t\t\t\t}\n\n\n\t\t\t\tlet result = entry.callback.apply(entry.scope, args);\n\t\t\t\tif (result !== undefined) {\n\t\t\t\t\tvalue = result;\n\t\t\t\t}\n\n\n\t\t\t\tif (entry.once === true) {\n\n\t\t\t\t\tif (this.unbind(event, entry.callback, entry.scope) === true) {\n\t\t\t\t\t\te--;\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\tif (value !== undefined) {\n\t\t\t\treturn value;\n\t\t\t} else {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t}\n\n\n\t\treturn false;\n\n\t};\n\n\tconst _unbind = function(event, callback, scope) {\n\n\t\tlet found = false;\n\n\t\tif (event !== null) {\n\n\t\t\tfound = _unbind_event.call(this, event, callback, scope);\n\n\t\t} else {\n\n\t\t\tfor (event in this.___events) {\n\n\t\t\t\tlet result = _unbind_event.call(this, event, callback, scope);\n\t\t\t\tif (result === true) {\n\t\t\t\t\tfound = true;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\n\t\treturn found;\n\n\t};\n\n\tconst _unbind_event = function(event, callback, scope) {\n\n\t\tif (this.___events !== undefined && this.___events[event] !== undefined) {\n\n\t\t\tlet found = false;\n\n\t\t\tfor (let e = 0, el = this.___events[event].length; e < el; e++) {\n\n\t\t\t\tlet entry = this.___events[event][e];\n\n\t\t\t\tif ((callback === null || entry.callback === callback) && (scope === null || entry.scope === scope)) {\n\n\t\t\t\t\tfound = true;\n\n\t\t\t\t\tthis.___events[event].splice(e, 1);\n\t\t\t\t\tel--;\n\t\t\t\t\te--;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn found;\n\n\t\t}\n\n\n\t\treturn false;\n\n\t};\n\n\n\n\t/*\n\t * IMPLEMENTATION\n\t */\n\n\tconst Composite = function() {\n\n\t\tthis.___events   = {};\n\t\tthis.___timeline = {\n\t\t\tbind:    [],\n\t\t\ttrigger: [],\n\t\t\trelay:   [],\n\t\t\tunbind:  []\n\t\t};\n\n\t};\n\n\n\tComposite.prototype = {\n\n\t\t/*\n\t\t * ENTITY API\n\t\t */\n\n\t\tdeserialize: function(blob) {\n\n\t\t\tif (blob.events instanceof Object) {\n\t\t\t\t// TODO: deserialize events\n\t\t\t}\n\n\t\t\tif (blob.timeline instanceof Object) {\n\t\t\t\t// TODO: deserialize timeline\n\t\t\t}\n\n\t\t},\n\n\t\tserialize: function() {\n\n\t\t\tlet blob = {};\n\n\n\t\t\tif (Object.keys(this.___events).length > 0) {\n\n\t\t\t\tblob.events = {};\n\n\t\t\t\tfor (let event in this.___events) {\n\n\t\t\t\t\tblob.events[event] = [];\n\n\t\t\t\t\tfor (let e = 0, el = this.___events[event].length; e < el; e++) {\n\n\t\t\t\t\t\tlet entry = this.___events[event][e];\n\n\t\t\t\t\t\tblob.events[event].push({\n\t\t\t\t\t\t\tpass_event: entry.pass_event,\n\t\t\t\t\t\t\tpass_self:  entry.pass_self,\n\t\t\t\t\t\t\tcallback:   lychee.serialize(entry.callback),\n\t\t\t\t\t\t\t// scope:      lychee.serialize(entry.scope),\n\t\t\t\t\t\t\tscope:      null,\n\t\t\t\t\t\t\tonce:       entry.once\n\t\t\t\t\t\t});\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\tif (this.___timeline.bind.length > 0 || this.___timeline.trigger.length > 0 || this.___timeline.unbind.length > 0) {\n\n\t\t\t\tblob.timeline = {};\n\n\n\t\t\t\tif (this.___timeline.bind.length > 0) {\n\n\t\t\t\t\tblob.timeline.bind = [];\n\n\t\t\t\t\tfor (let b = 0, bl = this.___timeline.bind.length; b < bl; b++) {\n\t\t\t\t\t\tblob.timeline.bind.push(this.___timeline.bind[b]);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif (this.___timeline.trigger.length > 0) {\n\n\t\t\t\t\tblob.timeline.trigger = [];\n\n\t\t\t\t\tfor (let t = 0, tl = this.___timeline.trigger.length; t < tl; t++) {\n\t\t\t\t\t\tblob.timeline.trigger.push(this.___timeline.trigger[t]);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif (this.___timeline.unbind.length > 0) {\n\n\t\t\t\t\tblob.timeline.unbind = [];\n\n\t\t\t\t\tfor (let u = 0, ul = this.___timeline.unbind.length; u < ul; u++) {\n\t\t\t\t\t\tblob.timeline.unbind.push(this.___timeline.unbind[u]);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn {\n\t\t\t\t'constructor': 'lychee.event.Emitter',\n\t\t\t\t'arguments':   [],\n\t\t\t\t'blob':        Object.keys(blob).length > 0 ? blob : null\n\t\t\t};\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * CUSTOM API\n\t\t */\n\n\t\tbind: function(event, callback, scope, once) {\n\n\t\t\tevent    = typeof event === 'string'    ? event    : null;\n\t\t\tcallback = callback instanceof Function ? callback : null;\n\t\t\tscope    = scope !== undefined          ? scope    : this;\n\t\t\tonce     = once === true;\n\n\n\t\t\tlet result = _bind.call(this, event, callback, scope, once);\n\t\t\tif (result === true && lychee.debug === true) {\n\n\t\t\t\tthis.___timeline.bind.push({\n\t\t\t\t\ttime:     Date.now(),\n\t\t\t\t\tevent:    event,\n\t\t\t\t\tcallback: lychee.serialize(callback),\n\t\t\t\t\t// scope:    lychee.serialize(scope),\n\t\t\t\t\tscope:    null,\n\t\t\t\t\tonce:     once\n\t\t\t\t});\n\n\t\t\t}\n\n\n\t\t\treturn result;\n\n\t\t},\n\n\t\trelay: function(event, instance, once) {\n\n\t\t\tevent    = typeof event === 'string'               ? event    : null;\n\t\t\tinstance = lychee.interfaceof(Composite, instance) ? instance : null;\n\t\t\tonce     = once === true;\n\n\n\t\t\tlet result = _relay.call(this, event, instance, once);\n\t\t\tif (result === true && lychee.debug === true) {\n\n\t\t\t\tthis.___timeline.relay.push({\n\t\t\t\t\ttime:     Date.now(),\n\t\t\t\t\tevent:    event,\n\t\t\t\t\tinstance: lychee.serialize(instance),\n\t\t\t\t\tonce:     once\n\t\t\t\t});\n\n\t\t\t}\n\n\n\t\t\treturn result;\n\n\t\t},\n\n\t\ttrigger: function(event, data) {\n\n\t\t\tevent = typeof event === 'string' ? event : null;\n\t\t\tdata  = data instanceof Array     ? data  : null;\n\n\n\t\t\tlet result = _trigger.call(this, event, data);\n\t\t\tif (result === true && lychee.debug === true) {\n\n\t\t\t\tthis.___timeline.trigger.push({\n\t\t\t\t\ttime:  Date.now(),\n\t\t\t\t\tevent: event,\n\t\t\t\t\tdata:  lychee.serialize(data)\n\t\t\t\t});\n\n\t\t\t}\n\n\n\t\t\treturn result;\n\n\t\t},\n\n\t\tunbind: function(event, callback, scope) {\n\n\t\t\tevent    = typeof event === 'string'    ? event    : null;\n\t\t\tcallback = callback instanceof Function ? callback : null;\n\t\t\tscope    = scope !== undefined          ? scope    : null;\n\n\n\t\t\tlet result = _unbind.call(this, event, callback, scope);\n\t\t\tif (result === true) {\n\n\t\t\t\tthis.___timeline.unbind.push({\n\t\t\t\t\ttime:     Date.now(),\n\t\t\t\t\tevent:    event,\n\t\t\t\t\tcallback: lychee.serialize(callback),\n\t\t\t\t\t// scope:    lychee.serialize(scope)\n\t\t\t\t\tscope:    null\n\t\t\t\t});\n\n\t\t\t}\n\n\n\t\t\treturn result;\n\n\t\t}\n\n\t};\n\n\n\treturn Composite;\n\n}"}},"lychee.event.Flow":{"constructor":"lychee.Definition","arguments":[{"id":"lychee.event.Flow","url":"/libraries/lychee/source/event/Flow.js"}],"blob":{"attaches":{},"includes":["lychee.event.Emitter"],"exports":"function(lychee, global, attachments) {\n\n\tconst _Emitter = lychee.import('lychee.event.Emitter');\n\n\n\n\t/*\n\t * HELPERS\n\t */\n\n\tconst _process_recursive = function(event, result) {\n\n\t\tif (result === true) {\n\n\t\t\tif (this.___timeout === null) {\n\n\t\t\t\tthis.___timeout = setTimeout(function() {\n\n\t\t\t\t\tthis.___timeout = null;\n\t\t\t\t\t_process_stack.call(this);\n\n\t\t\t\t}.bind(this), 0);\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tthis.trigger('error', [ event ]);\n\n\t\t}\n\n\t};\n\n\tconst _process_stack = function() {\n\n\t\tlet entry = this.___stack.shift() || null;\n\t\tif (entry !== null) {\n\n\t\t\tlet data  = entry.data;\n\t\t\tlet event = entry.event;\n\t\t\tlet args  = [ event, [] ];\n\n\t\t\tif (data !== null) {\n\t\t\t\targs[1].push.apply(args[1], data);\n\t\t\t}\n\n\t\t\targs[1].push(_process_recursive.bind(this, event));\n\n\n\t\t\tlet result = this.trigger.apply(this, args);\n\t\t\tif (result === false) {\n\t\t\t\tthis.trigger('error', [ event ]);\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tthis.trigger('complete');\n\n\t\t}\n\n\t};\n\n\n\n\t/*\n\t * IMPLEMENTATION\n\t */\n\n\tconst Composite = function() {\n\n\t\tthis.___init    = false;\n\t\tthis.___stack   = [];\n\t\tthis.___timeout = null;\n\n\t\t_Emitter.call(this);\n\n\t};\n\n\n\tComposite.prototype = {\n\n\t\t/*\n\t\t * ENTITY API\n\t\t */\n\n\t\t// deserialize: function(blob) {},\n\n\t\tserialize: function() {\n\n\t\t\tlet data = _Emitter.prototype.serialize.call(this);\n\t\t\tdata['constructor'] = 'lychee.event.Flow';\n\n\t\t\tlet blob = (data['blob'] || {});\n\n\n\t\t\tif (this.___stack.length > 0) {\n\n\t\t\t\tblob.stack = [];\n\n\t\t\t\tfor (let s = 0, sl = this.___stack.length; s < sl; s++) {\n\n\t\t\t\t\tlet entry = this.___stack[s];\n\n\t\t\t\t\tblob.stack.push({\n\t\t\t\t\t\tevent: entry.event,\n\t\t\t\t\t\tdata:  lychee.serialize(entry.data)\n\t\t\t\t\t});\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\tdata['blob'] = Object.keys(blob).length > 0 ? blob : null;\n\n\n\t\t\treturn data;\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * CUSTOM API\n\t\t */\n\n\t\tthen: function(event, data) {\n\n\t\t\tevent = typeof event === 'string' ? event : null;\n\t\t\tdata  = data instanceof Array     ? data  : null;\n\n\n\t\t\tif (event !== null) {\n\n\t\t\t\tthis.___stack.push({\n\t\t\t\t\tevent: event,\n\t\t\t\t\tdata:  data\n\t\t\t\t});\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tinit: function() {\n\n\t\t\tif (this.___init === false) {\n\n\t\t\t\tthis.___init = true;\n\n\n\t\t\t\tif (this.___stack.length > 0) {\n\n\t\t\t\t\t_process_stack.call(this);\n\n\t\t\t\t\treturn true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t}\n\n\t};\n\n\n\treturn Composite;\n\n}"}},"game.state.Game":{"constructor":"lychee.Definition","arguments":[{"id":"game.state.Game","url":"/projects/flappy-bnn/source/state/Game.js"}],"blob":{"attaches":{"json":{"constructor":"Config","arguments":["/projects/flappy-bnn/source/state/Game.json"],"blob":{"buffer":"data:application/json;base64,ewoJImxheWVycyI6IHsKCQkiYmciOiB7CgkJCSJjb25zdHJ1Y3RvciI6ICJseWNoZWUuYXBwLkxheWVyIiwKCQkJImFyZ3VtZW50cyI6IFsKCQkJCXt9CgkJCV0sCgkJCSJibG9iIjogewoJCQkJImVudGl0aWVzIjogWwoJCQkJCXsKCQkJCQkJImNvbnN0cnVjdG9yIjogImdhbWUudWkuc3ByaXRlLkJhY2tncm91bmQiLAoJCQkJCQkiYXJndW1lbnRzIjogWwoJCQkJCQkJe30KCQkJCQkJXQoJCQkJCX0KCQkJCV0sCgkJCQkibWFwIjogewoJCQkJCSJiYWNrZ3JvdW5kIjogMAoJCQkJfQoJCQl9CgkJfSwKCQkiZ2FtZSI6IHsKCQkJImNvbnN0cnVjdG9yIjogImx5Y2hlZS5hcHAuTGF5ZXIiLAoJCQkiYXJndW1lbnRzIjogWwoJCQkJe30KCQkJXQoJCX0sCgkJImFpIjogewoJCQkiY29uc3RydWN0b3IiOiAibHljaGVlLmFpLkxheWVyIiwKCQkJImFyZ3VtZW50cyI6IFsKCQkJCXt9CgkJCV0KCQl9LAoJCSJ1aSI6IHsKCQkJImNvbnN0cnVjdG9yIjogImx5Y2hlZS51aS5MYXllciIsCgkJCSJhcmd1bWVudHMiOiBbCgkJCQl7fQoJCQldLAoJCQkiYmxvYiI6IHsKCQkJCSJlbnRpdGllcyI6IFsKCQkJCQl7CgkJCQkJCSJjb25zdHJ1Y3RvciI6ICJseWNoZWUudWkuZW50aXR5LkxhYmVsIiwKCQkJCQkJImFyZ3VtZW50cyI6IFsKCQkJCQkJCXsKCQkJCQkJCQkidmFsdWUiOiAiR2VuZXJhdGlvbiAxIC0gU2NvcmUgMCIsCgkJCQkJCQkJInBvc2l0aW9uIjogewoJCQkJCQkJCQkieCI6IDAsCgkJCQkJCQkJCSJ5IjogLTY0CgkJCQkJCQkJfQoJCQkJCQkJfQoJCQkJCQldCgkJCQkJfQoJCQkJXSwKCQkJCSJtYXAiOiB7CgkJCQkJImluZm8iOiAwCgkJCQl9CgkJCX0KCQl9Cgl9Cn0="}}},"requires":["lychee.ai.Layer","lychee.math.Mersenne","lychee.ui.entity.Label","game.ai.Agent","game.app.sprite.Goal","game.app.sprite.Plane","game.effect.Explosion","game.ui.sprite.Background"],"includes":["lychee.app.State"],"exports":"function(lychee, global, attachments) {\n\n\tconst _Agent      = lychee.import('game.ai.Agent');\n\tconst _Explosion  = lychee.import('game.effect.Explosion');\n\tconst _Goal       = lychee.import('game.app.sprite.Goal');\n\tconst _Mersenne   = lychee.import('lychee.math.Mersenne');\n\tconst _Plane      = lychee.import('game.app.sprite.Plane');\n\tconst _State      = lychee.import('lychee.app.State');\n\tconst _BLOB       = attachments[\"json\"].buffer;\n\tconst _POPULATION = 1;\n\n\n\n\t/*\n\t * HELPERS\n\t */\n\n\tconst _get_next_goal = function(plane) {\n\n\t\tlet distance = Infinity;\n\t\tlet found    = null;\n\t\tlet goals    = this.__cache.goals;\n\t\tlet px       = plane.position.x;\n\t\tlet py       = plane.position.y;\n\n\t\tfor (let g = 0, gl = goals.length; g < gl; g++) {\n\n\t\t\tlet goal = goals[g];\n\t\t\tlet gx   = goal.position.x;\n\t\t\tlet gy   = goal.position.y;\n\n\t\t\tlet dist = Math.sqrt(Math.pow(gx - px, 2) + Math.pow(gy - py, 2));\n\t\t\tif (dist < distance) {\n\t\t\t\tfound    = goal;\n\t\t\t\tdistance = dist;\n\t\t\t}\n\n\t\t}\n\n\t\treturn found;\n\n\t};\n\n\tconst _reset_game = function() {\n\n\t\tlet layer = this.getLayer('ai');\n\t\tlet stats = this.__statistics;\n\n\t\tlayer.trigger('epoche');\n\n\n\t\tstats.generation++;\n\t\tstats.highscore = Math.max(stats.highscore, stats.score);\n\t\tstats.score     = 0;\n\n\n\t\tthis.twister = new _Mersenne({\n\t\t\tseed: 1337\n\t\t});\n\n\n\t\t_reset_agents.call(this, true);\n\t\t_reset_goals.call(this, true);\n\t\t_reset_planes.call(this, true);\n\n\t};\n\n\tconst _reset_agents = function(complete) {\n\n\t\tcomplete = complete === true;\n\n\n\t\tlet agents = this.__cache.agents;\n\n\t\tfor (let a = 0, al = agents.length; a < al; a++) {\n\n\t\t\tlet agent = agents[a];\n\n\t\t\tagent.fitness = 0;\n\n\t\t}\n\n\t};\n\n\tconst _reset_goals = function(complete) {\n\n\t\tcomplete = complete === true;\n\n\n\t\tlet goals   = this.__cache.goals;\n\t\tlet twister = this.twister;\n\t\tlet width   = this.renderer.width;\n\t\tlet height  = this.renderer.height;\n\n\t\tlet offsetx =  1 / 2 * width;\n\t\tlet offsety = -1 / 2 * height + 128;\n\n\t\tif (complete === true) {\n\n\t\t\tfor (let g = 0, gl = goals.length; g < gl; g++) {\n\t\t\t\tgoals[g].position.x = -4096;\n\t\t\t}\n\n\t\t}\n\n\t\tfor (let g = 0, gl = goals.length; g < gl; g++) {\n\t\t\toffsetx = Math.max(offsetx, goals[g].position.x);\n\t\t}\n\n\n\t\tfor (let g = 0, gl = goals.length; g < gl; g++) {\n\n\t\t\tlet goal = goals[g];\n\t\t\tif (goal.position.x < -1 / 2 * width) {\n\t\t\t\tgoal.position.x = offsetx;\n\t\t\t\tgoal.position.y = offsety + (twister.random() * (height - 256)) | 0;\n\t\t\t\toffsetx += 256;\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tconst _reset_planes = function(complete) {\n\n\t\tcomplete = complete === true;\n\n\n\t\tlet planes = this.__cache.planes;\n\t\tlet width  = this.renderer.width;\n\n\t\tif (complete === true) {\n\n\t\t\tfor (let p = 0, pl = planes.length; p < pl; p++) {\n\n\t\t\t\tlet plane = planes[p];\n\n\t\t\t\tplane.position.x = -1 / 2 * width + plane.width;\n\t\t\t\tplane.position.y = 0;\n\t\t\t\tplane.velocity.y = 0;\n\t\t\t\tplane.alive      = true;\n\t\t\t\tplane.__canflap  = true;\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\n\t/*\n\t * IMPLEMENTATION\n\t */\n\n\tconst Composite = function(main) {\n\n\t\t_State.call(this, main);\n\n\n\t\tthis.twister = new _Mersenne({\n\t\t\tseed: 1337\n\t\t});\n\n\n\t\tthis.__cache = {\n\t\t\tagents:     [],\n\t\t\tbackground: null,\n\t\t\tgoals:      [],\n\t\t\tinfo:       null,\n\t\t\tplanes:     []\n\t\t};\n\n\t\tthis.__statistics = {\n\t\t\tgeneration: 1,\n\t\t\tscore:      0,\n\t\t\thighscore:  0\n\t\t};\n\n\n\t\tthis.deserialize(_BLOB);\n\n\n\n\t\t/*\n\t\t * INITIALIZATION\n\t\t */\n\n\t\tlet viewport = this.viewport;\n\t\tif (viewport !== null) {\n\n\t\t\tviewport.bind('reshape', function(orientation, rotation) {\n\n\t\t\t\tlet renderer = this.renderer;\n\t\t\t\tif (renderer !== null) {\n\n\t\t\t\t\tlet entity = null;\n\t\t\t\t\tlet width  = renderer.width;\n\t\t\t\t\tlet height = renderer.height;\n\n\n\t\t\t\t\tentity = this.query('bg > background');\n\t\t\t\t\tentity.trigger('reshape', [ null, null, width, height ]);\n\t\t\t\t\tthis.__cache.background = entity;\n\n\t\t\t\t\tentity = this.query('ui > info');\n\t\t\t\t\tentity.setPosition({\n\t\t\t\t\t\ty: -1 / 2 * height + 32\n\t\t\t\t\t});\n\t\t\t\t\tthis.__cache.info = entity;\n\n\t\t\t\t}\n\n\t\t\t}, this);\n\n\t\t}\n\n\t};\n\n\n\tComposite.prototype = {\n\n\t\t/*\n\t\t * ENTITY API\n\t\t */\n\n\t\tserialize: function() {\n\n\t\t\tlet data = _State.prototype.serialize.call(this);\n\t\t\tdata['constructor'] = 'game.state.Game';\n\n\n\t\t\treturn data;\n\n\t\t},\n\n\t\tdeserialize: function(blob) {\n\n\t\t\t_State.prototype.deserialize.call(this, blob);\n\n\n\t\t\tlet cache    = this.__cache;\n\t\t\tlet renderer = this.renderer;\n\t\t\tlet layer    = this.getLayer('ai');\n\n\t\t\tif (renderer !== null && layer !== null) {\n\n\t\t\t\tlet limit = {\n\t\t\t\t\tx: renderer.width,\n\t\t\t\t\ty: renderer.height,\n\t\t\t\t\tz: 1\n\t\t\t\t};\n\n\n\t\t\t\tlayer = this.getLayer('game');\n\n\t\t\t\tfor (let p = 0; p < _POPULATION; p++) {\n\t\t\t\t\tlet plane = new _Plane();\n\t\t\t\t\tcache.planes.push(plane);\n\t\t\t\t\tlayer.addEntity(plane);\n\t\t\t\t}\n\n\t\t\t\t_reset_planes.call(this);\n\n\n\t\t\t\tfor (let g = 0; g < (renderer.width / 256); g++) {\n\t\t\t\t\tlet goal = new _Goal();\n\t\t\t\t\tcache.goals.push(goal);\n\t\t\t\t\tlayer.addEntity(goal);\n\t\t\t\t}\n\n\t\t\t\t_reset_goals.call(this);\n\n\n\t\t\t\tlayer = this.getLayer('ai');\n\t\t\t\tlayer.unbind('epoche');\n\n\t\t\t\tfor (let a = 0; a < _POPULATION; a++) {\n\n\t\t\t\t\tlet agent = new _Agent({\n\t\t\t\t\t\tplane: cache.planes[a],\n\t\t\t\t\t\tgoal:  cache.goals[0],\n\t\t\t\t\t\tlimit: limit\n\t\t\t\t\t});\n\t\t\t\t\tlayer.addAgent(agent);\n\n\t\t\t\t}\n\n\t\t\t\tthis.__cache.agents = layer.agents;\n\n\t\t\t}\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * CUSTOM API\n\t\t */\n\n\t\tenter: function(oncomplete) {\n\n\t\t\toncomplete = oncomplete instanceof Function ? oncomplete : null;\n\n\n\t\t\t_reset_game.call(this);\n\n\n\t\t\tif (oncomplete !== null) {\n\t\t\t\toncomplete(true);\n\t\t\t}\n\n\n\t\t\treturn true;\n\n\t\t},\n\n\t\tleave: function(oncomplete) {\n\n\t\t\toncomplete = oncomplete instanceof Function ? oncomplete : null;\n\n\n\t\t\tif (oncomplete !== null) {\n\t\t\t\toncomplete(true);\n\t\t\t}\n\n\n\t\t\treturn true;\n\n\t\t},\n\n\t\tupdate: function(clock, delta) {\n\n\t\t\tfor (let id in this.__layers) {\n\n\t\t\t\tif (id === 'ai') continue;\n\n\t\t\t\tlet layer = this.__layers[id];\n\t\t\t\tif (layer.visible === false) continue;\n\n\t\t\t\tlayer.update(clock, delta);\n\n\t\t\t}\n\n\n\t\t\tlet cache  = this.__cache;\n\t\t\tlet stats  = this.__statistics;\n\t\t\tlet width  = this.renderer.width;\n\t\t\tlet height = this.renderer.height;\n\n\n\t\t\tlet background = cache.background;\n\t\t\tif (background !== null) {\n\n\t\t\t\tlet origin = background.origin.x - (delta / 1000) * 128;\n\t\t\t\tbackground.origin.x  = (origin % background.width) | 0;\n\t\t\t\tbackground.__isDirty = true;\n\n\t\t\t}\n\n\n\t\t\tlet is_alive = false;\n\t\t\tlet agents   = cache.agents;\n\t\t\tlet goals    = cache.goals;\n\t\t\tlet planes   = cache.planes;\n\n\t\t\tlet next_goal = _get_next_goal.call(this, planes[0]);\n\t\t\tif (next_goal !== null) {\n\n\t\t\t\tfor (let p = 0, pl = planes.length; p < pl; p++) {\n\n\t\t\t\t\tlet plane = planes[p];\n\t\t\t\t\tlet agent = agents[p] || null;\n\t\t\t\t\tif (agent !== null) {\n\t\t\t\t\t\tagent._control.target = next_goal;\n\t\t\t\t\t\tagent._sensor.entity  = next_goal;\n\t\t\t\t\t\tagent.update();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (plane.alive === true) {\n\n\t\t\t\t\t\tif (plane.position.y > 1 / 2 * height || next_goal.collidesWith(plane) === true) {\n\n\t\t\t\t\t\t\tif (agent !== null) {\n\t\t\t\t\t\t\t\tagent.punish(1);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (plane.effects.length === 0) {\n\t\t\t\t\t\t\t\tplane.addEffect(new _Explosion({\n\t\t\t\t\t\t\t\t\tposition: plane.position\n\t\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tplane.alive = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif (plane.alive === true) {\n\t\t\t\t\t\tis_alive = true;\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\tif (is_alive === true) {\n\n\t\t\t\tstats.score += ((delta / 1000) * 256) | 0;\n\n\n\t\t\t\tlet info = this.__cache.info;\n\t\t\t\tif (info !== null) {\n\t\t\t\t\tinfo.setValue('Generation ' + stats.generation + ' - Score ' + stats.score);\n\t\t\t\t}\n\n\t\t\t\tfor (let g = 0, gl = goals.length; g < gl; g++) {\n\n\t\t\t\t\tif (goals[g].position.x < -1 / 2 * width) {\n\t\t\t\t\t\t_reset_goals.call(this);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t_reset_game.call(this);\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\n\treturn Composite;\n\n}"}},"lychee.ai.Layer":{"constructor":"lychee.Definition","arguments":[{"id":"lychee.ai.Layer","url":"/libraries/lychee/source/ai/Layer.js"}],"blob":{"attaches":{},"requires":["lychee.ai.Agent"],"includes":["lychee.event.Emitter"],"exports":"function(lychee, global, attachments) {\n\n\tconst _Agent   = lychee.import('lychee.ai.Agent');\n\tconst _Emitter = lychee.import('lychee.event.Emitter');\n\n\n\n\t/*\n\t * HELPERS\n\t */\n\n\tconst _validate_agent = function(agent) {\n\n\t\tif (agent instanceof Object) {\n\n\t\t\tif (\n\t\t\t\ttypeof agent.update === 'function'\n\t\t\t\t&& typeof agent.crossover === 'function'\n\t\t\t\t&& typeof agent.fitness === 'number'\n\t\t\t\t&& typeof agent.reward === 'function'\n\t\t\t\t&& typeof agent.punish === 'function'\n\t\t\t) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t}\n\n\n\t\treturn false;\n\n\t};\n\n\n\n\t/*\n\t * IMPLEMENTATION\n\t */\n\n\tconst Composite = function(data) {\n\n\t\tlet states = Object.assign({}, data);\n\n\n\t\t// XXX: Keep Layer API compatibility\n\t\tthis.width    = 0;\n\t\tthis.height   = 0;\n\t\tthis.depth    = 0;\n\t\tthis.radius   = 0;\n\t\tthis.alpha    = 1;\n\t\tthis.entities = [];\n\t\tthis.position = { x: 0, y: 0, z: 0 };\n\t\tthis.visible  = true;\n\n\n\t\tthis.agents = [];\n\n\t\tthis.__map = {};\n\n\n\t\tthis.setAgents(states.agents);\n\n\n\t\t_Emitter.call(this);\n\n\t\tstates = null;\n\n\t};\n\n\n\tComposite.prototype = {\n\n\t\t/*\n\t\t * ENTITY API\n\t\t */\n\n\t\t// deserialize: function(blob) {},\n\n\t\tserialize: function() {\n\n\t\t\tlet data = _Emitter.prototype.serialize.call(this);\n\t\t\tdata['constructor'] = 'lychee.ai.Layer';\n\n\t\t\tlet states = {};\n\t\t\tlet blob   = (data['blob'] || {});\n\n\n\t\t\tif (this.agents.length > 0) {\n\t\t\t\tblob.agents = this.agents.map(lychee.serialize);\n\t\t\t}\n\n\t\t\tif (blob.agents instanceof Array && Object.keys(this.__map).length > 0) {\n\n\t\t\t\tblob.map = Object.map(this.__map, function(val, key) {\n\n\t\t\t\t\tlet index = this.agents.indexOf(val);\n\t\t\t\t\tif (index !== -1) {\n\t\t\t\t\t\treturn index;\n\t\t\t\t\t}\n\n\n\t\t\t\t\treturn undefined;\n\n\t\t\t\t}, this);\n\n\t\t\t}\n\n\n\t\t\tdata['arguments'][0] = states;\n\t\t\tdata['blob']         = Object.keys(blob).length > 0 ? blob : null;\n\n\n\t\t\treturn data;\n\n\t\t},\n\n\t\trender: function(renderer, offsetX, offsetY) {\n\t\t\t// XXX: Do nothing\n\t\t},\n\n\t\tupdate: function(clock, delta) {\n\n\t\t\tlet agents   = this.agents;\n\t\t\tlet is_alive = false;\n\n\t\t\tfor (let a = 0, al = agents.length; a < al; a++) {\n\n\t\t\t\tlet agent = agents[a];\n\t\t\t\tif (agent.alive === true) {\n\t\t\t\t\tagent.update(clock, delta);\n\t\t\t\t\tis_alive = true;\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\tif (is_alive === false) {\n\t\t\t\tthis.trigger('epoche');\n\t\t\t}\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * CUSTOM API\n\t\t */\n\n\t\taddAgent: function(agent) {\n\n\t\t\tagent = _validate_agent(agent) === true ? agent : null;\n\n\n\t\t\tif (agent !== null) {\n\n\t\t\t\tlet index = this.agents.indexOf(agent);\n\t\t\t\tif (index === -1) {\n\n\t\t\t\t\tthis.agents.push(agent);\n\n\n\t\t\t\t\treturn true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetAgent: function(id, agent) {\n\n\t\t\tid    = typeof id === 'string'          ? id    : null;\n\t\t\tagent = _validate_agent(agent) === true ? agent : null;\n\n\n\t\t\tif (id !== null && agent !== null && this.__map[id] === undefined) {\n\n\t\t\t\tthis.__map[id] = agent;\n\n\t\t\t\tlet result = this.addAgent(agent);\n\t\t\t\tif (result === true) {\n\t\t\t\t\treturn true;\n\t\t\t\t} else {\n\t\t\t\t\tdelete this.__map[id];\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tgetAgent: function(id) {\n\n\t\t\tid = typeof id === 'string' ? id : null;\n\n\n\t\t\tlet found = null;\n\n\n\t\t\tif (id !== null) {\n\n\t\t\t\tlet num = parseInt(id, 10);\n\n\t\t\t\tif (this.__map[id] !== undefined) {\n\t\t\t\t\tfound = this.__map[id];\n\t\t\t\t} else if (isNaN(num) === false) {\n\t\t\t\t\tfound = this.agents[num] || null;\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn found;\n\n\t\t},\n\n\t\tremoveAgent: function(agent) {\n\n\t\t\tagent = _validate_agent(agent) === true ? agent : null;\n\n\n\t\t\tif (agent !== null) {\n\n\t\t\t\tlet found = false;\n\n\t\t\t\tlet index = this.agents.indexOf(agent);\n\t\t\t\tif (index !== -1) {\n\n\t\t\t\t\tthis.agents.splice(index, 1);\n\t\t\t\t\tfound = true;\n\n\t\t\t\t}\n\n\n\t\t\t\tfor (let id in this.__map) {\n\n\t\t\t\t\tif (this.__map[id] === agent) {\n\n\t\t\t\t\t\tdelete this.__map[id];\n\t\t\t\t\t\tfound = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\n\t\t\t\treturn found;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetAgents: function(agents) {\n\n\t\t\tagents = agents instanceof Array ? agents : null;\n\n\n\t\t\tlet all = true;\n\n\t\t\tif (agents !== null) {\n\n\t\t\t\tfor (let a = 0, al = agents.length; a < al; a++) {\n\n\t\t\t\t\tlet result = this.addAgent(agents[a]);\n\t\t\t\t\tif (result === false) {\n\t\t\t\t\t\tall = false;\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn all;\n\n\t\t},\n\n\t\tremoveAgents: function() {\n\n\t\t\tlet agents = this.agents;\n\n\t\t\tfor (let a = 0, al = agents.length; a < al; a++) {\n\n\t\t\t\tthis.removeAgent(agents[a]);\n\n\t\t\t\tal--;\n\t\t\t\ta--;\n\n\t\t\t}\n\n\t\t\treturn true;\n\n\t\t},\n\n\t\tsetPosition: function(position) {\n\n\t\t\tposition = position instanceof Object ? position : null;\n\n\n\t\t\tif (position !== null) {\n\n\t\t\t\tthis.position.x = typeof position.x === 'number' ? position.x : this.position.x;\n\t\t\t\tthis.position.y = typeof position.y === 'number' ? position.y : this.position.y;\n\t\t\t\tthis.position.z = typeof position.z === 'number' ? position.z : this.position.z;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t}\n\n\t};\n\n\n\treturn Composite;\n\n}"}},"lychee.math.Mersenne":{"constructor":"lychee.Definition","arguments":[{"id":"lychee.math.Mersenne","url":"/libraries/lychee/source/math/Mersenne.js"}],"blob":{"attaches":{},"exports":"function(lychee, global, attachments) {\n\n\tconst _UPPER_MASK = 0x80000000;\n\tconst _LOWER_MASK = 0x7fffffff;\n\tconst _XOR_MATRIX = new Array(0x0, 0x9908b0df);\n\n\n\n\t/*\n\t * HELPERS\n\t */\n\n\tconst _initialize = function() {\n\n\t\tlet index   = 1;\n\t\tlet N       = this.N;\n\t\tlet seed    = this.seed;\n\t\tlet twister = this.twister;\n\n\n\t\ttwister[0] = seed >>> 0;\n\n\n\t\twhile (index < N) {\n\n\t\t\tlet value = twister[index - 1] ^ (twister[index - 1] >>> 30);\n\n\t\t\ttwister[index] = (((((value & 0xffff0000) >>> 16) * 1812433253) << 16) + (value & 0x0000ffff) * 1812433253) + index;\n\t\t\ttwister[index] >>>= 0;\n\n\t\t\tindex++;\n\n\t\t}\n\n\t\tthis.index = index;\n\n\t};\n\n\tconst _random_int32 = function() {\n\n\t\tlet index   = this.index;\n\t\tlet twister = this.twister;\n\t\tlet value   = 0;\n\t\tlet M       = this.M;\n\t\tlet N       = this.N;\n\n\n\t\tif (index >= N) {\n\n\t\t\tlet i = 0;\n\n\t\t\tif (index === N + 1) {\n\t\t\t\t_initialize.call(this, 5489);\n\t\t\t}\n\n\n\t\t\twhile (i < N - M) {\n\n\t\t\t\tvalue      = (twister[i] & _UPPER_MASK) | (twister[i + 1] & _LOWER_MASK);\n\t\t\t\ttwister[i] = twister[i + M] ^ (value >>> 1) ^ _XOR_MATRIX[value & 0x1];\n\n\t\t\t\ti++;\n\n\t\t\t}\n\n\t\t\twhile (i < N - 1) {\n\n\t\t\t\tvalue      = (twister[i] & _UPPER_MASK) | (twister[i + 1] & _LOWER_MASK);\n\t\t\t\ttwister[i] = twister[i + (M - N)] ^ (value >>> 1) ^ _XOR_MATRIX[value & 0x1];\n\n\t\t\t\ti++;\n\n\t\t\t}\n\n\n\t\t\tvalue          = (twister[N - 1] & _UPPER_MASK) | (twister[0] & _LOWER_MASK);\n\t\t\ttwister[N - 1] = twister[M - 1] ^ (value >>> 1) ^ _XOR_MATRIX[value & 0x1];\n\n\t\t\tthis.index = 0;\n\n\t\t}\n\n\n\t\tvalue = twister[this.index++];\n\n\t\tvalue ^= (value >>> 11);\n\t\tvalue ^= (value  <<  7) & 0x9d2c5680;\n\t\tvalue ^= (value  << 15) & 0xefc60000;\n\t\tvalue ^= (value >>> 18);\n\n\n\t\treturn value >>> 0;\n\n\t};\n\n\n\n\t/*\n\t * IMPLEMENTATION\n\t */\n\n\tconst Composite = function(data) {\n\n\t\tlet states = Object.assign({}, data);\n\n\n\t\tthis.N = 624;\n\t\tthis.M = 397;\n\n\t\tthis.twister = new Array(this.N);\n\t\tthis.index   = this.N + 1;\n\t\tthis.seed    = (Math.random() * Number.MAX_SAFE_INTEGER) | 0;\n\n\n\t\tthis.setSeed(states.seed);\n\n\t\t_initialize.call(this);\n\n\t\tstates = null;\n\n\t};\n\n\n\tComposite.prototype = {\n\n\t\t/*\n\t\t * ENTITY API\n\t\t */\n\n\t\t// deserialize: function(blob) {},\n\n\t\tserialize: function() {\n\n\t\t\tlet states = {};\n\n\n\t\t\tif (this.seed !== 0) states.seed = this.seed;\n\n\n\t\t\treturn {\n\t\t\t\t'constructor': 'lychee.math.Mersenne',\n\t\t\t\t'arguments':   [ states ],\n\t\t\t\t'blob':        null\n\t\t\t};\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * CUSTOM API\n\t\t */\n\n\t\trandom: function() {\n\n\t\t\treturn (_random_int32.call(this) * (1.0 / 4294967296.0));\n\n\t\t},\n\n\t\tsetSeed: function(seed) {\n\n\t\t\tseed = typeof seed === 'number' ? (seed | 0) : null;\n\n\n\t\t\tif (seed !== null) {\n\n\t\t\t\tthis.seed = seed;\n\t\t\t\t_initialize.call(this);\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t}\n\n\t};\n\n\n\treturn Composite;\n\n}"}},"game.ai.Agent":{"constructor":"lychee.Definition","arguments":[{"id":"game.ai.Agent","url":"/projects/flappy-bnn/source/ai/Agent.js"}],"blob":{"attaches":{},"requires":["lychee.ai.enn.Brain","game.policy.Control","game.policy.Position"],"includes":["lychee.ai.enn.Agent"],"exports":"function(lychee, global, attachments) {\n\n\tconst _Agent    = lychee.import('lychee.ai.enn.Agent');\n\tconst _Control  = lychee.import('game.policy.Control');\n\tconst _Position = lychee.import('game.policy.Position');\n\tconst _Brain    = lychee.import('lychee.ai.enn.Brain');\n\n\n\n\t/*\n\t * IMPLEMENTATION\n\t */\n\n\tconst Composite = function(data) {\n\n\t\tlet states = Object.assign({}, data);\n\n\n\t\tthis._control = new _Control({\n\t\t\tentity: states.plane,\n\t\t\ttarget: states.goal\n\t\t});\n\n\t\tthis._sensor = new _Position({\n\t\t\tentity: states.goal,\n\t\t\tlimit:  states.limit\n\t\t});\n\n\n\t\tstates.brain = new _Brain({\n\t\t\tsensors:  [\n\t\t\t\tnew _Position({\n\t\t\t\t\tentity: states.plane,\n\t\t\t\t\tlimit:  states.limit\n\t\t\t\t}),\n\t\t\t\tthis._sensor\n\t\t\t],\n\t\t\tcontrols: [\n\t\t\t\tthis._control\n\t\t\t]\n\t\t});\n\n\n\t\t_Agent.call(this, states);\n\n\t\tstates = null;\n\n\t};\n\n\n\tComposite.prototype = {\n\n\t\t/*\n\t\t * ENTITY API\n\t\t */\n\n\t\t// deserialize: function(blob) {},\n\n\t\tserialize: function() {\n\n\t\t\tlet data = _Agent.prototype.serialize.call(this);\n\t\t\tdata['constructor'] = 'game.ai.Agent';\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * CUSTOM API\n\t\t */\n\n\t\treward: function(diff) {\n\n\t\t\tdiff = typeof diff === 'number' ? (diff | 0) : 1;\n\n\t\t\tlet training = {\n\t\t\t\titerations: diff,\n\t\t\t\tinputs:     this.brain._inputs.slice(0),\n\t\t\t\toutputs:    this._control.sensor()\n\t\t\t};\n\n\t\t\treturn _Agent.prototype.reward.call(this, diff, training);\n\n\t\t},\n\n\t\tpunish: function(diff) {\n\n\t\t\tdiff = typeof diff === 'number' ? (diff | 0) : 1;\n\n\n\t\t\tlet training = {\n\t\t\t\titerations: diff,\n\t\t\t\tinputs:     this.brain._inputs.slice(0),\n\t\t\t\toutputs:    this._control.sensor()\n\t\t\t};\n\n\t\t\treturn _Agent.prototype.punish.call(this, diff, training);\n\n\t\t}\n\n\t};\n\n\n\treturn Composite;\n\n}"}},"lychee.Storage":{"constructor":"lychee.Definition","arguments":[{"id":"lychee.Storage","url":"/libraries/lychee/source/platform/html/Storage.js"}],"blob":{"attaches":{},"tags":{"platform":"html"},"includes":["lychee.event.Emitter"],"supports":"function(lychee, global) {\n\n\tif (\n\t\ttypeof global.Storage !== 'undefined'\n\t\t&& typeof global.localStorage === 'object'\n\t\t&& typeof global.sessionStorage === 'object'\n\t) {\n\t\treturn true;\n\t}\n\n\n\treturn true;\n\n}","exports":"function(lychee, global, attachments) {\n\n\tlet   _id         = 0;\n\tconst _Emitter    = lychee.import('lychee.event.Emitter');\n\tconst _JSON       = {\n\t\tencode: JSON.stringify,\n\t\tdecode: JSON.parse\n\t};\n\tlet   _PERSISTENT = null;\n\tlet   _TEMPORARY  = null;\n\n\n\n\t/*\n\t * FEATURE DETECTION\n\t */\n\n\t(function() {\n\n\t\tlet local   = false;\n\t\tlet session = false;\n\n\n\t\ttry {\n\n\t\t\tlocal = 'localStorage' in global;\n\n\t\t\tif (local === true) {\n\t\t\t\t_PERSISTENT = global.localStorage;\n\t\t\t}\n\n\t\t\tsession = 'sessionStorage' in global;\n\n\t\t\tif (session === true) {\n\t\t\t\t_TEMPORARY = global.sessionStorage;\n\t\t\t}\n\n\t\t} catch (err) {\n\n\t\t\tlocal   = false;\n\t\t\tsession = true;\n\n\t\t\t_PERSISTENT = null;\n\t\t\t_TEMPORARY  = {\n\n\t\t\t\tdata: {},\n\n\t\t\t\tgetItem: function(id) {\n\t\t\t\t\treturn this.data[id] || null;\n\t\t\t\t},\n\n\t\t\t\tsetItem: function(id, data) {\n\t\t\t\t\tthis.data[id] = data;\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t}\n\n\n\t\tif (lychee.debug === true) {\n\n\t\t\tlet methods = [];\n\n\t\t\tif (local)   methods.push('Persistent');\n\t\t\tif (session) methods.push('Temporary');\n\n\t\t\tif (methods.length === 0) {\n\t\t\t\tconsole.error('lychee.Storage: Supported methods are NONE');\n\t\t\t} else {\n\t\t\t\tconsole.info('lychee.Storage: Supported methods are ' + methods.join(', '));\n\t\t\t}\n\n\t\t}\n\n\t})();\n\n\n\n\t/*\n\t * HELPERS\n\t */\n\n\tconst _read_storage = function(silent) {\n\n\t\tsilent = silent === true;\n\n\n\t\tlet id   = this.id;\n\t\tlet blob = null;\n\n\n\t\tlet type = this.type;\n\t\tif (type === Composite.TYPE.persistent) {\n\n\t\t\tif (_PERSISTENT !== null) {\n\t\t\t\tblob = JSON.parse(_PERSISTENT.getItem(id));\n\t\t\t}\n\n\t\t} else if (type === Composite.TYPE.temporary) {\n\n\t\t\tif (_TEMPORARY !== null) {\n\t\t\t\tblob = JSON.parse(_TEMPORARY.getItem(id));\n\t\t\t}\n\n\t\t}\n\n\n\t\tif (blob !== null) {\n\n\t\t\tif (this.model === null) {\n\n\t\t\t\tif (blob['@model'] instanceof Object) {\n\t\t\t\t\tthis.model = blob['@model'];\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\tif (Object.keys(this.__objects).length !== Object.keys(blob['@objects']).length) {\n\n\t\t\t\tif (blob['@objects'] instanceof Object) {\n\n\t\t\t\t\tthis.__objects = {};\n\n\t\t\t\t\tfor (let o in blob['@objects']) {\n\t\t\t\t\t\tthis.__objects[o] = blob['@objects'][o];\n\t\t\t\t\t}\n\n\n\t\t\t\t\tif (silent === false) {\n\t\t\t\t\t\tthis.trigger('sync', [ this.__objects ]);\n\t\t\t\t\t}\n\n\n\t\t\t\t\treturn true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\n\t\treturn false;\n\n\t};\n\n\tconst _write_storage = function(silent) {\n\n\t\tsilent = silent === true;\n\n\n\t\tlet operations = this.__operations;\n\t\tif (operations.length !== 0) {\n\n\t\t\twhile (operations.length > 0) {\n\n\t\t\t\tlet operation = operations.shift();\n\t\t\t\tif (operation.type === 'update') {\n\n\t\t\t\t\tif (this.__objects[operation.id] !== operation.object) {\n\t\t\t\t\t\tthis.__objects[operation.id] = operation.object;\n\t\t\t\t\t}\n\n\t\t\t\t} else if (operation.type === 'remove') {\n\n\t\t\t\t\tif (this.__objects[operation.id] !== undefined) {\n\t\t\t\t\t\tdelete this.__objects[operation.id];\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\tlet id   = this.id;\n\t\t\tlet blob = {\n\t\t\t\t'@model':   this.model,\n\t\t\t\t'@objects': this.__objects\n\t\t\t};\n\n\n\t\t\tlet type = this.type;\n\t\t\tif (type === Composite.TYPE.persistent) {\n\n\t\t\t\tif (_PERSISTENT !== null) {\n\t\t\t\t\t_PERSISTENT.setItem(id, _JSON.encode(blob));\n\t\t\t\t}\n\n\t\t\t} else if (type === Composite.TYPE.temporary) {\n\n\t\t\t\tif (_TEMPORARY !== null) {\n\t\t\t\t\t_TEMPORARY.setItem(id, _JSON.encode(blob));\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\tif (silent === false) {\n\t\t\t\tthis.trigger('sync', [ this.__objects ]);\n\t\t\t}\n\n\n\t\t\treturn true;\n\n\t\t}\n\n\n\t\treturn false;\n\n\t};\n\n\n\n\t/*\n\t * IMPLEMENTATION\n\t */\n\n\tconst Composite = function(data) {\n\n\t\tlet states = Object.assign({}, data);\n\n\n\t\tthis.id    = 'lychee-Storage-' + _id++;\n\t\tthis.model = {};\n\t\tthis.type  = Composite.TYPE.persistent;\n\n\t\tthis.__objects    = {};\n\t\tthis.__operations = [];\n\n\n\t\tthis.setId(states.id);\n\t\tthis.setModel(states.model);\n\t\tthis.setType(states.type);\n\n\n\t\t_Emitter.call(this);\n\n\t\tstates = null;\n\n\n\n\t\t/*\n\t\t * INITIALIZATION\n\t\t */\n\n\t\t_read_storage.call(this);\n\n\t};\n\n\n\tComposite.TYPE = {\n\t\tpersistent: 0,\n\t\ttemporary:  1\n\t};\n\n\n\tComposite.prototype = {\n\n\t\t/*\n\t\t * ENTITY API\n\t\t */\n\n\t\tsync: function(silent) {\n\n\t\t\tsilent = silent === true;\n\n\n\t\t\tlet result = false;\n\n\n\t\t\tif (this.__operations.length > 0) {\n\t\t\t\tresult = _write_storage.call(this, silent);\n\t\t\t} else {\n\t\t\t\tresult = _read_storage.call(this, silent);\n\t\t\t}\n\n\n\t\t\treturn result;\n\n\t\t},\n\n\t\tdeserialize: function(blob) {\n\n\t\t\tif (blob.objects instanceof Object) {\n\n\t\t\t\tthis.__objects = {};\n\n\t\t\t\tfor (let o in blob.objects) {\n\n\t\t\t\t\tlet object = blob.objects[o];\n\n\t\t\t\t\tif (lychee.interfaceof(this.model, object)) {\n\t\t\t\t\t\tthis.__objects[o] = object;\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t},\n\n\t\tserialize: function() {\n\n\t\t\tlet data = _Emitter.prototype.serialize.call(this);\n\t\t\tdata['constructor'] = 'lychee.Storage';\n\n\t\t\tlet states = {};\n\t\t\tlet blob   = (data['blob'] || {});\n\n\n\t\t\tif (this.id.startsWith('lychee-Storage-') === false) states.id    = this.id;\n\t\t\tif (Object.keys(this.model).length !== 0)            states.model = this.model;\n\t\t\tif (this.type !== Composite.TYPE.persistent)         states.type  = this.type;\n\n\n\t\t\tif (Object.keys(this.__objects).length > 0) {\n\n\t\t\t\tblob.objects = {};\n\n\t\t\t\tfor (let o in this.__objects) {\n\n\t\t\t\t\tlet object = this.__objects[o];\n\t\t\t\t\tif (object instanceof Object) {\n\t\t\t\t\t\tblob.objects[o] = _JSON.decode(_JSON.encode(object));\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\tdata['arguments'][0] = states;\n\t\t\tdata['blob']         = Object.keys(blob).length > 0 ? blob : null;\n\n\n\t\t\treturn data;\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * CUSTOM API\n\t\t */\n\n\t\tcreate: function() {\n\t\t\treturn lychee.assignunlink({}, this.model);\n\t\t},\n\n\t\tfilter: function(callback, scope) {\n\n\t\t\tcallback = callback instanceof Function ? callback : null;\n\t\t\tscope    = scope !== undefined          ? scope    : this;\n\n\n\t\t\tlet filtered = [];\n\n\n\t\t\tif (callback !== null) {\n\n\t\t\t\tfor (let o in this.__objects) {\n\n\t\t\t\t\tlet object = this.__objects[o];\n\n\t\t\t\t\tif (callback.call(scope, object, o) === true) {\n\t\t\t\t\t\tfiltered.push(object);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\n\t\t\t}\n\n\n\t\t\treturn filtered;\n\n\t\t},\n\n\t\tread: function(id) {\n\n\t\t\tid = typeof id === 'string' ? id : null;\n\n\n\t\t\tif (id !== null) {\n\n\t\t\t\tlet object = this.__objects[id] || null;\n\t\t\t\tif (object !== null) {\n\t\t\t\t\treturn object;\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn null;\n\n\t\t},\n\n\t\tremove: function(id) {\n\n\t\t\tid = typeof id === 'string' ? id : null;\n\n\n\t\t\tif (id !== null) {\n\n\t\t\t\tlet object = this.__objects[id] || null;\n\t\t\t\tif (object !== null) {\n\n\t\t\t\t\tthis.__operations.push({\n\t\t\t\t\t\ttype:   'remove',\n\t\t\t\t\t\tid:     id,\n\t\t\t\t\t\tobject: object\n\t\t\t\t\t});\n\n\n\t\t\t\t\t_write_storage.call(this);\n\n\t\t\t\t\treturn true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\twrite: function(id, object) {\n\n\t\t\tid     = typeof id === 'string'                    ? id     : null;\n\t\t\tobject = lychee.diff(this.model, object) === false ? object : null;\n\n\n\t\t\tif (id !== null && object !== null) {\n\n\t\t\t\tthis.__operations.push({\n\t\t\t\t\ttype:   'update',\n\t\t\t\t\tid:     id,\n\t\t\t\t\tobject: object\n\t\t\t\t});\n\n\n\t\t\t\t_write_storage.call(this);\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetId: function(id) {\n\n\t\t\tid = typeof id === 'string' ? id : null;\n\n\n\t\t\tif (id !== null) {\n\n\t\t\t\tthis.id = id;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetModel: function(model) {\n\n\t\t\tmodel = model instanceof Object ? model : null;\n\n\n\t\t\tif (model !== null) {\n\n\t\t\t\tthis.model = _JSON.decode(_JSON.encode(model));\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetType: function(type) {\n\n\t\t\ttype = lychee.enumof(Composite.TYPE, type) ? type : null;\n\n\n\t\t\tif (type !== null) {\n\n\t\t\t\tthis.type = type;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t}\n\n\t};\n\n\n\treturn Composite;\n\n}"}},"lychee.app.Jukebox":{"constructor":"lychee.Definition","arguments":[{"id":"lychee.app.Jukebox","url":"/libraries/lychee/source/app/Jukebox.js"}],"blob":{"attaches":{},"exports":"function(lychee, global, attachments) {\n\n\t/*\n\t * HELPERS\n\t */\n\n\tconst _validate_track = function(track) {\n\n\t\tif (\n\t\t\ttrack instanceof Music\n\t\t\t|| track instanceof Sound\n\t\t) {\n\t\t\treturn true;\n\t\t}\n\n\n\t\treturn false;\n\n\t};\n\n\tconst _play_track = function(track) {\n\n\t\tlet volume = this.volume;\n\n\t\tif (track instanceof Music && this.music === true) {\n\n\t\t\tlet music = this.__music;\n\t\t\tif (music !== null) {\n\t\t\t\tmusic.stop();\n\t\t\t}\n\n\n\t\t\tthis.__music = track;\n\t\t\tthis.__music.setVolume(volume);\n\t\t\tthis.__music.play();\n\n\n\t\t\treturn true;\n\n\t\t} else if (track instanceof Sound && this.sound === true) {\n\n\t\t\tlet found  = false;\n\t\t\tlet sounds = this.__sounds;\n\n\t\t\tfor (let s = 0, sl = sounds.length; s < sl; s++) {\n\n\t\t\t\tlet sound = sounds[s];\n\t\t\t\tif (sound === null) {\n\n\t\t\t\t\tsounds[s] = track.clone();\n\t\t\t\t\tsounds[s].setVolume(volume);\n\t\t\t\t\tsounds[s].play();\n\t\t\t\t\tfound = true;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t} else if (sound.isIdle === true) {\n\n\t\t\t\t\tif (sound.url === track.url) {\n\n\t\t\t\t\t\tsound.setVolume(volume);\n\t\t\t\t\t\tsound.play();\n\t\t\t\t\t\tfound = true;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\tif (found === false) {\n\n\t\t\t\tif (track.isIdle === true) {\n\n\t\t\t\t\ttrack.setVolume(volume);\n\t\t\t\t\ttrack.play();\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfor (let s = 0, sl = sounds.length; s < sl; s++) {\n\n\t\t\t\t\t\tlet sound = sounds[s];\n\t\t\t\t\t\tif (sound.isIdle === true) {\n\n\t\t\t\t\t\t\tsounds[s] = null;\n\t\t\t\t\t\t\tsounds[s] = track.clone();\n\t\t\t\t\t\t\tsounds[s].setVolume(volume);\n\t\t\t\t\t\t\tsounds[s].play();\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn true;\n\n\t\t}\n\n\n\t\treturn false;\n\n\t};\n\n\tconst _stop_track = function(track) {\n\n\t\tlet found  = false;\n\t\tlet music  = this.__music;\n\t\tlet sounds = this.__sounds;\n\n\n\t\tlet s, sl, sound = null;\n\n\t\tif (track instanceof Music) {\n\n\t\t\tif (music === track) {\n\t\t\t\tfound = true;\n\t\t\t\tmusic.stop();\n\t\t\t}\n\n\n\t\t\tthis.__music = null;\n\n\t\t} else if (track instanceof Sound) {\n\n\t\t\tfor (s = 0, sl = sounds.length; s < sl; s++) {\n\n\t\t\t\tsound = sounds[s];\n\n\t\t\t\tif (sound !== null && sound.url === track.url && sound.isIdle === false) {\n\t\t\t\t\tfound = true;\n\t\t\t\t\tsound.stop();\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else if (track === null) {\n\n\t\t\tif (music !== null) {\n\t\t\t\tfound = true;\n\t\t\t\tmusic.stop();\n\t\t\t}\n\n\n\t\t\tfor (s = 0, sl = sounds.length; s < sl; s++) {\n\n\t\t\t\tsound = sounds[s];\n\n\t\t\t\tif (sound !== null && sound.isIdle === false) {\n\t\t\t\t\tfound = true;\n\t\t\t\t\tsound.stop();\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\n\t\tif (found === true) {\n\t\t\treturn true;\n\t\t}\n\n\n\t\treturn false;\n\n\t};\n\n\n\n\t/*\n\t * IMPLEMENTATION\n\t */\n\n\tconst Composite = function(data) {\n\n\t\tlet states = Object.assign({}, data);\n\n\n\t\tthis.channels = 8;\n\t\tthis.music    = true;\n\t\tthis.sound    = true;\n\t\tthis.volume   = 1.0;\n\n\t\tthis.__music  = null;\n\t\tthis.__sounds = [\n\t\t\tnull, null,\n\t\t\tnull, null,\n\t\t\tnull, null,\n\t\t\tnull, null\n\t\t];\n\n\n\t\tthis.setChannels(states.channels);\n\t\tthis.setMusic(states.music);\n\t\tthis.setSound(states.sound);\n\t\tthis.setVolume(states.volume);\n\n\n\t\tstates = null;\n\n\t};\n\n\n\tComposite.prototype = {\n\n\t\t/*\n\t\t * ENTITY API\n\t\t */\n\n\t\t// deserialize: function(blob) {},\n\n\t\tserialize: function() {\n\n\t\t\tlet states = {};\n\n\n\t\t\tif (this.channels !== 8) states.channels = this.channels;\n\t\t\tif (this.music !== true) states.music    = this.music;\n\t\t\tif (this.sound !== true) states.sound    = this.sound;\n\t\t\tif (this.volume !== 1.0) states.volume   = this.volume;\n\n\n\t\t\treturn {\n\t\t\t\t'constructor': 'lychee.app.Jukebox',\n\t\t\t\t'arguments':   [ states ],\n\t\t\t\t'blob':        null\n\t\t\t};\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * CUSTOM API\n\t\t */\n\n\t\tplay: function(track) {\n\n\t\t\ttrack = _validate_track(track) ? track : null;\n\n\n\t\t\tif (track !== null) {\n\n\t\t\t\tlet result = _play_track.call(this, track);\n\t\t\t\tif (result === true) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tstop: function(track) {\n\n\t\t\ttrack = _validate_track(track) ? track : null;\n\n\n\t\t\tif (track !== null) {\n\n\t\t\t\tlet result = _stop_track.call(this, track);\n\t\t\t\tif (result === true) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetChannels: function(channels) {\n\n\t\t\tchannels = typeof channels === 'number' ? channels : null;\n\n\n\t\t\tif (channels !== null) {\n\n\t\t\t\tthis.channels = channels;\n\t\t\t\tthis.__sounds.fill(null);\n\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetMusic: function(music) {\n\n\t\t\tmusic = typeof music === 'boolean' ? music : null;\n\n\n\t\t\tif (music !== null) {\n\n\t\t\t\tthis.music = music;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetSound: function(sound) {\n\n\t\t\tsound = typeof sound === 'boolean' ? sound : null;\n\n\n\t\t\tif (sound !== null) {\n\n\t\t\t\tthis.sound = sound;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetVolume: function(volume) {\n\n\t\t\tvolume = typeof volume === 'number' ? volume : null;\n\n\n\t\t\tif (volume !== null) {\n\n\t\t\t\tthis.volume = Math.min(Math.max(0, volume), 1);\n\n\n\t\t\t\tlet music = this.__music;\n\t\t\t\tif (music !== null) {\n\t\t\t\t\tmusic.setVolume(this.volume);\n\t\t\t\t}\n\n\t\t\t\tlet sounds = this.__sounds;\n\t\t\t\tfor (let s = 0, sl = sounds.length; s < sl; s++) {\n\n\t\t\t\t\tlet sound = sounds[s];\n\t\t\t\t\tif (sound !== null) {\n\t\t\t\t\t\tsound.setVolume(this.volume);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t}\n\n\t};\n\n\n\treturn Composite;\n\n}"}},"lychee.net.Client":{"constructor":"lychee.Definition","arguments":[{"id":"lychee.net.Client","url":"/libraries/lychee/source/net/Client.js"}],"blob":{"attaches":{},"requires":["lychee.net.client.Debugger","lychee.net.client.Stash","lychee.net.client.Storage"],"includes":["lychee.net.Tunnel"],"exports":"function(lychee, global, attachments) {\n\n\tconst _Debugger = lychee.import('lychee.net.client.Debugger');\n\tconst _Stash    = lychee.import('lychee.net.client.Stash');\n\tconst _Storage  = lychee.import('lychee.net.client.Storage');\n\tconst _Tunnel   = lychee.import('lychee.net.Tunnel');\n\n\n\n\t/*\n\t * IMPLEMENTATION\n\t */\n\n\tconst Composite = function(data) {\n\n\t\tlet states = Object.assign({}, data);\n\n\n\t\t_Tunnel.call(this, states);\n\n\t\tstates = null;\n\n\n\n\t\t/*\n\t\t * INITIALIZATION\n\t\t */\n\n\t\tif (lychee.debug === true) {\n\n\t\t\tthis.bind('connect', function() {\n\t\t\t\tthis.addService(new _Debugger(this));\n\t\t\t}, this);\n\n\t\t}\n\n\n\t\tthis.bind('connect', function() {\n\n\t\t\tthis.addService(new _Stash(this));\n\t\t\tthis.addService(new _Storage(this));\n\n\t\t}, this);\n\n\t};\n\n\n\tComposite.prototype = {\n\n\t\t/*\n\t\t * ENTITY API\n\t\t */\n\n\t\t// deserialize: function(blob) {},\n\n\t\tserialize: function() {\n\n\t\t\tlet data = _Tunnel.prototype.serialize.call(this);\n\t\t\tdata['constructor'] = 'lychee.net.Client';\n\n\n\t\t\treturn data;\n\n\t\t}\n\n\t};\n\n\n\treturn Composite;\n\n}"}},"lychee.net.Server":{"constructor":"lychee.Definition","arguments":[{"id":"lychee.net.Server","url":"/libraries/lychee/source/platform/html/net/Server.js"}],"blob":{"attaches":{},"tags":{"platform":"html"},"requires":["lychee.Storage","lychee.codec.JSON","lychee.net.Remote"],"includes":["lychee.event.Emitter"],"supports":"function(lychee, global) {\n\n\t// TODO: Feature Detection of Raw TCP Socket API\n\n\treturn true;\n\n}","exports":"function(lychee, global, attachments) {\n\n\tconst _Emitter = lychee.import('lychee.event.Emitter');\n\tconst _JSON    = lychee.import('lychee.codec.JSON');\n\tconst _Remote  = lychee.import('lychee.net.Remote');\n\tconst _Storage = lychee.import('lychee.Storage');\n\tconst _storage = new _Storage({\n\t\tid:    'server',\n\t\ttype:  _Storage.TYPE.persistent,\n\t\tmodel: {\n\t\t\tid:   '[::ffff]:1337',\n\t\t\ttype: 'client',\n\t\t\thost: '::ffff',\n\t\t\tport: 1337\n\t\t}\n\t});\n\n\n\n\t/*\n\t * IMPLEMENTATION\n\t */\n\n\tconst Composite = function(data) {\n\n\t\tlet states = Object.assign({}, data);\n\n\n\t\tthis.codec  = _JSON;\n\t\tthis.host   = null;\n\t\tthis.port   = 1337;\n\t\tthis.remote = _Remote;\n\t\tthis.type   = Composite.TYPE.WS;\n\n\n\t\tthis.__isConnected = false;\n\t\tthis.__server      = null;\n\n\n\t\tthis.setCodec(states.codec);\n\t\tthis.setHost(states.host);\n\t\tthis.setPort(states.port);\n\t\tthis.setType(states.type);\n\n\n\t\t_Emitter.call(this);\n\n\t\tstates = null;\n\n\n\t\t/*\n\t\t * INITIALIZATION\n\t\t */\n\n\t\tthis.bind('connect', function(remote) {\n\n\t\t\tlet id  = (/:/g.test(remote.host) ? '[' + remote.host + ']' : remote.host) + ':' + remote.port;\n\t\t\tlet obj = _storage.create();\n\t\t\tif (obj !== null) {\n\n\t\t\t\tobj.id   = id;\n\t\t\t\tobj.type = 'client';\n\t\t\t\tobj.host = remote.host;\n\t\t\t\tobj.port = remote.port;\n\n\t\t\t\t_storage.write(id, obj);\n\n\t\t\t}\n\n\t\t}, this);\n\n\t\tthis.bind('disconnect', function(remote) {\n\n\t\t\tlet id  = (/:/g.test(remote.host) ? '[' + remote.host + ']' : remote.host) + ':' + remote.port;\n\t\t\tlet obj = _storage.read(id);\n\t\t\tif (obj !== null) {\n\t\t\t\t_storage.remove(id);\n\t\t\t}\n\n\t\t}, this);\n\n\t};\n\n\n\tComposite.TYPE = {\n\t\tWS:   0,\n\t\tHTTP: 1,\n\t\tTCP:  2\n\t};\n\n\n\tComposite.prototype = {\n\n\t\t/*\n\t\t * ENTITY API\n\t\t */\n\n\t\t// deserialize: function(blob) {},\n\n\t\tserialize: function() {\n\n\t\t\tlet data = _Emitter.prototype.serialize.call(this);\n\t\t\tdata['constructor'] = 'lychee.net.Server';\n\n\t\t\tlet states = {};\n\n\n\t\t\tif (this.codec !== _JSON)            states.codec  = lychee.serialize(this.codec);\n\t\t\tif (this.host !== 'localhost')       states.host   = this.host;\n\t\t\tif (this.port !== 1337)              states.port   = this.port;\n\t\t\tif (this.remote !== _Remote)         states.remote = lychee.serialize(this.remote);\n\t\t\tif (this.type !== Composite.TYPE.WS) states.type   = this.type;\n\n\n\t\t\tdata['arguments'][0] = states;\n\n\n\t\t\treturn data;\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * CUSTOM API\n\t\t */\n\n\t\tconnect: function() {\n\n\t\t\tif (this.__isConnected === false) {\n\n\t\t\t\tif (lychee.debug === true) {\n\t\t\t\t\tconsole.log('lychee.net.Server: Connected to ' + this.host + ':' + this.port);\n\t\t\t\t}\n\n\n\t\t\t\t// TODO: Setup HTTP Server\n\n\t\t\t\t// let that      = this;\n\t\t\t\t// let server = new _net.Server();\n\n\n\t\t\t\t// server.on('connection', function(socket) {\n\n\t\t\t\t// \tlet host   = socket.remoteAddress || socket.server._connectionKey.split(':')[1];\n\t\t\t\t// \tlet port   = socket.remotePort    || socket.server._connectionKey.split(':')[2];\n\t\t\t\t// \tlet remote = new that.remote({\n\t\t\t\t// \t\tcodec: that.codec,\n\t\t\t\t// \t\thost:  host,\n\t\t\t\t// \t\tport:  port,\n\t\t\t\t// \t\ttype:  that.type\n\t\t\t\t// \t});\n\n\n\t\t\t\t// \tremote.bind('connect', function() {\n\t\t\t\t// \t\tthat.trigger('connect', [ this ]);\n\t\t\t\t// \t});\n\n\t\t\t\t// \tremote.bind('disconnect', function() {\n\t\t\t\t// \t\tthat.trigger('disconnect', [ this ]);\n\t\t\t\t// \t});\n\n\n\t\t\t\t// \tremote.connect(socket);\n\n\t\t\t\t// });\n\n\t\t\t\t// server.on('error', function() {\n\t\t\t\t// \tthis.close();\n\t\t\t\t// });\n\n\t\t\t\t// server.on('close', function() {\n\t\t\t\t// \tthat.__isConnected = false;\n\t\t\t\t// \tthat.__server      = null;\n\t\t\t\t// });\n\n\t\t\t\t// server.listen(this.port, this.host);\n\n\n\t\t\t\t// this.__server      = server;\n\t\t\t\t// this.__isConnected = true;\n\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tdisconnect: function() {\n\n\t\t\tlet server = this.__server;\n\t\t\tif (server !== null) {\n\t\t\t\tserver.close();\n\t\t\t}\n\n\n\t\t\treturn true;\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * TUNNEL API\n\t\t */\n\n\t\tsetCodec: function(codec) {\n\n\t\t\tcodec = lychee.interfaceof(_JSON, codec) ? codec : null;\n\n\n\t\t\tif (codec !== null) {\n\n\t\t\t\tlet oldcodec = this.codec;\n\t\t\t\tif (oldcodec !== codec) {\n\n\t\t\t\t\tthis.codec = codec;\n\n\n\t\t\t\t\tif (this.__isConnected === true) {\n\t\t\t\t\t\tthis.disconnect();\n\t\t\t\t\t\tthis.connect();\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetHost: function(host) {\n\n\t\t\thost = typeof host === 'string' ? host : null;\n\n\n\t\t\tif (host !== null) {\n\n\t\t\t\tthis.host = host;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetPort: function(port) {\n\n\t\t\tport = typeof port === 'number' ? (port | 0) : null;\n\n\n\t\t\tif (port !== null) {\n\n\t\t\t\tthis.port = port;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetRemote: function(remote) {\n\n\t\t\tremote = lychee.interfaceof(_Remote, remote) ? remote : null;\n\n\n\t\t\tif (remote !== null) {\n\n\t\t\t\tlet oldremote = this.remote;\n\t\t\t\tif (oldremote !== remote) {\n\n\t\t\t\t\tthis.remote = remote;\n\n\n\t\t\t\t\tif (this.__isConnected === true) {\n\t\t\t\t\t\tthis.disconnect();\n\t\t\t\t\t\tthis.connect();\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetType: function(type) {\n\n\t\t\ttype = lychee.enumof(Composite.TYPE, type) ? type : null;\n\n\n\t\t\tif (type !== null) {\n\n\t\t\t\tlet oldtype = this.type;\n\t\t\t\tif (oldtype !== type) {\n\n\t\t\t\t\tthis.type = type;\n\n\n\t\t\t\t\tif (this.__isConnected === true) {\n\t\t\t\t\t\tthis.disconnect();\n\t\t\t\t\t\tthis.connect();\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t}\n\n\t};\n\n\n\treturn Composite;\n\n}"}},"lychee.app.State":{"constructor":"lychee.Definition","arguments":[{"id":"lychee.app.State","url":"/libraries/lychee/source/app/State.js"}],"blob":{"attaches":{},"requires":["lychee.ai.Layer","lychee.app.Layer","lychee.ui.Layer"],"exports":"function(lychee, global, attachments) {\n\n\tconst _Ai_layer  = lychee.import('lychee.ai.Layer');\n\tconst _App_layer = lychee.import('lychee.app.Layer');\n\tconst _Ui_layer  = lychee.import('lychee.ui.Layer');\n\n\n\n\t/*\n\t * HELPERS\n\t */\n\n\tconst _validate_layer = function(layer) {\n\n\t\tif (\n\t\t\tlychee.interfaceof(_Ai_layer, layer)\n\t\t\t|| lychee.interfaceof(_App_layer, layer)\n\t\t\t|| lychee.interfaceof(_Ui_layer, layer)\n\t\t) {\n\t\t\treturn true;\n\t\t}\n\n\n\t\treturn false;\n\n\t};\n\n\tconst _get_id = function(entity) {\n\n\t\tfor (let id in this.__map) {\n\n\t\t\tif (this.__map[id] === entity) {\n\t\t\t\treturn id;\n\t\t\t}\n\n\t\t}\n\n\n\t\treturn null;\n\n\t};\n\n\tconst _recursive_deserialize = function(oldlayer, newlayer) {\n\n\t\tif (typeof oldlayer.setType === 'function') {\n\t\t\toldlayer.setType(newlayer.type);\n\t\t}\n\n\t\tif (typeof oldlayer.setVisible === 'function') {\n\t\t\toldlayer.setVisible(newlayer.visible);\n\t\t}\n\n\n\t\tfor (let e = 0, el = newlayer.entities.length; e < el; e++) {\n\n\t\t\tlet entity = newlayer.entities[e];\n\t\t\tlet id     = _get_id.call(newlayer, entity);\n\t\t\tlet other  = oldlayer.getEntity(id);\n\n\t\t\tif (other === null) {\n\n\t\t\t\toldlayer.setEntity(id, entity);\n\n\t\t\t} else if (typeof other.entities !== 'undefined' && typeof entity.entities !== 'undefined') {\n\n\t\t\t\t_recursive_deserialize(other, entity);\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tconst _on_key = function(key, name, delta) {\n\n\t\tlet focus = this.__focus;\n\t\tif (focus !== null) {\n\n\t\t\tlet result = focus.trigger('key', [ key, name, delta ]);\n\t\t\tif (result === true) {\n\n\t\t\t\tif (focus.state === 'default') {\n\t\t\t\t\tthis.__focus = null;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tconst _on_reshape = function(orientation, rotation, width, height) {\n\n\t\tlet renderer = this.renderer;\n\t\tif (renderer !== null) {\n\n\t\t\tlet position = {\n\t\t\t\tx: 1 / 2 * renderer.width,\n\t\t\t\ty: 1 / 2 * renderer.height\n\t\t\t};\n\n\n\t\t\tfor (let id in this.__layers) {\n\n\t\t\t\tlet layer = this.__layers[id];\n\n\t\t\t\tlayer.setPosition(position);\n\t\t\t\tlayer.trigger('relayout');\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tconst _on_scroll = function(id, direction, position, delta) {\n\n\t\tlet args = [ id, direction, {\n\t\t\tx: 0,\n\t\t\ty: 0\n\t\t}, delta ];\n\n\n\t\tlet x = position.x;\n\t\tlet y = position.y;\n\n\n\t\tlet renderer = this.renderer;\n\t\tif (renderer !== null) {\n\n\t\t\tx -= renderer.offset.x;\n\t\t\ty -= renderer.offset.y;\n\n\t\t}\n\n\n\t\tfor (let lid in this.__layers) {\n\n\t\t\tlet layer = this.__layers[lid];\n\t\t\tif (layer.visible === false) continue;\n\n\t\t\tif (lychee.interfaceof(_Ui_layer, layer)) {\n\n\t\t\t\targs[2].x = x - layer.position.x;\n\t\t\t\targs[2].y = y - layer.position.y;\n\n\n\t\t\t\tlet result = layer.trigger('scroll', args);\n\t\t\t\tif (result !== true && result !== false && result !== null) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tconst _on_swipe = function(id, type, position, delta, swipe) {\n\n\t\tlet touch = this.__touches[id];\n\t\tif (touch.entity !== null) {\n\n\t\t\tif (touch.layer.visible === false) return;\n\n\n\t\t\tlet args   = [ id, type, position, delta, swipe ];\n\t\t\tlet result = false;\n\n\t\t\tlet renderer = this.renderer;\n\t\t\tif (renderer !== null) {\n\n\t\t\t\targs[2].x -= renderer.offset.x;\n\t\t\t\targs[2].y -= renderer.offset.y;\n\n\t\t\t}\n\n\n\t\t\tif (type === 'start') {\n\n\t\t\t\t_trace_entity_offset.call(\n\t\t\t\t\ttouch.offset,\n\t\t\t\t\ttouch.entity,\n\t\t\t\t\ttouch.layer\n\t\t\t\t);\n\n\n\t\t\t\targs[2].x -= touch.offset.x;\n\t\t\t\targs[2].y -= touch.offset.y;\n\t\t\t\tresult     = touch.entity.trigger('swipe', args);\n\n\t\t\t\tif (result === false) {\n\t\t\t\t\ttouch.entity = null;\n\t\t\t\t\ttouch.layer  = null;\n\t\t\t\t}\n\n\t\t\t} else if (type === 'move') {\n\n\t\t\t\targs[2].x -= touch.offset.x;\n\t\t\t\targs[2].y -= touch.offset.y;\n\t\t\t\tresult     = touch.entity.trigger('swipe', args);\n\n\t\t\t\tif (result === false) {\n\t\t\t\t\ttouch.entity = null;\n\t\t\t\t\ttouch.layer  = null;\n\t\t\t\t}\n\n\t\t\t} else if (type === 'end') {\n\n\t\t\t\targs[2].x -= touch.offset.x;\n\t\t\t\targs[2].y -= touch.offset.y;\n\t\t\t\tresult     = touch.entity.trigger('swipe', args);\n\n\t\t\t\tif (result === false) {\n\t\t\t\t\ttouch.entity = null;\n\t\t\t\t\ttouch.layer  = null;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tconst _on_touch = function(id, position, delta) {\n\n\t\tlet args = [ id, {\n\t\t\tx: 0,\n\t\t\ty: 0\n\t\t}, delta ];\n\n\n\t\tlet x = position.x;\n\t\tlet y = position.y;\n\n\n\t\tlet renderer = this.renderer;\n\t\tif (renderer !== null) {\n\n\t\t\tx -= renderer.offset.x;\n\t\t\ty -= renderer.offset.y;\n\n\t\t}\n\n\n\t\tlet touch_layer  = null;\n\t\tlet touch_entity = null;\n\n\t\tfor (let lid in this.__layers) {\n\n\t\t\tlet layer = this.__layers[lid];\n\t\t\tif (layer.visible === false) continue;\n\n\t\t\tif (lychee.interfaceof(_Ui_layer, layer)) {\n\n\t\t\t\targs[1].x = x - layer.position.x;\n\t\t\t\targs[1].y = y - layer.position.y;\n\n\n\t\t\t\tlet result = layer.trigger('touch', args);\n\t\t\t\tif (result !== true && result !== false && result !== null) {\n\n\t\t\t\t\ttouch_entity = result;\n\t\t\t\t\ttouch_layer  = layer;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\n\t\tlet old_focus = this.__focus;\n\t\tlet new_focus = touch_entity;\n\n\t\t// 1. Reset Touch trace data if no Entity was touched\n\t\tif (new_focus === null) {\n\t\t\tthis.__touches[id].entity = null;\n\t\t\tthis.__touches[id].layer  = null;\n\t\t}\n\n\n\t\t// 2. Change Focus State Interaction\n\t\tif (new_focus !== old_focus) {\n\n\t\t\tif (old_focus !== null) {\n\n\t\t\t\tif (old_focus.state !== 'default') {\n\t\t\t\t\told_focus.trigger('blur');\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif (new_focus !== null) {\n\n\t\t\t\tif (new_focus.state === 'default') {\n\t\t\t\t\tnew_focus.trigger('focus');\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\tthis.__focus = new_focus;\n\n\t\t}\n\n\n\t\t// 3. Prepare UI Swipe event\n\t\tif (touch_entity !== null) {\n\n\t\t\tlet touch = this.__touches[id];\n\n\t\t\ttouch.entity = new_focus;\n\t\t\ttouch.layer  = touch_layer;\n\n\n\t\t\t_trace_entity_offset.call(\n\t\t\t\ttouch.offset,\n\t\t\t\ttouch.entity,\n\t\t\t\ttouch.layer\n\t\t\t);\n\n\t\t}\n\n\t};\n\n\tconst _trace_entity_offset = function(entity, layer, offsetX, offsetY) {\n\n\t\tif (offsetX === undefined || offsetY === undefined) {\n\n\t\t\tthis.x  = 0;\n\t\t\tthis.y  = 0;\n\t\t\toffsetX = layer.position.x;\n\t\t\toffsetY = layer.position.y;\n\n\t\t}\n\n\n\t\tif (layer === entity) {\n\n\t\t\tthis.x = offsetX;\n\t\t\tthis.y = offsetY;\n\n\t\t\treturn true;\n\n\t\t} else if (layer.entities !== undefined) {\n\n\t\t\tlet entities = layer.entities;\n\t\t\tfor (let e = entities.length - 1; e >= 0; e--) {\n\n\t\t\t\tlet dx = layer.offset.x + entities[e].position.x;\n\t\t\t\tlet dy = layer.offset.y + entities[e].position.y;\n\n\n\t\t\t\tlet result = _trace_entity_offset.call(\n\t\t\t\t\tthis,\n\t\t\t\t\tentity,\n\t\t\t\t\tentities[e],\n\t\t\t\t\toffsetX + dx,\n\t\t\t\t\toffsetY + dy\n\t\t\t\t);\n\n\t\t\t\tif (result === true) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\n\t\treturn false;\n\n\t};\n\n\n\n\t/*\n\t * IMPLEMENTATION\n\t */\n\n\tconst Composite = function(main) {\n\n\t\tthis.main     = main          || null;\n\t\tthis.client   = main.client   || null;\n\t\tthis.server   = main.server   || null;\n\n\t\tthis.input    = main.input    || null;\n\t\tthis.jukebox  = main.jukebox  || null;\n\t\tthis.loop     = main.loop     || null;\n\t\tthis.renderer = main.renderer || null;\n\t\tthis.storage  = main.storage  || null;\n\t\tthis.viewport = main.viewport || null;\n\n\n\t\tthis.__layers_map = [];\n\t\tthis.__layers     = {};\n\t\tthis.__focus      = null;\n\t\tthis.__touches    = [\n\t\t\t{ entity: null, layer: null, offset: { x: 0, y: 0 } },\n\t\t\t{ entity: null, layer: null, offset: { x: 0, y: 0 } },\n\t\t\t{ entity: null, layer: null, offset: { x: 0, y: 0 } },\n\t\t\t{ entity: null, layer: null, offset: { x: 0, y: 0 } },\n\t\t\t{ entity: null, layer: null, offset: { x: 0, y: 0 } },\n\t\t\t{ entity: null, layer: null, offset: { x: 0, y: 0 } },\n\t\t\t{ entity: null, layer: null, offset: { x: 0, y: 0 } },\n\t\t\t{ entity: null, layer: null, offset: { x: 0, y: 0 } },\n\t\t\t{ entity: null, layer: null, offset: { x: 0, y: 0 } },\n\t\t\t{ entity: null, layer: null, offset: { x: 0, y: 0 } }\n\t\t];\n\n\n\n\t\t/*\n\t\t * INITIALIZATION\n\t\t */\n\n\t\tlet viewport = this.viewport;\n\t\tif (viewport !== null) {\n\t\t\tviewport.bind('reshape', _on_reshape, this);\n\t\t}\n\n\t};\n\n\n\tComposite.prototype = {\n\n\t\t/*\n\t\t * STATE API\n\t\t */\n\n\t\tdeserialize: function(blob) {\n\n\t\t\tif (blob.layers) {\n\n\t\t\t\tfor (let laid in blob.layers) {\n\n\t\t\t\t\tlet tmp1 = this.__layers[laid] || null;\n\t\t\t\t\tlet tmp2 = lychee.deserialize(blob.layers[laid]);\n\n\t\t\t\t\tif (tmp1 === null && tmp2 !== null) {\n\n\t\t\t\t\t\tthis.setLayer(laid, tmp2);\n\n\t\t\t\t\t} else if (tmp1 !== null && tmp2 !== null) {\n\n\t\t\t\t\t\t_recursive_deserialize.call(this, tmp1, tmp2);\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t},\n\n\t\tserialize: function() {\n\n\t\t\tlet main = this.main !== null ? '#MAIN' : null;\n\t\t\tlet blob = {};\n\n\n\t\t\tif (Object.keys(this.__layers).length > 0) {\n\n\t\t\t\tblob.layers = {};\n\n\t\t\t\tfor (let lid in this.__layers) {\n\t\t\t\t\tblob.layers[lid] = lychee.serialize(this.__layers[lid]);\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn {\n\t\t\t\t'constructor': 'lychee.app.State',\n\t\t\t\t'arguments':   [ main ],\n\t\t\t\t'blob':        Object.keys(blob).length > 0 ? blob : null\n\t\t\t};\n\n\t\t},\n\n\t\tenter: function(oncomplete) {\n\n\t\t\toncomplete = oncomplete instanceof Function ? oncomplete : null;\n\n\n\t\t\tlet input = this.input;\n\t\t\tif (input !== null) {\n\t\t\t\tinput.bind('key',    _on_key,    this);\n\t\t\t\tinput.bind('scroll', _on_scroll, this);\n\t\t\t\tinput.bind('swipe',  _on_swipe,  this);\n\t\t\t\tinput.bind('touch',  _on_touch,  this);\n\t\t\t}\n\n\n\t\t\tif (oncomplete !== null) {\n\t\t\t\toncomplete(true);\n\t\t\t}\n\n\n\t\t\treturn true;\n\n\t\t},\n\n\t\tleave: function(oncomplete) {\n\n\t\t\toncomplete = oncomplete instanceof Function ? oncomplete : null;\n\n\n\t\t\tlet focus = this.__focus;\n\t\t\tif (focus !== null) {\n\t\t\t\tfocus.trigger('blur');\n\t\t\t}\n\n\n\t\t\tfor (let t = 0, tl = this.__touches.length; t < tl; t++) {\n\n\t\t\t\tlet touch = this.__touches[t];\n\t\t\t\tif (touch.entity !== null) {\n\t\t\t\t\ttouch.entity = null;\n\t\t\t\t\ttouch.layer  = null;\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\tthis.__focus = null;\n\n\n\t\t\tlet input = this.input;\n\t\t\tif (input !== null) {\n\t\t\t\tinput.unbind('touch',  _on_touch,  this);\n\t\t\t\tinput.unbind('swipe',  _on_swipe,  this);\n\t\t\t\tinput.unbind('scroll', _on_scroll, this);\n\t\t\t\tinput.unbind('key',    _on_key,    this);\n\t\t\t}\n\n\n\t\t\tif (oncomplete !== null) {\n\t\t\t\toncomplete(true);\n\t\t\t}\n\n\n\t\t\treturn true;\n\n\t\t},\n\n\t\tquery: function(query) {\n\n\t\t\tquery = typeof query === 'string' ? query : null;\n\n\n\t\t\tif (query !== null) {\n\n\t\t\t\tlet tmp   = query.split(' > ');\n\t\t\t\tlet layer = this.getLayer(tmp[0].trim());\n\t\t\t\tif (layer !== null) {\n\n\t\t\t\t\tlet entity = layer;\n\n\t\t\t\t\tfor (let t = 1, tl = tmp.length; t < tl; t++) {\n\n\t\t\t\t\t\tentity = entity.getEntity(tmp[t].trim());\n\n\t\t\t\t\t\tif (entity === null) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\treturn entity;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn null;\n\n\t\t},\n\n\t\trender: function(clock, delta, custom) {\n\n\t\t\tcustom = custom === true;\n\n\n\t\t\tlet renderer = this.renderer;\n\t\t\tif (renderer !== null) {\n\n\t\t\t\tif (custom === false) {\n\t\t\t\t\trenderer.clear();\n\t\t\t\t}\n\n\n\t\t\t\tlet layers_map = this.__layers_map;\n\t\t\t\tfor (let l = 0, ll = layers_map.length; l < ll; l++) {\n\n\t\t\t\t\tlet layer = this.__layers[layers_map[l]];\n\t\t\t\t\tif (layer.visible === false) continue;\n\n\t\t\t\t\tlayer.render(\n\t\t\t\t\t\trenderer,\n\t\t\t\t\t\t0,\n\t\t\t\t\t\t0\n\t\t\t\t\t);\n\n\t\t\t\t}\n\n\n\t\t\t\tif (custom === false) {\n\t\t\t\t\trenderer.flush();\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t},\n\n\t\tupdate: function(clock, delta) {\n\n\t\t\tfor (let id in this.__layers) {\n\n\t\t\t\tlet layer = this.__layers[id];\n\t\t\t\tif (layer.visible === false) continue;\n\n\t\t\t\tlayer.update(clock, delta);\n\n\t\t\t}\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * LAYER API\n\t\t */\n\n\t\tsetLayer: function(id, layer) {\n\n\t\t\tid    = typeof id === 'string'          ? id    : null;\n\t\t\tlayer = _validate_layer(layer) === true ? layer : null;\n\n\n\t\t\tif (id !== null) {\n\n\t\t\t\tif (layer !== null) {\n\n\t\t\t\t\tthis.__layers[id] = layer;\n\t\t\t\t\tthis.__layers_map = Object.keys(this.__layers).sort();\n\n\t\t\t\t\treturn true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tgetLayer: function(id) {\n\n\t\t\tid = typeof id === 'string' ? id : null;\n\n\n\t\t\tif (id !== null && this.__layers[id] !== undefined) {\n\t\t\t\treturn this.__layers[id];\n\t\t\t}\n\n\n\t\t\treturn null;\n\n\t\t},\n\n\t\tremoveLayer: function(id) {\n\n\t\t\tid = typeof id === 'string' ? id : null;\n\n\n\t\t\tif (id !== null && this.__layers[id] !== undefined) {\n\n\t\t\t\tdelete this.__layers[id];\n\t\t\t\tthis.__layers_map = Object.keys(this.__layers).sort();\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t}\n\n\t};\n\n\n\treturn Composite;\n\n}"}},"lychee.Input":{"constructor":"lychee.Definition","arguments":[{"id":"lychee.Input","url":"/libraries/lychee/source/platform/html/Input.js"}],"blob":{"attaches":{},"tags":{"platform":"html"},"includes":["lychee.event.Emitter"],"supports":"function(lychee, global) {\n\n\tif (typeof global.addEventListener === 'function') {\n\t\treturn true;\n\t}\n\n\n\treturn false;\n\n}","exports":"function(lychee, global, attachments) {\n\n\tconst _Emitter   = lychee.import('lychee.event.Emitter');\n\tconst _INSTANCES = [];\n\n\n\n\t/*\n\t * EVENTS\n\t */\n\n\tlet _mouseactive = false;\n\tlet _wheelactive = Date.now();\n\n\tconst _listeners = {\n\n\t\tkeydown: function(event) {\n\n\t\t\tlet handled = false;\n\n\t\t\tfor (let i = 0, l = _INSTANCES.length; i < l; i++) {\n\t\t\t\thandled = _process_key.call(_INSTANCES[i], event.keyCode, event.ctrlKey, event.altKey, event.shiftKey) || handled;\n\t\t\t}\n\n\n\t\t\tif (handled === true) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t}\n\n\t\t},\n\n\t\ttouchstart: function(event) {\n\n\t\t\tlet handled = false;\n\n\t\t\tfor (let i = 0, l = _INSTANCES.length; i < l; i++) {\n\n\t\t\t\tif (event.touches && event.touches.length) {\n\n\t\t\t\t\tfor (let t = 0, tl = event.touches.length; t < tl; t++) {\n\t\t\t\t\t\thandled = _process_touch.call(_INSTANCES[i], t, event.touches[t].pageX, event.touches[t].pageY) || handled;\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\thandled = _process_touch.call(_INSTANCES[i], 0, event.pageX, event.pageY) || handled;\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\t// Prevent scrolling and swiping behaviour\n\t\t\tif (handled === true) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t}\n\n\t\t},\n\n\t\ttouchmove: function(event) {\n\n\t\t\tfor (let i = 0, l = _INSTANCES.length; i < l; i++) {\n\n\t\t\t\tif (event.touches && event.touches.length) {\n\n\t\t\t\t\tfor (let t = 0, tl = event.touches.length; t < tl; t++) {\n\t\t\t\t\t\t_process_swipe.call(_INSTANCES[i], t, 'move', event.touches[t].pageX, event.touches[t].pageY);\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\t_process_swipe.call(_INSTANCES[i], 0, 'move', event.pageX, event.pageY);\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t},\n\n\t\ttouchend: function(event) {\n\n\t\t\tfor (let i = 0, l = _INSTANCES.length; i < l; i++) {\n\n\t\t\t\tif (event.touches && event.touches.length) {\n\n\t\t\t\t\tfor (let t = 0, tl = event.touches.length; t < tl; t++) {\n\t\t\t\t\t\t_process_swipe.call(_INSTANCES[i], t, 'end', event.touches[t].pageX, event.touches[t].pageY);\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\t_process_swipe.call(_INSTANCES[i], 0, 'end', event.pageX, event.pageY);\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t},\n\n\t\tmousestart: function(event) {\n\n\t\t\t_mouseactive = true;\n\n\n\t\t\tlet handled = false;\n\n\t\t\tfor (let i = 0, l = _INSTANCES.length; i < l; i++) {\n\t\t\t\thandled = _process_touch.call(_INSTANCES[i], 0, event.pageX, event.pageY) || handled;\n\t\t\t}\n\n\n\t\t\t// Prevent drag of canvas as image\n\t\t\tif (handled === true) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t}\n\n\t\t},\n\n\t\tmousemove: function(event) {\n\n\t\t\tif (_mouseactive === false) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t\treturn;\n\t\t\t}\n\n\n\t\t\tlet handled = false;\n\n\t\t\tfor (let i = 0, l = _INSTANCES.length; i < l; i++) {\n\t\t\t\thandled = _process_swipe.call(_INSTANCES[i], 0, 'move', event.pageX, event.pageY) || handled;\n\t\t\t}\n\n\n\t\t\t// Prevent selection of canvas as content\n\t\t\tif (handled === true) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t}\n\n\t\t},\n\n\t\tmouseend: function(event) {\n\n\t\t\tif (_mouseactive === false) return;\n\n\t\t\t_mouseactive = false;\n\n\t\t\tfor (let i = 0, l = _INSTANCES.length; i < l; i++) {\n\t\t\t\t_process_swipe.call(_INSTANCES[i], 0, 'end', event.pageX, event.pageY);\n\t\t\t}\n\n\t\t},\n\n\t\tmousewheel: function(event) {\n\n\t\t\tlet time = Date.now();\n\t\t\tif (time < _wheelactive + 100) {\n\t\t\t\t_wheelactive = time;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_wheelactive = time;\n\n\t\t\tfor (let i = 0, l = _INSTANCES.length; i < l; i++) {\n\t\t\t\t_process_scroll.call(_INSTANCES[i], 0, event.pageX, event.pageY, event.wheelDeltaX, event.wheelDeltaY);\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\n\n\t/*\n\t * FEATURE DETECTION\n\t */\n\n\t(function() {\n\n\t\tlet keyboard = 'onkeydown' in global;\n\t\tlet touch    = 'ontouchstart' in global;\n\t\tlet mouse    = 'onmousedown' in global;\n\n\n\t\tif (typeof global.addEventListener === 'function') {\n\n\t\t\tif (keyboard) {\n\t\t\t\tglobal.addEventListener('keydown',    _listeners.keydown,    true);\n\t\t\t}\n\n\t\t\tif (touch) {\n\n\t\t\t\tglobal.addEventListener('touchstart', _listeners.touchstart, true);\n\t\t\t\tglobal.addEventListener('touchmove',  _listeners.touchmove,  true);\n\t\t\t\tglobal.addEventListener('touchend',   _listeners.touchend,   true);\n\n\t\t\t} else if (mouse) {\n\n\t\t\t\tglobal.addEventListener('mousedown',  _listeners.mousestart, true);\n\t\t\t\tglobal.addEventListener('mousemove',  _listeners.mousemove,  true);\n\t\t\t\tglobal.addEventListener('mouseup',    _listeners.mouseend,   true);\n\t\t\t\tglobal.addEventListener('mouseout',   _listeners.mouseend,   true);\n\t\t\t\tglobal.addEventListener('mousewheel', _listeners.mousewheel, true);\n\n\t\t\t}\n\n\t\t}\n\n\n\t\tif (lychee.debug === true) {\n\n\t\t\tlet methods = [];\n\n\t\t\tif (keyboard) methods.push('Keyboard');\n\t\t\tif (touch)    methods.push('Touch');\n\t\t\tif (mouse)    methods.push('Mouse');\n\n\t\t\tif (methods.length === 0) {\n\t\t\t\tconsole.error('lychee.Input: Supported methods are NONE');\n\t\t\t} else {\n\t\t\t\tconsole.info('lychee.Input: Supported methods are ' + methods.join(', '));\n\t\t\t}\n\n\t\t}\n\n\t})();\n\n\n\n\t/*\n\t * HELPERS\n\t */\n\n\tconst _KEYMAP = {\n\n\t\t 8:  'backspace',\n\t\t 9:  'tab',\n\t\t13:  'enter',\n\t\t16:  'shift',\n\t\t17:  'ctrl',\n\t\t18:  'alt',\n\t\t19:  'pause',\n\t\t// 20:  'capslock',\n\n\t\t27:  'escape',\n\t\t32:  'space',\n\t\t33:  'page-up',\n\t\t34:  'page-down',\n\t\t35:  'end',\n\t\t36:  'home',\n\n\t\t37:  'arrow-left',\n\t\t38:  'arrow-up',\n\t\t39:  'arrow-right',\n\t\t40:  'arrow-down',\n\n\t\t45:  'insert',\n\t\t46:  'delete',\n\n\t\t65:  'a',\n\t\t66:  'b',\n\t\t67:  'c',\n\t\t68:  'd',\n\t\t69:  'e',\n\t\t70:  'f',\n\t\t71:  'g',\n\t\t72:  'h',\n\t\t73:  'i',\n\t\t74:  'j',\n\t\t75:  'k',\n\t\t76:  'l',\n\t\t77:  'm',\n\t\t78:  'n',\n\t\t79:  'o',\n\t\t80:  'p',\n\t\t81:  'q',\n\t\t82:  'r',\n\t\t83:  's',\n\t\t84:  't',\n\t\t85:  'u',\n\t\t86:  'v',\n\t\t87:  'w',\n\t\t88:  'x',\n\t\t89:  'y',\n\t\t90:  'z',\n\n\t\t96:  '0',\n\t\t97:  '1',\n\t\t98:  '2',\n\t\t99:  '3',\n\t\t100: '4',\n\t\t101: '5',\n\t\t102: '6',\n\t\t103: '7',\n\t\t104: '8',\n\t\t105: '9',\n\t\t106: '*',\n\t\t107: '+',\n\t\t109: '-',\n\t\t110: '.',\n\t\t111: '/',\n\n\t\t112: 'f1',\n\t\t113: 'f2',\n\t\t114: 'f3',\n\t\t115: 'f4',\n\t\t116: 'f5',\n\t\t117: 'f6',\n\t\t118: 'f7',\n\t\t119: 'f8',\n\t\t120: 'f9',\n\t\t121: 'f10',\n\t\t122: 'f11',\n\t\t123: 'f12'\n\n\t};\n\n\tconst _SPECIALMAP = {\n\n\t\t48:  [ '0', ')' ],\n\t\t49:  [ '1', '!' ],\n\t\t50:  [ '2', '@' ],\n\t\t51:  [ '3', '#' ],\n\t\t52:  [ '4', '$' ],\n\t\t53:  [ '5', '%' ],\n\t\t54:  [ '6', '^' ],\n\t\t55:  [ '7', '&' ],\n\t\t56:  [ '8', '*' ],\n\t\t57:  [ '9', '(' ],\n\n\t\t186: [ ';', ':' ],\n\t\t187: [ '=', '+' ],\n\t\t188: [ ',', '<' ],\n\t\t189: [ '-', '_' ],\n\t\t190: [ '.', '>' ],\n\t\t191: [ '/', '?' ],\n\t\t192: [ '`', '~' ],\n\n\t\t219: [ '[',  '{' ],\n\t\t220: [ '\\\\', '|' ],\n\t\t221: [ ']',  '}' ],\n\t\t222: [ '\\'', '\"' ]\n\n\t};\n\n\tconst _process_key = function(code, ctrl, alt, shift) {\n\n\t\tif (this.key === false) {\n\t\t\treturn false;\n\t\t}\n\n\n\t\tctrl  =  ctrl === true;\n\t\talt   =   alt === true;\n\t\tshift = shift === true;\n\n\n\t\tif (_KEYMAP[code] === undefined && _SPECIALMAP[code] === undefined) {\n\n\t\t\treturn false;\n\n\t\t} else if (this.keymodifier === false) {\n\n\t\t\tif (code === 16 && shift === true) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif (code === 17 && ctrl === true) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif (code === 18 && alt === true) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t}\n\n\n\t\tlet key     = null;\n\t\tlet name    = null;\n\t\tlet tmp     = null;\n\t\tlet handled = false;\n\t\tlet delta   = Date.now() - this.__clock.key;\n\n\t\tif (delta < this.delay) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\tthis.__clock.key = Date.now();\n\t\t}\n\n\n\t\t// 0. Computation of Special Characters\n\t\tif (_SPECIALMAP[code] !== undefined) {\n\n\t\t\ttmp  = _SPECIALMAP[code];\n\t\t\tkey  = shift === true ? tmp[1] : tmp[0];\n\t\t\tname = '';\n\n\t\t\tif (ctrl  === true) name += 'ctrl-';\n\t\t\tif (alt   === true) name += 'alt-';\n\t\t\tif (shift === true) name += 'shift-';\n\n\t\t\tname += tmp[0];\n\n\t\t// 0. Computation of Normal Characters\n\t\t} else if (_KEYMAP[code] !== undefined) {\n\n\t\t\tkey  = _KEYMAP[code];\n\t\t\tname = '';\n\n\t\t\tif (ctrl  === true && key !== 'ctrl')  name += 'ctrl-';\n\t\t\tif (alt   === true && key !== 'alt')   name += 'alt-';\n\t\t\tif (shift === true && key !== 'shift') name += 'shift-';\n\n\n\t\t\tif (shift === true && key !== 'ctrl' && key !== 'alt' && key !== 'shift') {\n\n\t\t\t\ttmp = String.fromCharCode(code);\n\t\t\t\tkey = tmp.trim() !== '' ? tmp : key;\n\n\t\t\t}\n\n\n\t\t\tname += key.toLowerCase();\n\n\t\t}\n\n\n\t\t// 1. Event API\n\t\tif (key !== null) {\n\n\t\t\t// bind('key') and bind('ctrl-a');\n\t\t\t// bind('!')   and bind('shift-1');\n\n\t\t\thandled = this.trigger('key', [ key, name, delta ]) || handled;\n\t\t\thandled = this.trigger(name,  [ delta ])            || handled;\n\n\t\t}\n\n\n\t\treturn handled;\n\n\t};\n\n\tconst _process_scroll = function(id, x, y, dx, dy) {\n\n\t\tif (this.scroll === false) {\n\t\t\treturn false;\n\t\t}\n\n\n\t\tlet direction = null;\n\t\tlet position  = { x: x, y: y };\n\t\tlet handled   = false;\n\t\tlet delta     = Date.now() - this.__clock.scroll;\n\n\t\tif (delta < this.delay) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\tthis.__clock.scroll = Date.now();\n\t\t}\n\n\n\t\t// 0. Computation\n\t\tif (Math.abs(dx) > Math.abs(dy)) {\n\t\t\tdirection = dx < 0 ? 'right' : 'left';\n\t\t} else {\n\t\t\tdirection = dy < 0 ? 'down'  : 'up';\n\t\t}\n\n\n\t\t// 1. Event API\n\t\tif (direction !== null) {\n\n\t\t\thandled = this.trigger('scroll', [ id, direction, position, delta ]) || handled;\n\n\t\t}\n\n\n\t\treturn handled;\n\n\t};\n\n\tconst _process_swipe = function(id, state, x, y) {\n\n\t\tif (this.swipe === false) {\n\t\t\treturn false;\n\t\t}\n\n\n\t\tlet position = { x: x, y: y };\n\t\tlet swipe    = { x: 0, y: 0 };\n\t\tlet handled  = false;\n\t\tlet delta    = Date.now() - this.__clock.swipe;\n\n\t\tif (delta < this.delay) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\tthis.__clock.swipe = Date.now();\n\t\t}\n\n\n\t\t// 0. Computation of Swipe\n\t\tif (this.__swipes[id] !== null) {\n\n\t\t\t// FIX for touchend events\n\t\t\tif (state === 'end' && x === 0 && y === 0) {\n\t\t\t\tposition.x = this.__swipes[id].x;\n\t\t\t\tposition.y = this.__swipes[id].y;\n\t\t\t}\n\n\t\t\tswipe.x = x - this.__swipes[id].x;\n\t\t\tswipe.y = y - this.__swipes[id].y;\n\n\t\t}\n\n\n\t\t// 1. Event API\n\t\tif (state === 'start') {\n\n\t\t\thandled = this.trigger(\n\t\t\t\t'swipe',\n\t\t\t\t[ id, 'start', position, delta, swipe ]\n\t\t\t) || handled;\n\n\t\t\tthis.__swipes[id] = {\n\t\t\t\tx: x, y: y\n\t\t\t};\n\n\t\t} else if (state === 'move') {\n\n\t\t\thandled = this.trigger(\n\t\t\t\t'swipe',\n\t\t\t\t[ id, 'move', position, delta, swipe ]\n\t\t\t) || handled;\n\n\t\t} else if (state === 'end') {\n\n\t\t\thandled = this.trigger(\n\t\t\t\t'swipe',\n\t\t\t\t[ id, 'end', position, delta, swipe ]\n\t\t\t) || handled;\n\n\t\t\tthis.__swipes[id] = null;\n\n\t\t}\n\n\n\t\treturn handled;\n\n\t};\n\n\tconst _process_touch = function(id, x, y) {\n\n\t\tif (this.touch === false && this.swipe === true) {\n\n\t\t\tif (this.__swipes[id] === null) {\n\t\t\t\t_process_swipe.call(this, id, 'start', x, y);\n\t\t\t}\n\n\t\t\treturn true;\n\n\t\t} else if (this.touch === false) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\n\t\tlet position = { x: x, y: y };\n\t\tlet handled  = false;\n\t\tlet delta    = Date.now() - this.__clock.touch;\n\n\t\tif (delta < this.delay) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\tthis.__clock.touch = Date.now();\n\t\t}\n\n\n\t\t// 1. Event API\n\t\thandled = this.trigger('touch', [ id, position, delta ]) || handled;\n\n\n\t\t// 1. Event API: Swipe only for tracked Touches\n\t\tif (this.__swipes[id] === null) {\n\t\t\thandled = _process_swipe.call(this, id, 'start', x, y) || handled;\n\t\t}\n\n\n\t\treturn handled;\n\n\t};\n\n\n\n\t/*\n\t * IMPLEMENTATION\n\t */\n\n\tconst Composite = function(data) {\n\n\t\tlet states = Object.assign({}, data);\n\n\n\t\tthis.delay       = 0;\n\t\tthis.key         = false;\n\t\tthis.keymodifier = false;\n\t\tthis.touch       = false;\n\t\tthis.scroll      = false;\n\t\tthis.swipe       = false;\n\n\t\tthis.__clock   = {\n\t\t\tkey:    Date.now(),\n\t\t\tscroll: Date.now(),\n\t\t\tswipe:  Date.now(),\n\t\t\ttouch:  Date.now()\n\t\t};\n\t\tthis.__swipes  = {\n\t\t\t0: null, 1: null,\n\t\t\t2: null, 3: null,\n\t\t\t4: null, 5: null,\n\t\t\t6: null, 7: null,\n\t\t\t8: null, 9: null\n\t\t};\n\n\n\t\tthis.setDelay(states.delay);\n\t\tthis.setKey(states.key);\n\t\tthis.setKeyModifier(states.keymodifier);\n\t\tthis.setScroll(states.scroll);\n\t\tthis.setSwipe(states.swipe);\n\t\tthis.setTouch(states.touch);\n\n\n\t\t_Emitter.call(this);\n\n\t\t_INSTANCES.push(this);\n\n\t\tstates = null;\n\n\t};\n\n\n\tComposite.prototype = {\n\n\t\tdestroy: function() {\n\n\t\t\tlet found = false;\n\n\t\t\tfor (let i = 0, il = _INSTANCES.length; i < il; i++) {\n\n\t\t\t\tif (_INSTANCES[i] === this) {\n\t\t\t\t\t_INSTANCES.splice(i, 1);\n\t\t\t\t\tfound = true;\n\t\t\t\t\til--;\n\t\t\t\t\ti--;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.unbind();\n\n\n\t\t\treturn found;\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * ENTITY API\n\t\t */\n\n\t\t// deserialize: function(blob) {},\n\n\t\tserialize: function() {\n\n\t\t\tlet data = _Emitter.prototype.serialize.call(this);\n\t\t\tdata['constructor'] = 'lychee.Input';\n\n\t\t\tlet states = {};\n\n\n\t\t\tif (this.delay !== 0)           states.delay       = this.delay;\n\t\t\tif (this.key !== false)         states.key         = this.key;\n\t\t\tif (this.keymodifier !== false) states.keymodifier = this.keymodifier;\n\t\t\tif (this.touch !== false)       states.touch       = this.touch;\n\t\t\tif (this.swipe !== false)       states.swipe       = this.swipe;\n\n\n\t\t\tdata['arguments'][0] = states;\n\n\n\t\t\treturn data;\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * CUSTOM API\n\t\t */\n\n\t\tsetDelay: function(delay) {\n\n\t\t\tdelay = typeof delay === 'number' ? delay : null;\n\n\n\t\t\tif (delay !== null) {\n\n\t\t\t\tthis.delay = delay;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetKey: function(key) {\n\n\t\t\tkey = typeof key === 'boolean' ? key : null;\n\n\n\t\t\tif (key !== null) {\n\n\t\t\t\tthis.key = key;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetKeyModifier: function(keymodifier) {\n\n\t\t\tkeymodifier = typeof keymodifier === 'boolean' ? keymodifier : null;\n\n\n\t\t\tif (keymodifier !== null) {\n\n\t\t\t\tthis.keymodifier = keymodifier;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetTouch: function(touch) {\n\n\t\t\ttouch = typeof touch === 'boolean' ? touch : null;\n\n\n\t\t\tif (touch !== null) {\n\n\t\t\t\tthis.touch = touch;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetScroll: function(scroll) {\n\n\t\t\tscroll = typeof scroll === 'boolean' ? scroll : null;\n\n\n\t\t\tif (scroll !== null) {\n\n\t\t\t\tthis.scroll = scroll;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetSwipe: function(swipe) {\n\n\t\t\tswipe = typeof swipe === 'boolean' ? swipe : null;\n\n\n\t\t\tif (swipe !== null) {\n\n\t\t\t\tthis.swipe = swipe;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t}\n\n\t};\n\n\n\treturn Composite;\n\n}"}},"lychee.Renderer":{"constructor":"lychee.Definition","arguments":[{"id":"lychee.Renderer","url":"/libraries/lychee/source/platform/html/Renderer.js"}],"blob":{"attaches":{},"tags":{"platform":"html"},"supports":"function(lychee, global) {\n\n\t/*\n\t * XXX: typeof CanvasRenderingContext2D is:\n\t * > function in Chrome, Firefox, IE10\n\t * > object in Safari, Safari Mobile\n\t */\n\n\n\tif (\n\t\ttypeof global.document !== 'undefined'\n\t\t&& typeof global.document.createElement === 'function'\n\t\t&& typeof global.CanvasRenderingContext2D !== 'undefined'\n\t) {\n\t\treturn true;\n\t}\n\n\n\treturn false;\n\n}","exports":"function(lychee, global, attachments) {\n\n\tconst _PI2  = Math.PI * 2;\n\tlet   _id   = 0;\n\tlet   _body = null;\n\n\n\n\t/*\n\t * FEATURE DETECTION\n\t */\n\n\t(function(global) {\n\n\t\tif (typeof global.document !== 'undefined') {\n\n\t\t\tif (typeof global.document.body !== 'undefined') {\n\t\t\t\t_body = global.document.body;\n\t\t\t}\n\n\t\t}\n\n\t})(global);\n\n\n\n\t/*\n\t * HELPERS\n\t */\n\n\tconst _VENDORS = [ 'moz', 'ms', 'o', 'webkit' ];\n\tconst _fix_css = function() {\n\n\t\tlet found = null;\n\t\tlet style = this.__canvas.style;\n\n\t\tfor (let v = 0, vl = _VENDORS.length; v < vl; v++) {\n\n\t\t\tlet vendor = _VENDORS[v];\n\t\t\tif (vendor + 'UserSelect' in style) {\n\t\t\t\tfound = vendor;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t}\n\n\t\tif (found !== null) {\n\t\t\tstyle[found + 'UserSelect'] = 'none';\n\t\t} else {\n\t\t\tstyle['userSelect'] = 'none';\n\t\t}\n\n\t\tstyle['display'] = 'block';\n\n\n\t\tif (_body !== null) {\n\t\t\t_body.style['margin']   = '0px';\n\t\t\t_body.style['padding']  = '0px';\n\t\t\t_body.style['overflow'] = 'hidden';\n\t\t}\n\n\t};\n\n\n\n\t/*\n\t * STRUCTS\n\t */\n\n\tconst _Buffer = function(width, height) {\n\n\t\tthis.width  = typeof width === 'number'  ? width  : 1;\n\t\tthis.height = typeof height === 'number' ? height : 1;\n\n\t\tthis.__buffer = global.document.createElement('canvas');\n\t\tthis.__ctx    = this.__buffer.getContext('2d');\n\n\n\t\tthis.resize(this.width, this.height);\n\n\t};\n\n\t_Buffer.prototype = {\n\n\t\tclear: function() {\n\n\t\t\tthis.__ctx.clearRect(0, 0, this.width, this.height);\n\n\t\t},\n\n\t\tresize: function(width, height) {\n\n\t\t\tthis.width  = width;\n\t\t\tthis.height = height;\n\n\t\t\tthis.__buffer.width  = this.width;\n\t\t\tthis.__buffer.height = this.height;\n\n\t\t}\n\n\t};\n\n\n\n\t/*\n\t * IMPLEMENTATION\n\t */\n\n\tconst Composite = function(data) {\n\n\t\tlet states = Object.assign({}, data);\n\n\n\t\tthis.alpha      = 1.0;\n\t\tthis.background = '#000000';\n\t\tthis.id         = 'lychee-Renderer-' + _id++;\n\t\tthis.width      = null;\n\t\tthis.height     = null;\n\t\tthis.offset     = { x: 0, y: 0 };\n\n\t\tthis.__canvas           = global.document.createElement('canvas');\n\t\tthis.__canvas.className = 'lychee-Renderer';\n\t\tthis.__ctx              = this.__canvas.getContext('2d');\n\n\n\t\tif (_body !== null) {\n\t\t\t_body.appendChild(this.__canvas);\n\t\t}\n\n\t\t_fix_css.call(this);\n\n\n\t\tthis.setAlpha(states.alpha);\n\t\tthis.setBackground(states.background);\n\t\tthis.setId(states.id);\n\t\tthis.setWidth(states.width);\n\t\tthis.setHeight(states.height);\n\n\n\t\tstates = null;\n\n\t};\n\n\n\tComposite.prototype = {\n\n\t\tdestroy: function() {\n\n\t\t\tlet canvas = this.__canvas;\n\t\t\tif (canvas.parentNode !== null) {\n\t\t\t\tcanvas.parentNode.removeChild(canvas);\n\t\t\t}\n\n\n\t\t\treturn true;\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * ENTITY API\n\t\t */\n\n\t\t// deserialize: function(blob) {},\n\n\t\tserialize: function() {\n\n\t\t\tlet states = {};\n\n\n\t\t\tif (this.alpha !== 1.0)                               states.alpha      = this.alpha;\n\t\t\tif (this.background !== '#000000')                    states.background = this.background;\n\t\t\tif (this.id.startsWith('lychee-Renderer-') === false) states.id         = this.id;\n\t\t\tif (this.width !== null)                              states.width      = this.width;\n\t\t\tif (this.height !== null)                             states.height     = this.height;\n\n\n\t\t\treturn {\n\t\t\t\t'constructor': 'lychee.Renderer',\n\t\t\t\t'arguments':   [ states ],\n\t\t\t\t'blob':        null\n\t\t\t};\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * SETTERS AND GETTERS\n\t\t */\n\n\t\tsetAlpha: function(alpha) {\n\n\t\t\talpha = typeof alpha === 'number' ? alpha : null;\n\n\n\t\t\tif (alpha !== null) {\n\n\t\t\t\tif (alpha >= 0 && alpha <= 1) {\n\n\t\t\t\t\tthis.alpha = alpha;\n\n\t\t\t\t\treturn true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetBackground: function(color) {\n\n\t\t\tcolor = /(#[AaBbCcDdEeFf0-9]{6})/g.test(color) ? color : null;\n\n\n\t\t\tif (color !== null) {\n\n\t\t\t\tthis.background = color;\n\t\t\t\tthis.__canvas.style.backgroundColor = color;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetId: function(id) {\n\n\t\t\tid = typeof id === 'string' ? id : null;\n\n\n\t\t\tif (id !== null) {\n\n\t\t\t\tthis.id = id;\n\t\t\t\tthis.__canvas.id = id;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetWidth: function(width) {\n\n\t\t\twidth = typeof width === 'number' ? width : null;\n\n\n\t\t\tif (width !== null) {\n\t\t\t\tthis.width = width | 0;\n\t\t\t} else {\n\t\t\t\tthis.width = global.innerWidth | 0;\n\t\t\t}\n\n\n\t\t\tthis.__canvas.width       = this.width;\n\t\t\tthis.__canvas.style.width = this.width + 'px';\n\t\t\tthis.offset.x             = this.__canvas.getBoundingClientRect().left;\n\n\n\t\t\treturn true;\n\n\t\t},\n\n\t\tsetHeight: function(height) {\n\n\t\t\theight = typeof height === 'number' ? height : null;\n\n\n\t\t\tif (height !== null) {\n\t\t\t\tthis.height = height | 0;\n\t\t\t} else {\n\t\t\t\tthis.height = global.innerHeight | 0;\n\t\t\t}\n\n\n\t\t\tthis.__canvas.height       = this.height;\n\t\t\tthis.__canvas.style.height = this.height + 'px';\n\t\t\tthis.offset.y              = this.__canvas.getBoundingClientRect().top;\n\n\n\t\t\treturn true;\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * BUFFER INTEGRATION\n\t\t */\n\n\t\tclear: function(buffer) {\n\n\t\t\tbuffer = buffer instanceof _Buffer ? buffer : null;\n\n\n\t\t\tif (buffer !== null) {\n\n\t\t\t\tbuffer.clear();\n\n\t\t\t} else {\n\n\t\t\t\tlet ctx = this.__ctx;\n\n\t\t\t\tctx.fillStyle = this.background;\n\t\t\t\tctx.fillRect(0, 0, this.width, this.height);\n\n\t\t\t}\n\n\n\t\t\treturn true;\n\n\t\t},\n\n\t\tflush: function() {\n\n\t\t\treturn true;\n\n\t\t},\n\n\t\tcreateBuffer: function(width, height) {\n\n\t\t\twidth  = typeof width === 'number'  ? width  : 1;\n\t\t\theight = typeof height === 'number' ? height : 1;\n\n\n\t\t\treturn new _Buffer(width, height);\n\n\t\t},\n\n\t\tsetBuffer: function(buffer) {\n\n\t\t\tbuffer = buffer instanceof _Buffer ? buffer : null;\n\n\n\t\t\tif (buffer !== null) {\n\t\t\t\tthis.__ctx = buffer.__ctx;\n\t\t\t} else {\n\t\t\t\tthis.__ctx = this.__canvas.getContext('2d');\n\t\t\t}\n\n\n\t\t\treturn true;\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * DRAWING API\n\t\t */\n\n\t\tdrawArc: function(x, y, start, end, radius, color, background, lineWidth) {\n\n\t\t\tx          = x | 0;\n\t\t\ty          = y | 0;\n\t\t\tradius     = radius | 0;\n\t\t\tstart      = typeof start === 'number'              ? start     : 0;\n\t\t\tend        = typeof end === 'number'                ? end       : 2;\n\t\t\tcolor      = /(#[AaBbCcDdEeFf0-9]{6})/g.test(color) ? color     : '#000000';\n\t\t\tbackground = background === true;\n\t\t\tlineWidth  = typeof lineWidth === 'number'          ? lineWidth : 1;\n\n\n\t\t\tlet ctx = this.__ctx;\n\n\n\t\t\tctx.globalAlpha = this.alpha;\n\t\t\tctx.beginPath();\n\n\t\t\tctx.arc(\n\t\t\t\tx,\n\t\t\t\ty,\n\t\t\t\tradius,\n\t\t\t\tstart * _PI2,\n\t\t\t\tend   * _PI2\n\t\t\t);\n\n\t\t\tif (background === false) {\n\t\t\t\tctx.lineWidth   = lineWidth;\n\t\t\t\tctx.strokeStyle = color;\n\t\t\t\tctx.stroke();\n\t\t\t} else {\n\t\t\t\tctx.fillStyle   = color;\n\t\t\t\tctx.fill();\n\t\t\t}\n\n\t\t\tctx.closePath();\n\n\n\t\t\treturn true;\n\n\t\t},\n\n\t\tdrawBox: function(x1, y1, x2, y2, color, background, lineWidth) {\n\n\t\t\tx1         = x1 | 0;\n\t\t\ty1         = y1 | 0;\n\t\t\tx2         = x2 | 0;\n\t\t\ty2         = y2 | 0;\n\t\t\tcolor      = /(#[AaBbCcDdEeFf0-9]{6})/g.test(color) ? color : '#000000';\n\t\t\tbackground = background === true;\n\t\t\tlineWidth  = typeof lineWidth === 'number' ? lineWidth : 1;\n\n\n\t\t\tlet ctx = this.__ctx;\n\n\n\t\t\tctx.globalAlpha = this.alpha;\n\n\t\t\tif (background === false) {\n\t\t\t\tctx.lineWidth   = lineWidth;\n\t\t\t\tctx.strokeStyle = color;\n\t\t\t\tctx.strokeRect(x1, y1, x2 - x1, y2 - y1);\n\t\t\t} else {\n\t\t\t\tctx.fillStyle   = color;\n\t\t\t\tctx.fillRect(x1, y1, x2 - x1, y2 - y1);\n\t\t\t}\n\n\n\t\t\treturn true;\n\n\t\t},\n\n\t\tdrawBuffer: function(x1, y1, buffer, map) {\n\n\t\t\tx1     = x1 | 0;\n\t\t\ty1     = y1 | 0;\n\t\t\tbuffer = buffer instanceof _Buffer ? buffer : null;\n\t\t\tmap    = map instanceof Object     ? map    : null;\n\n\n\t\t\tif (buffer !== null) {\n\n\t\t\t\tlet ctx    = this.__ctx;\n\t\t\t\tlet width  = 0;\n\t\t\t\tlet height = 0;\n\t\t\t\tlet x      = 0;\n\t\t\t\tlet y      = 0;\n\t\t\t\tlet r      = 0;\n\n\n\t\t\t\tctx.globalAlpha = this.alpha;\n\n\t\t\t\tif (map === null) {\n\n\t\t\t\t\twidth  = buffer.width;\n\t\t\t\t\theight = buffer.height;\n\n\t\t\t\t\tif (width > 0 && height > 0) {\n\n\t\t\t\t\t\tctx.drawImage(\n\t\t\t\t\t\t\tbuffer.__buffer,\n\t\t\t\t\t\t\tx,\n\t\t\t\t\t\t\ty,\n\t\t\t\t\t\t\twidth,\n\t\t\t\t\t\t\theight,\n\t\t\t\t\t\t\tx1,\n\t\t\t\t\t\t\ty1,\n\t\t\t\t\t\t\twidth,\n\t\t\t\t\t\t\theight\n\t\t\t\t\t\t);\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\twidth  = map.w;\n\t\t\t\t\theight = map.h;\n\t\t\t\t\tx      = map.x;\n\t\t\t\t\ty      = map.y;\n\t\t\t\t\tr      = map.r || 0;\n\n\t\t\t\t\tif (r === 0) {\n\n\t\t\t\t\t\tif (width > 0 && height > 0) {\n\n\t\t\t\t\t\t\tctx.drawImage(\n\t\t\t\t\t\t\t\tbuffer.__buffer,\n\t\t\t\t\t\t\t\tx,\n\t\t\t\t\t\t\t\ty,\n\t\t\t\t\t\t\t\twidth,\n\t\t\t\t\t\t\t\theight,\n\t\t\t\t\t\t\t\tx1,\n\t\t\t\t\t\t\t\ty1,\n\t\t\t\t\t\t\t\twidth,\n\t\t\t\t\t\t\t\theight\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tlet cos = Math.cos(r * Math.PI / 180);\n\t\t\t\t\t\tlet sin = Math.sin(r * Math.PI / 180);\n\n\t\t\t\t\t\tctx.setTransform(\n\t\t\t\t\t\t\tcos,\n\t\t\t\t\t\t\tsin,\n\t\t\t\t\t\t\t-sin,\n\t\t\t\t\t\t\tcos,\n\t\t\t\t\t\t\tx1,\n\t\t\t\t\t\t\ty1\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tctx.drawImage(\n\t\t\t\t\t\t\tbuffer.__buffer,\n\t\t\t\t\t\t\tx,\n\t\t\t\t\t\t\ty,\n\t\t\t\t\t\t\twidth,\n\t\t\t\t\t\t\theight,\n\t\t\t\t\t\t\t-1 / 2 * width,\n\t\t\t\t\t\t\t-1 / 2 * height,\n\t\t\t\t\t\t\twidth,\n\t\t\t\t\t\t\theight\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tctx.setTransform(\n\t\t\t\t\t\t\t1,\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t1,\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t0\n\t\t\t\t\t\t);\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn true;\n\n\t\t},\n\n\t\tdrawCircle: function(x, y, radius, color, background, lineWidth) {\n\n\t\t\tx          = x | 0;\n\t\t\ty          = y | 0;\n\t\t\tradius     = radius | 0;\n\t\t\tcolor      = /(#[AaBbCcDdEeFf0-9]{6})/g.test(color) ? color : '#000000';\n\t\t\tbackground = background === true;\n\t\t\tlineWidth  = typeof lineWidth === 'number' ? lineWidth : 1;\n\n\n\t\t\tlet ctx = this.__ctx;\n\n\n\t\t\tctx.globalAlpha = this.alpha;\n\t\t\tctx.beginPath();\n\n\t\t\tctx.arc(\n\t\t\t\tx,\n\t\t\t\ty,\n\t\t\t\tradius,\n\t\t\t\t0,\n\t\t\t\t_PI2\n\t\t\t);\n\n\n\t\t\tif (background === false) {\n\t\t\t\tctx.lineWidth   = lineWidth;\n\t\t\t\tctx.strokeStyle = color;\n\t\t\t\tctx.stroke();\n\t\t\t} else {\n\t\t\t\tctx.fillStyle   = color;\n\t\t\t\tctx.fill();\n\t\t\t}\n\n\t\t\tctx.closePath();\n\n\n\t\t\treturn true;\n\n\t\t},\n\n\t\tdrawLine: function(x1, y1, x2, y2, color, lineWidth) {\n\n\t\t\tx1        = x1 | 0;\n\t\t\ty1        = y1 | 0;\n\t\t\tx2        = x2 | 0;\n\t\t\ty2        = y2 | 0;\n\t\t\tcolor     = /(#[AaBbCcDdEeFf0-9]{6})/g.test(color) ? color : '#000000';\n\t\t\tlineWidth = typeof lineWidth === 'number' ? lineWidth : 1;\n\n\n\t\t\tlet ctx = this.__ctx;\n\n\n\t\t\tctx.globalAlpha = this.alpha;\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(x1, y1);\n\t\t\tctx.lineTo(x2, y2);\n\n\t\t\tctx.lineWidth   = lineWidth;\n\t\t\tctx.strokeStyle = color;\n\t\t\tctx.stroke();\n\n\t\t\tctx.closePath();\n\n\n\t\t\treturn true;\n\n\t\t},\n\n\t\tdrawTriangle: function(x1, y1, x2, y2, x3, y3, color, background, lineWidth) {\n\n\t\t\tx1         = x1 | 0;\n\t\t\ty1         = y1 | 0;\n\t\t\tx2         = x2 | 0;\n\t\t\ty2         = y2 | 0;\n\t\t\tx3         = x3 | 0;\n\t\t\ty3         = y3 | 0;\n\t\t\tcolor      = /(#[AaBbCcDdEeFf0-9]{6})/g.test(color) ? color : '#000000';\n\t\t\tbackground = background === true;\n\t\t\tlineWidth  = typeof lineWidth === 'number' ? lineWidth : 1;\n\n\n\t\t\tlet ctx = this.__ctx;\n\n\n\t\t\tctx.globalAlpha = this.alpha;\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(x1, y1);\n\t\t\tctx.lineTo(x2, y2);\n\t\t\tctx.lineTo(x3, y3);\n\t\t\tctx.lineTo(x1, y1);\n\n\t\t\tif (background === false) {\n\t\t\t\tctx.lineWidth   = lineWidth;\n\t\t\t\tctx.strokeStyle = color;\n\t\t\t\tctx.stroke();\n\t\t\t} else {\n\t\t\t\tctx.fillStyle   = color;\n\t\t\t\tctx.fill();\n\t\t\t}\n\n\t\t\tctx.closePath();\n\n\n\t\t\treturn true;\n\n\t\t},\n\n\t\t// points, x1, y1, [ ... x(a), y(a) ... ], [ color, background, lineWidth ]\n\t\tdrawPolygon: function(points, x1, y1) {\n\n\t\t\tpoints = typeof points === 'number' ? points : 0;\n\t\t\tx1     = x1 | 0;\n\t\t\ty1     = y1 | 0;\n\n\n\t\t\tlet l = arguments.length;\n\n\t\t\tif (points > 3) {\n\n\t\t\t\tlet optargs = l - (points * 2) - 1;\n\t\t\t\tlet color, background, lineWidth;\n\n\t\t\t\tif (optargs === 3) {\n\n\t\t\t\t\tcolor      = arguments[l - 3];\n\t\t\t\t\tbackground = arguments[l - 2];\n\t\t\t\t\tlineWidth  = arguments[l - 1];\n\n\t\t\t\t} else if (optargs === 2) {\n\n\t\t\t\t\tcolor      = arguments[l - 2];\n\t\t\t\t\tbackground = arguments[l - 1];\n\n\t\t\t\t} else if (optargs === 1) {\n\n\t\t\t\t\tcolor      = arguments[l - 1];\n\n\t\t\t\t}\n\n\n\t\t\t\tcolor      = /(#[AaBbCcDdEeFf0-9]{6})/g.test(color) ? color : '#000000';\n\t\t\t\tbackground = background === true;\n\t\t\t\tlineWidth  = typeof lineWidth === 'number' ? lineWidth : 1;\n\n\n\t\t\t\tlet ctx = this.__ctx;\n\n\n\t\t\t\tctx.globalAlpha = this.alpha;\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.moveTo(x1, y1);\n\n\t\t\t\tfor (let p = 1; p < points; p++) {\n\n\t\t\t\t\tctx.lineTo(\n\t\t\t\t\t\targuments[1 + p * 2]     | 0,\n\t\t\t\t\t\targuments[1 + p * 2 + 1] | 0\n\t\t\t\t\t);\n\n\t\t\t\t}\n\n\t\t\t\tctx.lineTo(x1, y1);\n\n\t\t\t\tif (background === false) {\n\t\t\t\t\tctx.lineWidth   = lineWidth;\n\t\t\t\t\tctx.strokeStyle = color;\n\t\t\t\t\tctx.stroke();\n\t\t\t\t} else {\n\t\t\t\t\tctx.fillStyle   = color;\n\t\t\t\t\tctx.fill();\n\t\t\t\t}\n\n\t\t\t\tctx.closePath();\n\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tdrawSprite: function(x1, y1, texture, map) {\n\n\t\t\tx1      = x1 | 0;\n\t\t\ty1      = y1 | 0;\n\t\t\ttexture = texture instanceof Texture ? texture : null;\n\t\t\tmap     = map instanceof Object      ? map     : null;\n\n\n\t\t\tif (texture !== null && texture.buffer !== null) {\n\n\t\t\t\tlet ctx    = this.__ctx;\n\t\t\t\tlet width  = 0;\n\t\t\t\tlet height = 0;\n\t\t\t\tlet x      = 0;\n\t\t\t\tlet y      = 0;\n\t\t\t\tlet r      = 0;\n\n\n\t\t\t\tctx.globalAlpha = this.alpha;\n\n\t\t\t\tif (map === null) {\n\n\t\t\t\t\twidth  = texture.width;\n\t\t\t\t\theight = texture.height;\n\n\t\t\t\t\tctx.drawImage(\n\t\t\t\t\t\ttexture.buffer,\n\t\t\t\t\t\tx,\n\t\t\t\t\t\ty,\n\t\t\t\t\t\twidth,\n\t\t\t\t\t\theight,\n\t\t\t\t\t\tx1,\n\t\t\t\t\t\ty1,\n\t\t\t\t\t\twidth,\n\t\t\t\t\t\theight\n\t\t\t\t\t);\n\n\t\t\t\t} else {\n\n\t\t\t\t\twidth  = map.w;\n\t\t\t\t\theight = map.h;\n\t\t\t\t\tx      = map.x;\n\t\t\t\t\ty      = map.y;\n\t\t\t\t\tr      = map.r || 0;\n\n\t\t\t\t\tif (r === 0) {\n\n\t\t\t\t\t\tctx.drawImage(\n\t\t\t\t\t\t\ttexture.buffer,\n\t\t\t\t\t\t\tx,\n\t\t\t\t\t\t\ty,\n\t\t\t\t\t\t\twidth,\n\t\t\t\t\t\t\theight,\n\t\t\t\t\t\t\tx1,\n\t\t\t\t\t\t\ty1,\n\t\t\t\t\t\t\twidth,\n\t\t\t\t\t\t\theight\n\t\t\t\t\t\t);\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tlet cos = Math.cos(r * Math.PI / 180);\n\t\t\t\t\t\tlet sin = Math.sin(r * Math.PI / 180);\n\n\t\t\t\t\t\tctx.setTransform(\n\t\t\t\t\t\t\tcos,\n\t\t\t\t\t\t\tsin,\n\t\t\t\t\t\t\t-sin,\n\t\t\t\t\t\t\tcos,\n\t\t\t\t\t\t\tx1,\n\t\t\t\t\t\t\ty1\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tctx.drawImage(\n\t\t\t\t\t\t\ttexture.buffer,\n\t\t\t\t\t\t\tx,\n\t\t\t\t\t\t\ty,\n\t\t\t\t\t\t\twidth,\n\t\t\t\t\t\t\theight,\n\t\t\t\t\t\t\t-1 / 2 * width,\n\t\t\t\t\t\t\t-1 / 2 * height,\n\t\t\t\t\t\t\twidth,\n\t\t\t\t\t\t\theight\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tctx.setTransform(\n\t\t\t\t\t\t\t1,\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t1,\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t0\n\t\t\t\t\t\t);\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tdrawText: function(x1, y1, text, font, center) {\n\n\t\t\tx1     = x1 | 0;\n\t\t\ty1     = y1 | 0;\n\t\t\ttext   = typeof text === 'string' ? text : null;\n\t\t\tfont   = font instanceof Font     ? font : null;\n\t\t\tcenter = center === true;\n\n\n\t\t\tif (text !== null && font !== null) {\n\n\t\t\t\tif (center === true) {\n\n\t\t\t\t\tlet dim = font.measure(text);\n\n\t\t\t\t\tx1 = (x1 - dim.realwidth / 2) | 0;\n\t\t\t\t\ty1 = (y1 - (dim.realheight - font.baseline) / 2) | 0;\n\n\t\t\t\t}\n\n\n\t\t\t\ty1 = (y1 - font.baseline / 2) | 0;\n\n\n\t\t\t\tlet margin  = 0;\n\t\t\t\tlet texture = font.texture;\n\t\t\t\tif (texture !== null && texture.buffer !== null) {\n\n\t\t\t\t\tlet ctx = this.__ctx;\n\n\n\t\t\t\t\tctx.globalAlpha = this.alpha;\n\n\t\t\t\t\tfor (let t = 0, l = text.length; t < l; t++) {\n\n\t\t\t\t\t\tlet chr = font.measure(text[t]);\n\n\t\t\t\t\t\tctx.drawImage(\n\t\t\t\t\t\t\ttexture.buffer,\n\t\t\t\t\t\t\tchr.x,\n\t\t\t\t\t\t\tchr.y,\n\t\t\t\t\t\t\tchr.width,\n\t\t\t\t\t\t\tchr.height,\n\t\t\t\t\t\t\tx1 + margin - font.spacing,\n\t\t\t\t\t\t\ty1,\n\t\t\t\t\t\t\tchr.width,\n\t\t\t\t\t\t\tchr.height\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tmargin = margin + chr.realwidth + font.kerning;\n\n\t\t\t\t\t}\n\n\n\t\t\t\t\treturn true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t}\n\n\t};\n\n\n\treturn Composite;\n\n}"}},"lychee.Stash":{"constructor":"lychee.Definition","arguments":[{"id":"lychee.Stash","url":"/libraries/lychee/source/platform/html/Stash.js"}],"blob":{"attaches":{},"tags":{"platform":"html"},"includes":["lychee.event.Emitter"],"supports":"function(lychee, global) {\n\n\tif (\n\t\ttypeof global.Storage !== 'undefined'\n\t\t&& typeof global.localStorage === 'object'\n\t) {\n\t\treturn true;\n\t}\n\n\n\treturn true;\n\n}","exports":"function(lychee, global, attachments) {\n\n\tlet   _id         = 0;\n\tconst _Emitter    = lychee.import('lychee.event.Emitter');\n\tconst _JSON       = {\n\t\tencode: JSON.stringify,\n\t\tdecode: JSON.parse\n\t};\n\tconst _PERSISTENT = {\n\t\tdata: {},\n\t\tread: function() {\n\t\t\treturn null;\n\t\t},\n\t\twrite: function(id, asset) {\n\t\t\treturn false;\n\t\t}\n\t};\n\tconst _TEMPORARY  = {\n\t\tdata: {},\n\t\tread: function() {\n\n\t\t\tif (Object.keys(this.data).length > 0) {\n\t\t\t\treturn this.data;\n\t\t\t}\n\n\n\t\t\treturn null;\n\n\t\t},\n\t\twrite: function(id, asset) {\n\n\t\t\tif (asset !== null) {\n\t\t\t\tthis.data[id] = asset;\n\t\t\t} else {\n\t\t\t\tdelete this.data[id];\n\t\t\t}\n\n\t\t\treturn true;\n\n\t\t}\n\t};\n\n\n\n\t/*\n\t * FEATURE DETECTION\n\t */\n\n\t(function() {\n\n\t\tlet local   = false;\n\t\tlet session = true;\n\n\n\t\ttry {\n\n\t\t\tlocal = 'localStorage' in global;\n\n\t\t\t// XXX: Security Error\n\t\t\tglobal.localStorage.getItem('lychee-Stash-PERSISTENT');\n\n\t\t} catch (err) {\n\t\t\tlocal = false;\n\t\t}\n\n\n\t\tif (local === true) {\n\n\t\t\t_PERSISTENT.read = function() {\n\n\t\t\t\tthis.data = _JSON.decode(global.localStorage.getItem('lychee-Stash-PERSISTENT'));\n\n\n\t\t\t\tlet blob = {};\n\n\t\t\t\tfor (let id in this.data) {\n\t\t\t\t\tblob[id] = lychee.deserialize(this.data[id]);\n\t\t\t\t}\n\n\t\t\t\treturn Object.keys(blob).length > 0 ? blob : null;\n\n\t\t\t};\n\n\t\t\t_PERSISTENT.write = function(id, asset) {\n\n\t\t\t\tlet path = lychee.environment.resolve(id);\n\t\t\t\tif (path.startsWith(lychee.ROOT.project)) {\n\n\t\t\t\t\tif (asset !== null) {\n\n\t\t\t\t\t\tlet data = lychee.serialize(asset);\n\n\t\t\t\t\t\tif (data !== null && data.blob instanceof Object) {\n\n\t\t\t\t\t\t\tlet buffer = data.blob.buffer || null;\n\t\t\t\t\t\t\tif (buffer instanceof Object) {\n\n\t\t\t\t\t\t\t\tlet valid = true;\n\n\t\t\t\t\t\t\t\tfor (let sub in buffer) {\n\n\t\t\t\t\t\t\t\t\tif (typeof buffer[sub] === 'string') {\n\n\t\t\t\t\t\t\t\t\t\tlet index = buffer[sub].indexOf('base64,') + 7;\n\t\t\t\t\t\t\t\t\t\tif (index <= 7) {\n\t\t\t\t\t\t\t\t\t\t\tvalid = false;\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (valid === true) {\n\t\t\t\t\t\t\t\t\tthis.data[id] = data;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t} else if (typeof buffer === 'string') {\n\n\t\t\t\t\t\t\t\tlet index = buffer.indexOf('base64,') + 7;\n\t\t\t\t\t\t\t\tif (index > 7) {\n\t\t\t\t\t\t\t\t\tthis.data[id] = data;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthis.data[id] = null;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\n\t\t\t\tglobal.localStorage.setItem('lychee-Stash-PERSISTENT', _JSON.encode(this.data));\n\n\n\t\t\t\treturn true;\n\n\t\t\t};\n\n\n\t\t\t(function() {\n\n\t\t\t\tlet data = _JSON.decode(global.localStorage.getItem('lychee-Stash-PERSISTENT'));\n\t\t\t\tif (data !== null) {\n\n\t\t\t\t\tfor (let id in data) {\n\t\t\t\t\t\t_PERSISTENT.data[id] = data[id];\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t})();\n\n\t\t}\n\n\n\t\tif (lychee.debug === true) {\n\n\t\t\tlet methods = [];\n\n\t\t\tif (local)   methods.push('Persistent');\n\t\t\tif (session) methods.push('Temporary');\n\n\n\t\t\tif (methods.length === 0) {\n\t\t\t\tconsole.error('lychee.Stash: Supported methods are NONE');\n\t\t\t} else {\n\t\t\t\tconsole.info('lychee.Stash: Supported methods are ' + methods.join(', '));\n\t\t\t}\n\n\t\t}\n\n\t})();\n\n\n\n\t/*\n\t * HELPERS\n\t */\n\n\tconst _validate_asset = function(asset) {\n\n\t\tif (asset instanceof Object && typeof asset.serialize === 'function') {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\n\t};\n\n\tconst _on_batch_remove = function(stash, others) {\n\n\t\tlet keys = Object.keys(others);\n\n\t\tfor (let k = 0, kl = keys.length; k < kl; k++) {\n\n\t\t\tlet key   = keys[k];\n\t\t\tlet index = this.load.indexOf(key);\n\t\t\tif (index !== -1) {\n\n\t\t\t\tif (this.ready.indexOf(key) === -1) {\n\t\t\t\t\tthis.ready.push(null);\n\t\t\t\t\tthis.load.splice(index, 1);\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\n\t\tif (this.load.length === 0) {\n\t\t\tstash.trigger('batch', [ 'remove', this.ready ]);\n\t\t\tstash.unbind('sync', _on_batch_remove);\n\t\t}\n\n\t};\n\n\tconst _on_batch_write = function(stash, others) {\n\n\t\tlet keys = Object.keys(others);\n\n\t\tfor (let k = 0, kl = keys.length; k < kl; k++) {\n\n\t\t\tlet key   = keys[k];\n\t\t\tlet index = this.load.indexOf(key);\n\t\t\tif (index !== -1) {\n\n\t\t\t\tif (this.ready.indexOf(key) === -1) {\n\t\t\t\t\tthis.ready.push(others[key]);\n\t\t\t\t\tthis.load.splice(index, 1);\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\n\t\tif (this.load.length === 0) {\n\t\t\tstash.trigger('batch', [ 'write', this.ready ]);\n\t\t\tstash.unbind('sync', _on_batch_write);\n\t\t}\n\n\t};\n\n\tconst _read_stash = function(silent) {\n\n\t\tsilent = silent === true;\n\n\n\t\tlet blob = null;\n\n\n\t\tlet type = this.type;\n\t\tif (type === Composite.TYPE.persistent) {\n\n\t\t\tblob = _PERSISTENT.read();\n\n\t\t} else if (type === Composite.TYPE.temporary) {\n\n\t\t\tblob = _TEMPORARY.read();\n\n\t\t}\n\n\n\t\tif (blob !== null) {\n\n\t\t\tif (Object.keys(this.__assets).length !== Object.keys(blob).length) {\n\n\t\t\t\tthis.__assets = {};\n\n\t\t\t\tfor (let id in blob) {\n\t\t\t\t\tthis.__assets[id] = blob[id];\n\t\t\t\t}\n\n\n\t\t\t\tthis.trigger('sync', [ this.__assets ]);\n\n\t\t\t}\n\n\n\t\t\treturn true;\n\n\t\t}\n\n\n\t\treturn false;\n\n\t};\n\n\tconst _write_stash = function(silent) {\n\n\t\tsilent = silent === true;\n\n\n\t\tlet operations = this.__operations;\n\t\tlet filtered   = {};\n\n\t\tif (operations.length !== 0) {\n\n\t\t\twhile (operations.length > 0) {\n\n\t\t\t\tlet operation = operations.shift();\n\t\t\t\tif (operation.type === 'update') {\n\n\t\t\t\t\tfiltered[operation.id] = operation.asset;\n\n\t\t\t\t\tif (this.__assets[operation.id] !== operation.asset) {\n\t\t\t\t\t\tthis.__assets[operation.id] = operation.asset;\n\t\t\t\t\t}\n\n\t\t\t\t} else if (operation.type === 'remove') {\n\n\t\t\t\t\tfiltered[operation.id] = null;\n\n\t\t\t\t\tif (this.__assets[operation.id] !== null) {\n\t\t\t\t\t\tthis.__assets[operation.id] = null;\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\tlet type = this.type;\n\t\t\tif (type === Composite.TYPE.persistent) {\n\n\t\t\t\tfor (let id in filtered) {\n\t\t\t\t\t_PERSISTENT.write(id, filtered[id]);\n\t\t\t\t}\n\n\t\t\t} else if (type === Composite.TYPE.temporary) {\n\n\t\t\t\tfor (let id in filtered) {\n\t\t\t\t\t_PERSISTENT.write(id, filtered[id]);\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\tif (silent === false) {\n\t\t\t\tthis.trigger('sync', [ this.__assets ]);\n\t\t\t}\n\n\n\t\t\treturn true;\n\n\t\t}\n\n\n\t\treturn false;\n\n\t};\n\n\n\n\t/*\n\t * IMPLEMENTATION\n\t */\n\n\tconst Composite = function(data) {\n\n\t\tlet states = Object.assign({}, data);\n\n\n\t\tthis.id   = 'lychee-Stash-' + _id++;\n\t\tthis.type = Composite.TYPE.persistent;\n\n\n\t\tthis.__assets     = {};\n\t\tthis.__operations = [];\n\n\n\t\tthis.setId(states.id);\n\t\tthis.setType(states.type);\n\n\n\t\t_Emitter.call(this);\n\n\n\n\t\t/*\n\t\t * INITIALIZATION\n\t\t */\n\n\t\t_read_stash.call(this);\n\n\n\t\tstates = null;\n\n\t};\n\n\n\tComposite.TYPE = {\n\t\tpersistent: 0,\n\t\ttemporary:  1\n\t};\n\n\n\tComposite.prototype = {\n\n\t\t/*\n\t\t * ENTITY API\n\t\t */\n\n\t\tsync: function(silent) {\n\n\t\t\tsilent = silent === true;\n\n\n\t\t\tlet result = false;\n\n\n\t\t\tif (Object.keys(this.__assets).length > 0) {\n\n\t\t\t\tthis.__operations.push({\n\t\t\t\t\ttype: 'sync'\n\t\t\t\t});\n\n\t\t\t}\n\n\n\t\t\tif (this.__operations.length > 0) {\n\t\t\t\tresult = _write_stash.call(this, silent);\n\t\t\t} else {\n\t\t\t\tresult = _read_stash.call(this, silent);\n\t\t\t}\n\n\n\t\t\treturn result;\n\n\t\t},\n\n\t\tdeserialize: function(blob) {\n\n\t\t\tif (blob.assets instanceof Object) {\n\n\t\t\t\tthis.__assets = {};\n\n\t\t\t\tfor (let id in blob.assets) {\n\t\t\t\t\tthis.__assets[id] = lychee.deserialize(blob.assets[id]);\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t},\n\n\t\tserialize: function() {\n\n\t\t\tlet data = _Emitter.prototype.serialize.call(this);\n\t\t\tdata['constructor'] = 'lychee.Stash';\n\n\t\t\tlet states = {};\n\t\t\tlet blob   = (data['blob'] || {});\n\n\n\t\t\tif (this.id.startsWith('lychee-Stash-') === false) states.id   = this.id;\n\t\t\tif (this.type !== Composite.TYPE.persistent)       states.type = this.type;\n\n\n\t\t\tif (Object.keys(this.__assets).length > 0) {\n\n\t\t\t\tblob.assets = {};\n\n\t\t\t\tfor (let id in this.__assets) {\n\t\t\t\t\tblob.assets[id] = lychee.serialize(this.__assets[id]);\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\tdata['arguments'][0] = states;\n\t\t\tdata['blob']         = Object.keys(blob).length > 0 ? blob : null;\n\n\n\t\t\treturn data;\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * CUSTOM API\n\t\t */\n\n\t\tbatch: function(action, ids, assets) {\n\n\t\t\taction = typeof action === 'string' ? action : null;\n\t\t\tids    = ids instanceof Array       ? ids    : null;\n\t\t\tassets = assets instanceof Array    ? assets : null;\n\n\n\t\t\tif (action !== null) {\n\n\t\t\t\tlet cache  = {\n\t\t\t\t\tload:  Array.from(ids),\n\t\t\t\t\tready: []\n\t\t\t\t};\n\n\n\t\t\t\tlet result = true;\n\t\t\t\tlet that   = this;\n\n\t\t\t\tif (action === 'read') {\n\n\t\t\t\t\tfor (let i = 0, il = ids.length; i < il; i++) {\n\n\t\t\t\t\t\tlet asset = this.read(ids[i]);\n\t\t\t\t\t\tif (asset !== null) {\n\n\t\t\t\t\t\t\tasset.onload = function(result) {\n\n\t\t\t\t\t\t\t\tlet index = cache.load.indexOf(this.url);\n\t\t\t\t\t\t\t\tif (index !== -1) {\n\t\t\t\t\t\t\t\t\tcache.ready.push(this);\n\t\t\t\t\t\t\t\t\tcache.load.splice(index, 1);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (cache.load.length === 0) {\n\t\t\t\t\t\t\t\t\tthat.trigger('batch', [ 'read', cache.ready ]);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tasset.load();\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tresult = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\n\t\t\t\t\treturn result;\n\n\t\t\t\t} else if (action === 'remove') {\n\n\t\t\t\t\tthis.bind('#sync', _on_batch_remove, cache);\n\n\t\t\t\t\tfor (let i = 0, il = ids.length; i < il; i++) {\n\n\t\t\t\t\t\tif (this.remove(ids[i]) === false) {\n\t\t\t\t\t\t\tresult = false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif (result === false) {\n\t\t\t\t\t\tthis.unbind('sync', _on_batch_remove);\n\t\t\t\t\t}\n\n\n\t\t\t\t\treturn result;\n\n\t\t\t\t} else if (action === 'write' && ids.length === assets.length) {\n\n\t\t\t\t\tthis.bind('#sync', _on_batch_write, cache);\n\n\t\t\t\t\tfor (let i = 0, il = ids.length; i < il; i++) {\n\n\t\t\t\t\t\tif (this.write(ids[i], assets[i]) === false) {\n\t\t\t\t\t\t\tresult = false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif (result === false) {\n\t\t\t\t\t\tthis.unbind('sync', _on_batch_write);\n\t\t\t\t\t}\n\n\n\t\t\t\t\treturn result;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tread: function(id) {\n\n\t\t\tid = typeof id === 'string' ? id : null;\n\n\n\t\t\tif (id !== null) {\n\n\t\t\t\tlet asset = new lychee.Asset(id, null, true);\n\t\t\t\tif (asset !== null) {\n\n\t\t\t\t\tthis.__assets[id] = asset;\n\n\t\t\t\t\treturn asset;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn null;\n\n\t\t},\n\n\t\tremove: function(id) {\n\n\t\t\tid = typeof id === 'string' ? id : null;\n\n\n\t\t\tif (id !== null) {\n\n\t\t\t\tthis.__operations.push({\n\t\t\t\t\ttype: 'remove',\n\t\t\t\t\tid:   id\n\t\t\t\t});\n\n\n\t\t\t\t_write_stash.call(this);\n\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\twrite: function(id, asset) {\n\n\t\t\tid    = typeof id === 'string'          ? id    : null;\n\t\t\tasset = _validate_asset(asset) === true ? asset : null;\n\n\n\t\t\tif (id !== null && asset !== null) {\n\n\t\t\t\tthis.__operations.push({\n\t\t\t\t\ttype:  'update',\n\t\t\t\t\tid:    id,\n\t\t\t\t\tasset: asset\n\t\t\t\t});\n\n\n\t\t\t\t_write_stash.call(this);\n\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetId: function(id) {\n\n\t\t\tid = typeof id === 'string' ? id : null;\n\n\n\t\t\tif (id !== null) {\n\n\t\t\t\tthis.id = id;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetType: function(type) {\n\n\t\t\ttype = lychee.enumof(Composite.TYPE, type) ? type : null;\n\n\n\t\t\tif (type !== null) {\n\n\t\t\t\tthis.type = type;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t}\n\n\t};\n\n\n\treturn Composite;\n\n}"}},"lychee.Viewport":{"constructor":"lychee.Definition","arguments":[{"id":"lychee.Viewport","url":"/libraries/lychee/source/platform/html/Viewport.js"}],"blob":{"attaches":{},"tags":{"platform":"html"},"includes":["lychee.event.Emitter"],"supports":"function(lychee, global) {\n\n\tif (\n\t\ttypeof global.addEventListener === 'function'\n\t\t&& typeof global.innerWidth === 'number'\n\t\t&& typeof global.innerHeight === 'number'\n\t\t&& typeof global.document !== 'undefined'\n\t\t&& typeof global.document.querySelectorAll === 'function'\n\t) {\n\n\t\treturn true;\n\n\t}\n\n\n\treturn false;\n\n}","exports":"function(lychee, global, attachments) {\n\n\tconst _Emitter   = lychee.import('lychee.event.Emitter');\n\tconst _CLOCK     = {\n\t\torientationchange: null,\n\t\tresize:            0\n\t};\n\tconst _INSTANCES = [];\n\n\n\n\t/*\n\t * EVENTS\n\t */\n\n\tlet _focusactive   = true;\n\tlet _reshapeactive = false;\n\tlet _reshapewidth  = global.innerWidth  | 0;\n\tlet _reshapeheight = global.innerHeight | 0;\n\n\tconst _reshape_viewport = function() {\n\n\t\tif (_reshapeactive === true || (_reshapewidth === global.innerWidth && _reshapeheight === global.innerHeight)) {\n\t\t\treturn false;\n\t\t}\n\n\n\t\t_reshapeactive = true;\n\n\n\n\t\t/*\n\t\t * ISSUE in Mobile WebKit:\n\t\t *\n\t\t * An issue occurs if width of viewport is higher than\n\t\t * the width of the viewport of future rotation state.\n\t\t *\n\t\t * This bugfix prevents the viewport to scale higher\n\t\t * than 1.0, even if the meta tag is correctly setup.\n\t\t */\n\n\t\tlet elements = global.document.querySelectorAll('.lychee-Renderer');\n\t\tfor (let e = 0, el = elements.length; e < el; e++) {\n\n\t\t\tlet element = elements[e];\n\n\t\t\telement.style.width  = '1px';\n\t\t\telement.style.height = '1px';\n\n\t\t}\n\n\n\n\t\t/*\n\t\t * ISSUE in Mobile Firefox and Mobile WebKit\n\t\t *\n\t\t * The reflow is too slow for an update, so we have\n\t\t * to lock the heuristic to only be executed once,\n\t\t * waiting for 500ms to let the reflow finish.\n\t\t */\n\n\t\tsetTimeout(function() {\n\n\t\t\tfor (let i = 0, l = _INSTANCES.length; i < l; i++) {\n\t\t\t\t_process_reshape.call(_INSTANCES[i], global.innerWidth, global.innerHeight);\n\t\t\t}\n\n\t\t\t_reshapewidth  = global.innerWidth  | 0;\n\t\t\t_reshapeheight = global.innerHeight | 0;\n\t\t\t_reshapeactive = false;\n\n\t\t}, 500);\n\n\t};\n\n\tconst _listeners = {\n\n\t\torientationchange: function() {\n\n\t\t\tfor (let i = 0, l = _INSTANCES.length; i < l; i++) {\n\t\t\t\t_process_orientation.call(_INSTANCES[i], global.orientation);\n\t\t\t}\n\n\t\t\t_CLOCK.orientationchange = Date.now();\n\t\t\t_reshape_viewport();\n\n\t\t},\n\n\t\tresize: function() {\n\n\t\t\tif (_CLOCK.orientationchange === null || (_CLOCK.orientationchange !== null && _CLOCK.orientationchange > _CLOCK.resize)) {\n\n\t\t\t\t_CLOCK.resize = Date.now();\n\t\t\t\t_reshape_viewport();\n\n\t\t\t}\n\n\t\t},\n\n\t\tfocus: function() {\n\n\t\t\tif (_focusactive === false) {\n\n\t\t\t\tfor (let i = 0, l = _INSTANCES.length; i < l; i++) {\n\t\t\t\t\t_process_show.call(_INSTANCES[i]);\n\t\t\t\t}\n\n\t\t\t\t_focusactive = true;\n\n\t\t\t}\n\n\t\t},\n\n\t\tblur: function() {\n\n\t\t\tif (_focusactive === true) {\n\n\t\t\t\tfor (let i = 0, l = _INSTANCES.length; i < l; i++) {\n\t\t\t\t\t_process_hide.call(_INSTANCES[i]);\n\t\t\t\t}\n\n\t\t\t\t_focusactive = false;\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\n\n\t/*\n\t * FEATURE DETECTION\n\t */\n\n\tlet _enterFullscreen = null;\n\tlet _leaveFullscreen = null;\n\n\t(function() {\n\n\t\tlet resize      = 'onresize' in global;\n\t\tlet orientation = 'onorientationchange' in global;\n\t\tlet focus       = 'onfocus' in global;\n\t\tlet blur        = 'onblur' in global;\n\n\n\t\tif (typeof global.addEventListener === 'function') {\n\n\t\t\tif (resize)      global.addEventListener('resize',            _listeners.resize,            true);\n\t\t\tif (orientation) global.addEventListener('orientationchange', _listeners.orientationchange, true);\n\t\t\tif (focus)       global.addEventListener('focus',             _listeners.focus,             true);\n\t\t\tif (blur)        global.addEventListener('blur',              _listeners.blur,              true);\n\n\t\t}\n\n\n\t\tif (global.document && global.document.documentElement) {\n\n\t\t\tlet element = global.document.documentElement;\n\n\t\t\tif (typeof element.requestFullscreen === 'function' && typeof element.exitFullscreen === 'function') {\n\n\t\t\t\t_enterFullscreen = function() {\n\t\t\t\t\telement.requestFullscreen();\n\t\t\t\t};\n\n\t\t\t\t_leaveFullscreen = function() {\n\t\t\t\t\telement.exitFullscreen();\n\t\t\t\t};\n\n\t\t\t}\n\n\n\t\t\tif (_enterFullscreen === null || _leaveFullscreen === null) {\n\n\t\t\t\tlet prefixes = [ 'moz', 'ms', 'webkit' ];\n\t\t\t\tlet prefix   = null;\n\n\t\t\t\tfor (let p = 0, pl = prefixes.length; p < pl; p++) {\n\n\t\t\t\t\tif (typeof element[prefixes[p] + 'RequestFullScreen'] === 'function' && typeof document[prefixes[p] + 'CancelFullScreen'] === 'function') {\n\t\t\t\t\t\tprefix = prefixes[p];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\n\t\t\t\tif (prefix !== null) {\n\n\t\t\t\t\t_enterFullscreen = function() {\n\t\t\t\t\t\telement[prefix + 'RequestFullScreen']();\n\t\t\t\t\t};\n\n\t\t\t\t\t_leaveFullscreen = function() {\n\t\t\t\t\t\tglobal.document[prefix + 'CancelFullScreen']();\n\t\t\t\t\t};\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\n\t\tif (lychee.debug === true) {\n\n\t\t\tlet methods = [];\n\n\t\t\tif (resize)      methods.push('Resize');\n\t\t\tif (orientation) methods.push('Orientation');\n\t\t\tif (focus)       methods.push('Focus');\n\t\t\tif (blur)        methods.push('Blur');\n\n\t\t\tif (_enterFullscreen !== null && _leaveFullscreen !== null) {\n\t\t\t\tmethods.push('Fullscreen');\n\t\t\t}\n\n\t\t\tif (methods.length === 0) {\n\t\t\t\tconsole.error('lychee.Viewport: Supported methods are NONE');\n\t\t\t} else {\n\t\t\t\tconsole.info('lychee.Viewport: Supported methods are ' + methods.join(', '));\n\t\t\t}\n\n\t\t}\n\n\t})();\n\n\n\n\t/*\n\t * HELPERS\n\t */\n\n\tconst _process_show = function() {\n\n\t\treturn this.trigger('show');\n\n\t};\n\n\tconst _process_hide = function() {\n\n\t\treturn this.trigger('hide');\n\n\t};\n\n\tconst _process_orientation = function(orientation) {\n\n\t\torientation = typeof orientation === 'number' ? orientation : null;\n\n\t\tif (orientation !== null) {\n\t\t\tthis.__orientation = orientation;\n\t\t}\n\n\t};\n\n\tconst _process_reshape = function(width, height) {\n\n\t\tif (width === this.width && height === this.height) {\n\t\t\treturn false;\n\t\t}\n\n\n\t\tthis.width  = width;\n\t\tthis.height = height;\n\n\n\t\tlet orientation = null;\n\t\tlet rotation    = null;\n\n\n\n\t\t/*\n\t\t *    TOP\n\t\t *  _______\n\t\t * |       |\n\t\t * |       |\n\t\t * |       |\n\t\t * |       |\n\t\t * |       |\n\t\t * [X][X][X]\n\t\t *\n\t\t *  BOTTOM\n\t\t */\n\n\t\tif (this.__orientation === 0) {\n\n\t\t\tif (width > height) {\n\n\t\t\t\torientation = 'landscape';\n\t\t\t\trotation    = 'landscape';\n\n\t\t\t} else {\n\n\t\t\t\torientation = 'portrait';\n\t\t\t\trotation    = 'portrait';\n\n\t\t\t}\n\n\n\n\t\t/*\n\t\t *  BOTTOM\n\t\t *\n\t\t * [X][X][X]\n\t\t * |       |\n\t\t * |       |\n\t\t * |       |\n\t\t * |       |\n\t\t * |_______|\n\t\t *\n\t\t *    TOP\n\t\t */\n\n\t\t} else if (this.__orientation === 180) {\n\n\t\t\tif (width > height) {\n\n\t\t\t\torientation = 'landscape';\n\t\t\t\trotation    = 'landscape';\n\n\t\t\t} else {\n\n\t\t\t\torientation = 'portrait';\n\t\t\t\trotation    = 'portrait';\n\n\t\t\t}\n\n\n\n\t\t/*\n\t\t *    ____________    B\n\t\t * T |            [x] O\n\t\t * O |            [x] T\n\t\t * P |____________[x] T\n\t\t *                    O\n\t\t *                    M\n\t\t */\n\n\t\t} else if (this.__orientation === 90) {\n\n\t\t\tif (width > height) {\n\n\t\t\t\torientation = 'portrait';\n\t\t\t\trotation    = 'landscape';\n\n\t\t\t} else {\n\n\t\t\t\torientation = 'landscape';\n\t\t\t\trotation    = 'portrait';\n\n\t\t\t}\n\n\n\n\t\t/*\n\t\t * B    ____________\n\t\t * O [x]            | T\n\t\t * T [x]            | O\n\t\t * T [x]____________| P\n\t\t * O\n\t\t * M\n\t\t */\n\n\t\t} else if (this.__orientation === -90) {\n\n\t\t\tif (width > height) {\n\n\t\t\t\torientation = 'portrait';\n\t\t\t\trotation    = 'landscape';\n\n\t\t\t} else {\n\n\t\t\t\torientation = 'landscape';\n\t\t\t\trotation    = 'portrait';\n\n\t\t\t}\n\n\t\t}\n\n\n\t\treturn this.trigger('reshape', [ orientation, rotation, width, height ]);\n\n\t};\n\n\n\n\t/*\n\t * IMPLEMENTATION\n\t */\n\n\tconst Composite = function(data) {\n\n\t\tlet states = Object.assign({}, data);\n\n\n\t\tthis.fullscreen = false;\n\t\tthis.width      = global.innerWidth  | 0;\n\t\tthis.height     = global.innerHeight | 0;\n\n\t\tthis.__orientation = typeof global.orientation === 'number' ? global.orientation : 0;\n\n\n\t\t_Emitter.call(this);\n\n\t\t_INSTANCES.push(this);\n\n\n\t\tthis.setFullscreen(states.fullscreen);\n\n\n\n\t\t/*\n\t\t * INITIALIZATION\n\t\t */\n\n\t\tsetTimeout(function() {\n\n\t\t\tthis.width  = 0;\n\t\t\tthis.height = 0;\n\n\t\t\t_process_reshape.call(this, global.innerWidth | 0, global.innerHeight | 0);\n\n\t\t}.bind(this), 100);\n\n\n\t\tstates = null;\n\n\t};\n\n\n\tComposite.prototype = {\n\n\t\tdestroy: function() {\n\n\t\t\tlet found = false;\n\n\t\t\tfor (let i = 0, il = _INSTANCES.length; i < il; i++) {\n\n\t\t\t\tif (_INSTANCES[i] === this) {\n\t\t\t\t\t_INSTANCES.splice(i, 1);\n\t\t\t\t\tfound = true;\n\t\t\t\t\til--;\n\t\t\t\t\ti--;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.unbind();\n\n\n\t\t\treturn found;\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * ENTITY API\n\t\t */\n\n\t\t// deserialize: function(blob) {},\n\n\t\tserialize: function() {\n\n\t\t\tlet data = _Emitter.prototype.serialize.call(this);\n\t\t\tdata['constructor'] = 'lychee.Viewport';\n\n\t\t\tlet states = {};\n\n\n\t\t\tif (this.fullscreen !== false) states.fullscreen = this.fullscreen;\n\n\n\t\t\tdata['arguments'][0] = states;\n\n\n\t\t\treturn data;\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * CUSTOM API\n\t\t */\n\n\t\tsetFullscreen: function(fullscreen) {\n\n\t\t\tfullscreen = typeof fullscreen === 'boolean' ? fullscreen : null;\n\n\n\t\t\tif (fullscreen !== null) {\n\n\t\t\t\tif (fullscreen === true && this.fullscreen === false) {\n\n\t\t\t\t\tif (_enterFullscreen !== null) {\n\n\t\t\t\t\t\t_enterFullscreen();\n\t\t\t\t\t\tthis.fullscreen = true;\n\n\t\t\t\t\t\treturn true;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if (fullscreen === false && this.fullscreen === true) {\n\n\t\t\t\t\tif (_leaveFullscreen !== null) {\n\n\t\t\t\t\t\t_leaveFullscreen();\n\t\t\t\t\t\tthis.fullscreen = false;\n\n\t\t\t\t\t\treturn true;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t}\n\n\t};\n\n\n\treturn Composite;\n\n}"}},"lychee.app.Loop":{"constructor":"lychee.Definition","arguments":[{"id":"lychee.app.Loop","url":"/libraries/lychee/source/app/Loop.js"}],"blob":{"attaches":{},"includes":["lychee.event.Emitter"],"supports":"function(lychee, global) {\n\n\tif (typeof global.setInterval === 'function') {\n\t\treturn true;\n\t}\n\n\treturn false;\n\n}","exports":"function(lychee, global, attachments) {\n\n\tconst _Emitter   = lychee.import('lychee.event.Emitter');\n\tconst _INSTANCES = [];\n\tlet   _id        = 0;\n\n\n\n\t/*\n\t * EVENTS\n\t */\n\n\tconst _listeners = {\n\n\t\tinterval: function() {\n\n\t\t\tlet now = Date.now();\n\n\t\t\tfor (let i = 0, l = _INSTANCES.length; i < l; i++) {\n\n\t\t\t\tlet instance = _INSTANCES[i];\n\t\t\t\tlet clock    = now - instance.__start;\n\n\t\t\t\t_update_loop.call(instance, clock);\n\t\t\t\t_render_loop.call(instance, clock);\n\n\t\t\t}\n\n\t\t},\n\n\t\tupdate: function() {\n\n\t\t\tlet now = Date.now();\n\n\t\t\tfor (let i = 0, l = _INSTANCES.length; i < l; i++) {\n\n\t\t\t\tlet instance = _INSTANCES[i];\n\t\t\t\tlet clock    = now - instance.__start;\n\n\t\t\t\t_update_loop.call(instance, clock);\n\n\t\t\t}\n\n\t\t},\n\n\t\t// XXX: render loop is inlined for maximum performance\n\t\trender: function() {\n\n\t\t\tlet now = Date.now();\n\n\t\t\tfor (let i = 0, l = _INSTANCES.length; i < l; i++) {\n\n\t\t\t\tlet instance = _INSTANCES[i];\n\t\t\t\tif (instance.__state === 1) {\n\n\t\t\t\t\tlet clock = now   - instance.__start;\n\t\t\t\t\tlet delta = clock - instance.__renderclock;\n\t\t\t\t\tif (delta >= instance.__renderdelay) {\n\t\t\t\t\t\tinstance.trigger('render', [ clock, delta ]);\n\t\t\t\t\t\tinstance.__renderclock = clock;\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tglobal.requestAnimationFrame(_listeners.render);\n\n\t\t}\n\n\t};\n\n\n\n\t/*\n\t * FEATURE DETECTION\n\t */\n\n\t(function(delta) {\n\n\t\tlet interval = typeof global.setInterval === 'function';\n\t\tlet raf      = typeof global.requestAnimationFrame === 'function';\n\n\t\tif (raf === true && interval === true) {\n\t\t\tglobal.setInterval(_listeners.update, delta);\n\t\t\tglobal.requestAnimationFrame(_listeners.render);\n\t\t} else if (interval === true) {\n\t\t\tglobal.setInterval(_listeners.interval, delta);\n\t\t}\n\n\n\n\t\tif (lychee.debug === true) {\n\n\t\t\tlet methods = [];\n\n\t\t\tif (interval) methods.push('setInterval');\n\t\t\tif (raf)      methods.push('requestAnimationFrame');\n\n\t\t\tif (methods.length === 0) {\n\t\t\t\tconsole.error('lychee.app.Loop: Supported methods are NONE');\n\t\t\t} else {\n\t\t\t\tconsole.info('lychee.app.Loop: Supported methods are ' + methods.join(', '));\n\t\t\t}\n\n\t\t}\n\n\t})((1000 / 60) | 0);\n\n\n\n\t/*\n\t * HELPERS\n\t */\n\n\tconst _update_loop = function(clock) {\n\n\t\tif (this.__state !== 1) return;\n\n\n\t\tlet delta = clock - this.__updateclock;\n\t\tif (delta >= this.__updatedelay) {\n\n\t\t\tthis.trigger('update', [ clock, delta ]);\n\n\n\t\t\tfor (let iid in this.__intervals) {\n\n\t\t\t\tlet interval = this.__intervals[iid];\n\n\t\t\t\tif (clock >= interval.clock) {\n\n\t\t\t\t\tinterval.callback.call(\n\t\t\t\t\t\tinterval.scope,\n\t\t\t\t\t\tclock,\n\t\t\t\t\t\tclock - interval.clock,\n\t\t\t\t\t\tinterval.step++\n\t\t\t\t\t);\n\n\t\t\t\t\tinterval.clock = clock + interval.delta;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\tfor (let tid in this.__timeouts) {\n\n\t\t\t\tlet timeout = this.__timeouts[tid];\n\t\t\t\tif (clock >= timeout.clock) {\n\n\t\t\t\t\ttimeout.callback.call(\n\t\t\t\t\t\ttimeout.scope,\n\t\t\t\t\t\tclock,\n\t\t\t\t\t\tclock - timeout.clock\n\t\t\t\t\t);\n\n\t\t\t\t\tdelete this.__timeouts[tid];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\tthis.__updateclock = clock;\n\n\t\t}\n\n\t};\n\n\tconst _render_loop = function(clock) {\n\n\t\tif (this.__state !== 1) return;\n\n\n\t\tlet delta = clock - this.__renderclock;\n\t\tif (delta >= this.__renderdelay) {\n\n\t\t\tthis.trigger('render', [ clock, delta ]);\n\n\n\t\t\tthis.__renderclock = clock;\n\n\t\t}\n\n\t};\n\n\n\n\t/*\n\t * IMPLEMENTATION\n\t */\n\n\tconst Composite = function(data) {\n\n\t\tlet states = Object.assign({}, data);\n\n\n\t\tthis.update = 40;\n\t\tthis.render = 40;\n\n\t\tthis.__timeouts  = {};\n\t\tthis.__intervals = {};\n\n\t\tthis.__pause       = 0;\n\t\tthis.__start       = Date.now();\n\t\tthis.__state       = 1;\n\t\tthis.__renderclock = 0;\n\t\tthis.__renderdelay = 1000 / this.update;\n\t\tthis.__updateclock = 0;\n\t\tthis.__updatedelay = 1000 / this.render;\n\n\n\t\tthis.setUpdate(states.update);\n\t\tthis.setRender(states.render);\n\n\n\t\t_Emitter.call(this);\n\n\t\t_INSTANCES.push(this);\n\n\t\tstates = null;\n\n\t};\n\n\n\tComposite.prototype = {\n\n\t\tdestroy: function() {\n\n\t\t\tlet found = false;\n\n\t\t\tfor (let i = 0, il = _INSTANCES.length; i < il; i++) {\n\n\t\t\t\tif (_INSTANCES[i] === this) {\n\t\t\t\t\t_INSTANCES.splice(i, 1);\n\t\t\t\t\tfound = true;\n\t\t\t\t\til--;\n\t\t\t\t\ti--;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.unbind();\n\n\n\t\t\treturn found;\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * ENTITY API\n\t\t */\n\n\t\tdeserialize: function(blob) {\n\n\t\t\tif (typeof blob.state === 'number') {\n\n\t\t\t\tthis.__state = blob.state;\n\t\t\t\tthis.__pause = blob.pause;\n\n\t\t\t}\n\n\t\t\tif (typeof blob.updateclock === 'number') this.__updateclock = blob.updateclock;\n\t\t\tif (typeof blob.renderclock === 'number') this.__renderclock = blob.renderclock;\n\n\n\t\t\tif (blob.timeouts instanceof Array) {\n\t\t\t\t// TODO: deserialize timeouts\n\t\t\t}\n\n\t\t\tif (blob.intervals instanceof Array) {\n\t\t\t\t// TODO: deserialize intervals\n\t\t\t}\n\n\t\t},\n\n\t\tserialize: function() {\n\n\t\t\tlet data = _Emitter.prototype.serialize.call(this);\n\t\t\tdata['constructor'] = 'lychee.app.Loop';\n\n\n\t\t\tlet states = {};\n\t\t\tlet blob   = (data['blob'] || {});\n\n\n\t\t\tif (this.update !== 40) states.update = this.update;\n\t\t\tif (this.render !== 40) states.render = this.render;\n\n\n\t\t\tif (Object.keys(this.__timeouts).length > 0) {\n\n\t\t\t\tblob.timeouts = [];\n\n\t\t\t\tfor (let tid in this.__timeouts) {\n\n\t\t\t\t\tlet timeout = this.__timeouts[tid];\n\n\t\t\t\t\tblob.timeouts.push({\n\t\t\t\t\t\tdelta:    timeout.clock - this.__updateclock,\n\t\t\t\t\t\tcallback: lychee.serialize(timeout.callback),\n\t\t\t\t\t\t// scope:    lychee.serialize(timeout.scope)\n\t\t\t\t\t\tscope:    null\n\t\t\t\t\t});\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\tif (Object.keys(this.__intervals).length > 0) {\n\n\t\t\t\tblob.intervals = [];\n\n\t\t\t\tfor (let iid in this.__intervals) {\n\n\t\t\t\t\tlet interval = this.__intervals[iid];\n\n\t\t\t\t\tblob.intervals.push({\n\t\t\t\t\t\tclock:    interval.clock - this.__updateclock,\n\t\t\t\t\t\tdelta:    interval.delta,\n\t\t\t\t\t\tstep:     interval.step,\n\t\t\t\t\t\tcallback: lychee.serialize(interval.callback),\n\t\t\t\t\t\t// scope:    lychee.serialize(interval.scope)\n\t\t\t\t\t\tscope:    null\n\t\t\t\t\t});\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\tif (this.__state !== 1) {\n\n\t\t\t\tblob.pause = this.__pause;\n\t\t\t\tblob.state = this.__state;\n\n\t\t\t}\n\n\t\t\tblob.updateclock = this.__updateclock;\n\t\t\tblob.renderclock = this.__renderclock;\n\n\n\t\t\treturn {\n\t\t\t\t'constructor': 'lychee.app.Loop',\n\t\t\t\t'arguments':   [ states ],\n\t\t\t\t'blob':        null\n\t\t\t};\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * CUSTOM API\n\t\t */\n\n\t\tstart: function() {\n\n\t\t\tthis.__state = 1;\n\t\t\tthis.__start = Date.now();\n\n\t\t\treturn true;\n\n\t\t},\n\n\t\tstop: function() {\n\n\t\t\tthis.__state = 0;\n\n\t\t\treturn true;\n\n\t\t},\n\n\t\tpause: function() {\n\n\t\t\tthis.__state = 0;\n\t\t\tthis.__pause = Date.now() - this.__start;\n\n\t\t\treturn true;\n\n\t\t},\n\n\t\tresume: function() {\n\n\t\t\tthis.__state = 1;\n\t\t\tthis.__start = Date.now() - this.__pause;\n\t\t\tthis.__pause = 0;\n\n\t\t\treturn true;\n\n\t\t},\n\n\t\tsetTimeout: function(delta, callback, scope) {\n\n\t\t\tdelta    = typeof delta === 'number'    ? delta    : null;\n\t\t\tcallback = callback instanceof Function ? callback : null;\n\t\t\tscope    = scope !== undefined          ? scope    : global;\n\n\n\t\t\tif (delta === null || callback === null) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\n\t\t\tlet id = _id++;\n\n\t\t\tthis.__timeouts[id] = {\n\t\t\t\tclock:    this.__updateclock + delta,\n\t\t\t\tcallback: callback,\n\t\t\t\tscope:    scope\n\t\t\t};\n\n\n\t\t\treturn id;\n\n\t\t},\n\n\t\tremoveTimeout: function(id) {\n\n\t\t\tid = typeof id === 'number' ? id : null;\n\n\n\t\t\tif (id !== null && this.__timeouts[id] !== undefined) {\n\n\t\t\t\tdelete this.__timeouts[id];\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetInterval: function(delta, callback, scope) {\n\n\t\t\tdelta    = typeof delta === 'number'    ? delta    : null;\n\t\t\tcallback = callback instanceof Function ? callback : null;\n\t\t\tscope    = scope !== undefined          ? scope    : global;\n\n\n\t\t\tif (delta === null || callback === null) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\n\t\t\tlet id = _id++;\n\n\t\t\tthis.__intervals[id] = {\n\t\t\t\tclock:    this.__updateclock + delta,\n\t\t\t\tdelta:    delta,\n\t\t\t\tstep:     1,\n\t\t\t\tcallback: callback,\n\t\t\t\tscope:    scope\n\t\t\t};\n\n\n\t\t\treturn id;\n\n\t\t},\n\n\t\tremoveInterval: function(id) {\n\n\t\t\tid = typeof id === 'number' ? id : null;\n\n\n\t\t\tif (id !== null && this.__intervals[id] !== undefined) {\n\n\t\t\t\tdelete this.__intervals[id];\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetUpdate: function(update) {\n\n\t\t\tupdate = typeof update === 'number' ? update : null;\n\n\n\t\t\tif (update !== null && update > 0) {\n\n\t\t\t\tthis.update        = update;\n\t\t\t\tthis.__updatedelay = 1000 / update;\n\n\t\t\t\treturn true;\n\n\t\t\t} else if (update === 0) {\n\n\t\t\t\tthis.update        = update;\n\t\t\t\tthis.__updatedelay = Infinity;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetRender: function(render) {\n\n\t\t\trender = typeof render === 'number' ? render : null;\n\n\n\t\t\tif (render !== null && render > 0) {\n\n\t\t\t\tthis.render        = render;\n\t\t\t\tthis.__renderdelay = 1000 / render;\n\n\t\t\t\treturn true;\n\n\t\t\t} else if (render === 0) {\n\n\t\t\t\tthis.render        = render;\n\t\t\t\tthis.__renderdelay = Infinity;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t}\n\n\t};\n\n\n\treturn Composite;\n\n}"}},"lychee.ai.Agent":{"constructor":"lychee.Definition","arguments":[{"id":"lychee.ai.Agent","url":"/libraries/lychee/source/ai/Agent.js"}],"blob":{"attaches":{},"exports":"function(lychee, global, attachments) {\n\n\t/*\n\t * HELPERS\n\t */\n\n\tconst _validate_brain = function(brain) {\n\n\t\tif (brain instanceof Object) {\n\n\t\t\tif (typeof brain.update === 'function' && typeof brain.setControls === 'function' && typeof brain.setSensors === 'function') {\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\t\t}\n\n\n\t\treturn false;\n\n\t};\n\n\tconst _train_brain = function() {\n\n\t\tlet brain = this.brain;\n\t\tif (brain !== null) {\n\n\t\t\tlet trainings = this.trainings;\n\n\t\t\tfor (let t = 0, tl = trainings.length; t < tl; t++) {\n\n\t\t\t\tlet training   = trainings[t];\n\t\t\t\tlet iterations = training.iterations || 1;\n\n\t\t\t\tfor (let i = 0; i < iterations; i++) {\n\t\t\t\t\tbrain.learn(training.inputs, training.outputs);\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\n\n\t/*\n\t * IMPLEMENTATION\n\t */\n\n\tconst Composite = function(data) {\n\n\t\tlet states = Object.assign({}, data);\n\n\n\t\tthis.alive     = true;\n\t\tthis.brain     = null;\n\t\tthis.fitness   = 0;\n\t\tthis.trainings = [];\n\n\n\t\tthis.setAlive(states.alive);\n\t\tthis.setBrain(states.brain);\n\t\tthis.setFitness(states.fitness);\n\n\n\t\tstates = null;\n\n\t};\n\n\n\tComposite.prototype = {\n\n\t\t/*\n\t\t * ENTITY API\n\t\t */\n\n\t\tdeserialize: function(blob) {\n\n\t\t\tlet brain = lychee.deserialize(blob.brain);\n\t\t\tif (brain !== null) {\n\t\t\t\tthis.setBrain(brain);\n\t\t\t}\n\n\t\t\tif (blob.trainings instanceof Array) {\n\t\t\t\tthis.trainings = blob.trainings.map(lychee.deserialize);\n\t\t\t}\n\n\t\t},\n\n\t\tserialize: function() {\n\n\t\t\tlet states = {};\n\t\t\tlet blob   = {};\n\n\n\t\t\tif (this.fitness !== 0) states.fitness = this.fitness;\n\n\n\t\t\tif (this.brain !== null)       blob.brain     = lychee.serialize(this.brain);\n\t\t\tif (this.trainings.length > 0) blob.trainings = this.trainings.map(lychee.serialize);\n\n\n\t\t\treturn {\n\t\t\t\t'constructor': 'lychee.ai.Agent',\n\t\t\t\t'arguments':   [ states ],\n\t\t\t\t'blob':        Object.keys(blob).length > 0 ? blob : null\n\t\t\t};\n\n\t\t},\n\n\t\tupdate: function(clock, delta) {\n\n\t\t\tlet brain = this.brain;\n\t\t\tif (brain !== null) {\n\t\t\t\tbrain.update(clock, delta);\n\t\t\t}\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * CUSTOM API\n\t\t */\n\n\t\tcrossover: function(agent) {\n\n\t\t\tagent = agent instanceof Composite ? agent : null;\n\n\n\t\t\tif (agent !== null) {\n\n\t\t\t\t// XXX: This is implemented by AI Agents\n\n\t\t\t\tlet zw_agent = lychee.deserialize(lychee.serialize(this));\n\t\t\t\tlet zz_agent = lychee.deserialize(lychee.serialize(agent));\n\n\t\t\t\treturn [ zw_agent, zz_agent ];\n\n\t\t\t}\n\n\n\t\t\treturn null;\n\n\t\t},\n\n\t\treward: function(diff, training) {\n\n\t\t\tdiff     = typeof diff === 'number'   ? Math.abs(diff | 0) : 1;\n\t\t\ttraining = training instanceof Object ? training           : null;\n\n\n\t\t\tthis.fitness += diff;\n\n\n\t\t\tif (training !== null) {\n\n\t\t\t\ttraining.iterations = diff;\n\t\t\t\tthis.trainings.push(training);\n\t\t\t\t_train_brain.call(this);\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tpunish: function(diff, training) {\n\n\t\t\tdiff     = typeof diff === 'number'   ? Math.abs(diff | 0) : 1;\n\t\t\ttraining = training instanceof Object ? training           : null;\n\n\n\t\t\tthis.fitness -= diff;\n\n\n\t\t\tif (training !== null) {\n\n\t\t\t\ttraining.iterations = diff;\n\t\t\t\tthis.trainings.push(training);\n\t\t\t\t_train_brain.call(this);\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetAlive: function(alive) {\n\n\t\t\talive = typeof alive === 'boolean' ? alive : null;\n\n\n\t\t\tif (alive !== null) {\n\n\t\t\t\tthis.alive = alive;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetBrain: function(brain) {\n\n\t\t\tbrain = _validate_brain(brain) === true ? brain : null;\n\n\n\t\t\tif (brain !== null) {\n\n\t\t\t\tthis.brain = brain;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetFitness: function(fitness) {\n\n\t\t\tfitness = typeof fitness === 'number' ? (fitness | 0) : null;\n\n\n\t\t\tif (fitness !== null) {\n\n\t\t\t\tthis.fitness = fitness;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t}\n\n\t};\n\n\n\treturn Composite;\n\n}"}},"lychee.ui.Entity":{"constructor":"lychee.Definition","arguments":[{"id":"lychee.ui.Entity","url":"/libraries/lychee/source/ui/Entity.js"}],"blob":{"attaches":{},"includes":["lychee.event.Emitter"],"exports":"function(lychee, global, attachments) {\n\n\tconst _Emitter = lychee.import('lychee.event.Emitter');\n\n\n\n\t/*\n\t * HELPERS\n\t */\n\n\tconst _validate_effect = function(effect) {\n\n\t\tif (effect instanceof Object) {\n\n\t\t\tif (\n\t\t\t\ttypeof effect.update === 'function'\n\t\t\t\t&& typeof effect.render === 'function'\n\t\t\t) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t}\n\n\n\t\treturn false;\n\n\t};\n\n\n\n\t/*\n\t * IMPLEMENTATION\n\t */\n\n\tconst Composite = function(data) {\n\n\t\tlet states = Object.assign({}, data);\n\n\n\t\tthis.width  = typeof states.width  === 'number' ? states.width  : 0;\n\t\tthis.height = typeof states.height === 'number' ? states.height : 0;\n\t\tthis.depth  = typeof states.depth === 'number'  ? states.depth  : 0;\n\t\tthis.radius = typeof states.radius === 'number' ? states.radius : 0;\n\n\t\tthis.alpha     = 1;\n\t\tthis.collision = Composite.COLLISION.none;\n\t\tthis.effects   = [];\n\t\tthis.shape     = Composite.SHAPE.rectangle;\n\t\tthis.state     = 'default';\n\t\tthis.states    = { 'default': null, 'active': null };\n\t\tthis.position  = { x: 0, y: 0, z: 0 };\n\t\tthis.visible   = true;\n\n\n\t\tthis.setAlpha(states.alpha);\n\t\tthis.setShape(states.shape);\n\t\tthis.setStates(states.states);\n\t\tthis.setState(states.state);\n\t\tthis.setPosition(states.position);\n\t\tthis.setVisible(states.visible);\n\n\n\t\t_Emitter.call(this);\n\n\t\tstates = null;\n\n\t};\n\n\n\t// Same ENUM values as lychee.app.Entity\n\tComposite.COLLISION = {\n\t\tnone: 0,\n\t\tA:    1,\n\t\tB:    2,\n\t\tC:    3,\n\t\tD:    4\n\t};\n\n\n\t// Same ENUM values as lychee.app.Entity\n\tComposite.SHAPE = {\n\t\tcircle:    0,\n\t\trectangle: 1,\n\t\tsphere:    2,\n\t\tcuboid:    3\n\t};\n\n\n\tComposite.prototype = {\n\n\t\t/*\n\t\t * ENTITY API\n\t\t */\n\n\t\t// deserialize: function(blob) {},\n\n\t\tserialize: function() {\n\n\t\t\tlet data = _Emitter.prototype.serialize.call(this);\n\t\t\tdata['constructor'] = 'lychee.ui.Entity';\n\n\t\t\tlet states = {};\n\t\t\tlet blob   = (data['blob'] || {});\n\n\n\t\t\tif (this.width  !== 0) states.width  = this.width;\n\t\t\tif (this.height !== 0) states.height = this.height;\n\t\t\tif (this.depth !== 0)  states.depth  = this.depth;\n\t\t\tif (this.radius !== 0) states.radius = this.radius;\n\n\t\t\tif (this.alpha !== 1)                         states.alpha   = this.alpha;\n\t\t\tif (this.shape !== Composite.SHAPE.rectangle) states.shape   = this.shape;\n\t\t\tif (this.state !== 'default')                 states.state   = this.state;\n\t\t\tif (Object.keys(this.states).length > 0)      states.states  = this.states;\n\t\t\tif (this.visible !== true)                    states.visible = this.visible;\n\n\n\t\t\tif (this.position.x !== 0 || this.position.y !== 0) {\n\n\t\t\t\tstates.position = {};\n\n\t\t\t\tif (this.position.x !== 0) states.position.x = this.position.x;\n\t\t\t\tif (this.position.y !== 0) states.position.y = this.position.y;\n\n\t\t\t}\n\n\n\t\t\tdata['arguments'][0] = states;\n\t\t\tdata['blob']         = Object.keys(blob).length > 0 ? blob : null;\n\n\n\t\t\treturn data;\n\n\t\t},\n\n\t\trender: function(renderer, offsetX, offsetY) {\n\n\t\t\tlet effects = this.effects;\n\t\t\tfor (let e = 0, el = effects.length; e < el; e++) {\n\t\t\t\teffects[e].render(renderer, offsetX, offsetY);\n\t\t\t}\n\n\t\t},\n\n\t\tupdate: function(clock, delta) {\n\n\t\t\tlet effects = this.effects;\n\t\t\tfor (let e = 0, el = effects.length; e < el; e++) {\n\n\t\t\t\tlet effect = effects[e];\n\t\t\t\tif (effect.update(this, clock, delta) === false) {\n\t\t\t\t\tthis.removeEffect(effect);\n\t\t\t\t\tel--;\n\t\t\t\t\te--;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * CUSTOM API\n\t\t */\n\n\t\tisAtPosition: function(position) {\n\n\t\t\tposition = position instanceof Object ? position : null;\n\n\n\t\t\tif (position !== null) {\n\n\t\t\t\tif (typeof position.x === 'number' && typeof position.y === 'number') {\n\n\t\t\t\t\tlet ax = position.x;\n\t\t\t\t\tlet ay = position.y;\n\t\t\t\t\tlet bx = this.position.x;\n\t\t\t\t\tlet by = this.position.y;\n\n\n\t\t\t\t\tlet shape = this.shape;\n\t\t\t\t\tif (shape === Composite.SHAPE.circle) {\n\n\t\t\t\t\t\tlet dist = Math.sqrt(Math.pow(ax - bx, 2) + Math.pow(ay - by, 2));\n\t\t\t\t\t\tif (dist < this.radius) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if (shape === Composite.SHAPE.rectangle) {\n\n\t\t\t\t\t\tlet hwidth  = this.width  / 2;\n\t\t\t\t\t\tlet hheight = this.height / 2;\n\t\t\t\t\t\tlet colX    = (ax >= bx - hwidth)  && (ax <= bx + hwidth);\n\t\t\t\t\t\tlet colY    = (ay >= by - hheight) && (ay <= by + hheight);\n\n\n\t\t\t\t\t\treturn colX && colY;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tcollidesWith: function(entity) {\n\n\t\t\tentity = lychee.interfaceof(lychee.ui.Entity, entity) ? entity : null;\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetAlpha: function(alpha) {\n\n\t\t\talpha = typeof alpha === 'number' ? alpha : null;\n\n\n\t\t\tif (alpha !== null) {\n\n\t\t\t\tthis.alpha = Math.min(Math.max(alpha, 0), 1);\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\taddEffect: function(effect) {\n\n\t\t\teffect = _validate_effect(effect) ? effect : null;\n\n\n\t\t\tif (effect !== null) {\n\n\t\t\t\tlet index = this.effects.indexOf(effect);\n\t\t\t\tif (index === -1) {\n\n\t\t\t\t\tthis.effects.push(effect);\n\n\t\t\t\t\treturn true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tremoveEffect: function(effect) {\n\n\t\t\teffect = _validate_effect(effect) ? effect : null;\n\n\n\t\t\tif (effect !== null) {\n\n\t\t\t\tlet index = this.effects.indexOf(effect);\n\t\t\t\tif (index !== -1) {\n\n\t\t\t\t\tthis.effects.splice(index, 1);\n\n\t\t\t\t\treturn true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tremoveEffects: function() {\n\n\t\t\tlet effects = this.effects;\n\n\t\t\tfor (let e = 0, el = effects.length; e < el; e++) {\n\n\t\t\t\teffects[e].update(this, Infinity, 0);\n\t\t\t\tthis.removeEffect(effects[e]);\n\n\t\t\t\tel--;\n\t\t\t\te--;\n\n\t\t\t}\n\n\n\t\t\treturn true;\n\n\t\t},\n\n\t\tsetPosition: function(position) {\n\n\t\t\tposition = position instanceof Object ? position : null;\n\n\n\t\t\tif (position !== null) {\n\n\t\t\t\tthis.position.x = typeof position.x === 'number' ? position.x : this.position.x;\n\t\t\t\tthis.position.y = typeof position.y === 'number' ? position.y : this.position.y;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetShape: function(shape) {\n\n\t\t\tshape = lychee.enumof(Composite.SHAPE, shape) ? shape : null;\n\n\n\t\t\tif (shape !== null) {\n\n\t\t\t\tthis.shape = shape;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetStates: function(states) {\n\n\t\t\tstates = states instanceof Object ? states : null;\n\n\n\t\t\tif (states !== null) {\n\n\t\t\t\tthis.states = {\n\t\t\t\t\t'default': null,\n\t\t\t\t\t'active':  null\n\t\t\t\t};\n\n\t\t\t\tfor (let id in states) {\n\n\t\t\t\t\tif (states.hasOwnProperty(id)) {\n\n\t\t\t\t\t\tlet state = states[id];\n\t\t\t\t\t\tif (state instanceof Object) {\n\t\t\t\t\t\t\tthis.states[id] = states[id];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetState: function(id) {\n\n\t\t\tid = typeof id === 'string' ? id : null;\n\n\n\t\t\tif (id !== null && this.states[id] !== undefined) {\n\n\t\t\t\tthis.state = id;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetVisible: function(visible) {\n\n\t\t\tvisible = typeof visible === 'boolean' ? visible : null;\n\n\n\t\t\tif (visible !== null) {\n\n\t\t\t\tthis.visible = visible;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t}\n\n\t};\n\n\n\treturn Composite;\n\n}"}},"lychee.ai.enn.Agent":{"constructor":"lychee.Definition","arguments":[{"id":"lychee.ai.enn.Agent","url":"/libraries/lychee/source/ai/enn/Agent.js"}],"blob":{"attaches":{},"requires":["lychee.ai.enn.Brain","lychee.ai.enn.Genome"],"includes":["lychee.ai.Agent"],"exports":"function(lychee, global, attachments) {\n\n\tconst _Agent          = lychee.import('lychee.ai.Agent');\n\tconst _Brain          = lychee.import('lychee.ai.enn.Brain');\n\tconst _Genome         = lychee.import('lychee.ai.enn.Genome');\n\tconst _MUTATION_RANGE = 0.25;\n\tconst _MUTATION_RATE  = 0.1;\n\n\n\n\t/*\n\t * IMPLEMENTATION\n\t */\n\n\tconst Composite = function(data) {\n\n\t\tlet states = Object.assign({}, data);\n\n\n\t\tthis.genome = null;\n\n\n\t\tstates.brain  = states.brain  || new _Brain();\n\t\tstates.genome = states.genome || new _Genome();\n\n\t\t_Agent.call(this, states);\n\n\n\t\tthis.setGenome(states.genome);\n\n\t\tstates = null;\n\n\t};\n\n\n\tComposite.prototype = {\n\n\t\t/*\n\t\t * ENTITY API\n\t\t */\n\n\t\t// deserialize: function(blob) {},\n\n\t\tserialize: function() {\n\n\t\t\tlet data = _Agent.prototype.serialize.call(this);\n\t\t\tdata['constructor'] = 'lychee.ai.enn.Agent';\n\n\n\t\t\treturn data;\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * CUSTOM API\n\t\t */\n\n\t\tcrossover: function(agent) {\n\n\t\t\tagent = lychee.interfaceof(Composite, agent) ? agent : null;\n\n\n\t\t\tif (agent !== null) {\n\n\t\t\t\tlet zw_brain  = this.brain;\n\t\t\t\tlet zw_genome = this.genome;\n\t\t\t\tlet zz_brain  = agent.brain;\n\t\t\t\tlet zz_genome = agent.genome;\n\n\n\t\t\t\tif (zw_brain !== null && zz_brain !== null) {\n\t\t\t\t\tzw_genome.setGene('weights', zw_brain.getWeights());\n\t\t\t\t\tzz_genome.setGene('weights', zz_brain.getWeights());\n\t\t\t\t}\n\n\n\t\t\t\tlet zw_dna = zw_genome.getGene('weights');\n\t\t\t\tlet zz_dna = zz_genome.getGene('weights');\n\n\t\t\t\tif (zw_dna.length === zz_dna.length) {\n\n\t\t\t\t\tlet zw0_dna   = [];\n\t\t\t\t\tlet zw1_dna   = [];\n\t\t\t\t\tlet dna_split = (Math.random() * zw_dna.length) | 0;\n\n\n\t\t\t\t\tfor (let d = 0, dl = zw_dna.length; d < dl; d++) {\n\n\t\t\t\t\t\tif (d <= dna_split) {\n\t\t\t\t\t\t\tzw0_dna.push(zw_dna[d]);\n\t\t\t\t\t\t\tzw1_dna.push(zz_dna[d]);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tzw0_dna.push(zz_dna[d]);\n\t\t\t\t\t\t\tzw1_dna.push(zw_dna[d]);\n\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\tif (Math.random() <= _MUTATION_RATE) {\n\t\t\t\t\t\t\tzw0_dna[d] += (Math.random() * _MUTATION_RANGE * 2) - _MUTATION_RANGE;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (Math.random() <= _MUTATION_RATE) {\n\t\t\t\t\t\t\tzw1_dna[d] += (Math.random() * _MUTATION_RANGE * 2) - _MUTATION_RANGE;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\n\t\t\t\t\tlet zw0_brain = null;\n\t\t\t\t\tlet zw1_brain = null;\n\n\t\t\t\t\tif (zw_brain !== null && zz_brain !== null) {\n\n\t\t\t\t\t\tzw0_brain = lychee.deserialize(lychee.serialize(zw_brain));\n\t\t\t\t\t\tzw0_brain.setWeights(zw0_dna);\n\n\t\t\t\t\t\tzw1_brain = lychee.deserialize(lychee.serialize(zz_brain));\n\t\t\t\t\t\tzw1_brain.setWeights(zw1_dna);\n\n\t\t\t\t\t}\n\n\n\t\t\t\t\tlet zw0_genome = lychee.deserialize(lychee.serialize(zw_genome));\n\t\t\t\t\tlet zw1_genome = lychee.deserialize(lychee.serialize(zz_genome));\n\n\t\t\t\t\tzw0_genome.setGene('weights', zw0_dna);\n\t\t\t\t\tzw1_genome.setGene('weights', zw1_dna);\n\n\t\t\t\t\tlet zw0_baby = new Composite({ brain: zw0_brain, genome: zw0_genome });\n\t\t\t\t\tlet zw1_baby = new Composite({ brain: zw1_brain, genome: zw1_genome });\n\n\n\t\t\t\t\treturn [ zw0_baby, zw1_baby ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn null;\n\n\t\t},\n\n\t\tsetGenome: function(genome) {\n\n\t\t\tgenome = genome instanceof _Genome ? genome : null;\n\n\n\t\t\tif (genome !== null) {\n\n\t\t\t\tthis.genome = genome;\n\n\n\t\t\t\tlet brain = this.brain;\n\t\t\t\tif (brain !== null) {\n\n\t\t\t\t\tlet gene = genome.getGene('weights');\n\t\t\t\t\tif (gene !== null && gene.length > 0) {\n\n\t\t\t\t\t\tbrain.setWeights(gene);\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tgenome.setGene('weights', brain.getWeights());\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t}\n\n\n\t};\n\n\n\treturn Composite;\n\n}"}},"lychee.ai.enn.Brain":{"constructor":"lychee.Definition","arguments":[{"id":"lychee.ai.enn.Brain","url":"/libraries/lychee/source/ai/enn/Brain.js"}],"blob":{"attaches":{},"exports":"function(lychee, global, attachments) {\n\n\t/*\n\t * HELPERS\n\t */\n\n\tconst _random = function() {\n\t\treturn (Math.random() * 2) - 1;\n\t};\n\n\tconst _sigmoid = function(value) {\n\t\treturn (1 / (1 + Math.exp((-1 * value) / 1)));\n\t};\n\n\tconst _init_network = function() {\n\n\t\tlet input_size = this.__sensors_map.reduce(function(a, b) {\n\t\t\treturn a + b;\n\t\t}, 0);\n\n\t\tlet output_size = this.__controls_map.reduce(function(a, b) {\n\t\t\treturn a + b;\n\t\t}, 0);\n\n\n\t\tif (input_size === 0 || output_size === 0) {\n\t\t\treturn;\n\t\t}\n\n\n\t\tlet layers_size = 3;\n\t\tlet hidden_size = 1;\n\t\tlet weight_size = 0;\n\n\t\tif (input_size > output_size) {\n\t\t\thidden_size = input_size;\n\t\t\tlayers_size = Math.max(input_size - output_size, 3);\n\t\t} else {\n\t\t\thidden_size = output_size;\n\t\t\tlayers_size = Math.max(output_size - input_size, 3);\n\t\t}\n\n\n\t\tfor (let l = 0; l < layers_size; l++) {\n\n\t\t\tlet prev = hidden_size;\n\t\t\tlet size = hidden_size;\n\n\t\t\tif (l === 0) {\n\t\t\t\tprev = 0;\n\t\t\t\tsize = input_size;\n\t\t\t} else if (l === 1) {\n\t\t\t\tprev = input_size;\n\t\t\t\tsize = hidden_size;\n\t\t\t} else if (l === layers_size - 1) {\n\t\t\t\tprev = hidden_size;\n\t\t\t\tsize = output_size;\n\t\t\t}\n\n\n\t\t\tlet layer = new Array(size);\n\n\t\t\tfor (let n = 0, nl = layer.length; n < nl; n++) {\n\n\t\t\t\tlet neuron = {\n\t\t\t\t\tvalue:   _random(),\n\t\t\t\t\tweights: []\n\t\t\t\t};\n\n\t\t\t\tfor (let p = 0; p < prev; p++) {\n\t\t\t\t\tneuron.weights.push(_random());\n\t\t\t\t}\n\n\t\t\t\tlayer[n] = neuron;\n\n\t\t\t}\n\n\t\t\tthis.__layers[l]  = layer;\n\t\t\tweight_size      += layer.length;\n\n\t\t}\n\n\n\t\tthis.__size.input  = input_size;\n\t\tthis.__size.hidden = hidden_size;\n\t\tthis.__size.output = output_size;\n\t\tthis.__size.weight = weight_size;\n\n\t\tthis._inputs  = null;\n\t\tthis._outputs = null;\n\n\t\tthis._inputs  = new Array(input_size);\n\t\tthis._outputs = new Array(output_size);\n\n\t};\n\n\tconst _update_network = function(inputs, outputs) {\n\n\t\tlet layers = this.__layers;\n\n\n\t\t// Update Input Layer\n\t\tlet input_layer = layers[0];\n\n\t\tfor (let il = 0, ill = input_layer.length; il < ill; il++) {\n\t\t\tinput_layer[il].value = inputs[il];\n\t\t}\n\n\n\t\t// Update Hidden Layers\n\t\tlet prev_layer = layers[0];\n\n\t\tfor (let l = 1, ll = layers.length; l < ll; l++) {\n\n\t\t\tlet current_layer = layers[l];\n\n\t\t\tfor (let n = 0, nl = current_layer.length; n < nl; n++) {\n\n\t\t\t\tlet neuron = current_layer[n];\n\t\t\t\tlet value  = 0;\n\n\t\t\t\tfor (let p = 0, pl = prev_layer.length; p < pl; p++) {\n\t\t\t\t\tvalue += prev_layer[p].value * neuron.weights[p];\n\t\t\t\t}\n\n\t\t\t\tvalue        += neuron.bias;\n\t\t\t\tneuron.value  = _sigmoid(value);\n\n\t\t\t}\n\n\t\t\tprev_layer = current_layer;\n\n\t\t}\n\n\n\t\t// Update Output Layer\n\t\tlet output_layer = layers[layers.length - 1];\n\n\t\tfor (let o = 0, ol = output_layer.length; o < ol; o++) {\n\t\t\toutputs[o] = output_layer[o].value;\n\t\t}\n\n\t};\n\n\n\n\t/*\n\t * IMPLEMENTATION\n\t */\n\n\tconst Composite = function(data) {\n\n\t\tlet states = Object.assign({}, data);\n\n\n\t\tthis.controls = [];\n\t\tthis.sensors  = [];\n\n\t\tthis.__controls_map = [];\n\t\tthis.__layers       = [];\n\t\tthis.__sensors_map  = [];\n\n\t\t// cache structures\n\t\tthis._inputs  = [];\n\t\tthis._outputs = [];\n\t\tthis.__size   = {\n\t\t\tinput:  0,\n\t\t\thidden: 0,\n\t\t\toutput: 0,\n\t\t\tweight: 0\n\t\t};\n\n\n\t\tthis.setSensors(states.sensors);\n\t\tthis.setControls(states.controls);\n\n\t\tstates = null;\n\n\t};\n\n\n\tComposite.prototype = {\n\n\t\t/*\n\t\t * ENTITY API\n\t\t */\n\n\t\tdeserialize: function(blob) {\n\n\t\t\tif (blob.layers instanceof Array) {\n\t\t\t\tthis.__layers = lychee.deserialize(blob.layers);\n\t\t\t}\n\n\t\t\tif (blob.size instanceof Object) {\n\t\t\t\tthis.__size = lychee.deserialize(blob.size);\n\t\t\t}\n\n\t\t},\n\n\t\tserialize: function() {\n\n\t\t\tlet states = {};\n\t\t\tlet blob   = {};\n\n\n\t\t\tif (this.controls.length > 0) states.controls = lychee.serialize(this.controls);\n\t\t\tif (this.sensors.length > 0)  states.sensors  = lychee.serialize(this.sensors);\n\n\n\t\t\tif (this.__layers.length > 0) {\n\t\t\t\tblob.layers = lychee.serialize(this.__layers);\n\t\t\t}\n\n\t\t\tif (this.__size.input !== 0 || this.__size.output !== 0) {\n\t\t\t\tblob.size = lychee.serialize(this.__size);\n\t\t\t}\n\n\n\t\t\treturn {\n\t\t\t\t'constructor': 'lychee.ai.enn.Brain',\n\t\t\t\t'arguments':   [ states ],\n\t\t\t\t'blob':        Object.keys(blob).length > 0 ? blob : null\n\t\t\t};\n\n\t\t},\n\n\t\tupdate: function(clock, delta) {\n\n\t\t\tlet controls     = this.controls;\n\t\t\tlet controls_map = this.__controls_map;\n\t\t\tlet sensors      = this.sensors;\n\t\t\tlet inputs       = this._inputs;\n\t\t\tlet outputs      = this._outputs;\n\n\n\t\t\t// 1. Transform Policies to Inputs\n\t\t\tfor (let i = 0, s = 0, sl = sensors.length; s < sl; s++) {\n\n\t\t\t\tlet sensor = sensors[s];\n\t\t\t\tlet values = sensor.sensor();\n\n\t\t\t\tfor (let v = 0, vl = values.length; v < vl; v++) {\n\t\t\t\t\tinputs[i++] = values[v];\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\t// 2. Update Network\n\t\t\t_update_network.call(this, inputs, outputs);\n\n\n\t\t\t// 3. Transform Outputs to Policies\n\t\t\tlet offset = 0;\n\n\t\t\tfor (let c = 0, cl = controls_map.length; c < cl; c++) {\n\n\t\t\t\tlet control = controls[c];\n\t\t\t\tlet length  = controls_map[c];\n\t\t\t\tlet values  = outputs.slice(offset, length);\n\n\t\t\t\tif (values.length > 0) {\n\t\t\t\t\tcontrol.control(values);\n\t\t\t\t}\n\n\t\t\t\toffset += length;\n\n\t\t\t}\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * CUSTOM API\n\t\t */\n\n\t\tlearn: function(inputs, outputs) {\n\n\t\t\tinputs  = inputs instanceof Array  ? inputs  : null;\n\t\t\toutputs = outputs instanceof Array ? outputs : null;\n\n\n\t\t\tif (inputs !== null && outputs !== null) {\n\n\t\t\t\t// XXX: Feed Forward NN cannot learn\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetControls: function(controls) {\n\n\t\t\tcontrols = controls instanceof Array ? controls : null;\n\n\n\t\t\tif (controls !== null) {\n\n\t\t\t\tthis.controls = controls;\n\n\t\t\t\tthis.__controls_map = controls.map(function(control) {\n\t\t\t\t\treturn (control.sensor() || [ 1 ]).length;\n\t\t\t\t});\n\n\n\t\t\t\tlet size = this.__controls_map.reduce(function(a, b) {\n\t\t\t\t\treturn a + b;\n\t\t\t\t}, 0);\n\n\t\t\t\tif (size !== this.__size.output) {\n\t\t\t\t\t_init_network.call(this);\n\t\t\t\t}\n\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetSensors: function(sensors) {\n\n\t\t\tsensors = sensors instanceof Array ? sensors : null;\n\n\n\t\t\tif (sensors !== null) {\n\n\t\t\t\tthis.sensors = sensors;\n\n\t\t\t\tthis.__sensors_map = sensors.map(function(sensor) {\n\t\t\t\t\treturn (sensor.sensor() || [ 1 ]).length;\n\t\t\t\t});\n\n\n\t\t\t\tlet size = this.__sensors_map.reduce(function(a, b) {\n\t\t\t\t\treturn a + b;\n\t\t\t\t}, 0);\n\n\t\t\t\tif (size !== this.__size.input) {\n\t\t\t\t\t_init_network.call(this);\n\t\t\t\t}\n\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tgetWeights: function() {\n\n\t\t\tlet layers  = this.__layers;\n\t\t\tlet weights = [];\n\n\n\t\t\tfor (let l = 0, ll = layers.length; l < ll; l++) {\n\n\t\t\t\tlet layer = layers[l];\n\n\t\t\t\tfor (let n = 0, nl = layer.length; n < nl; n++) {\n\n\t\t\t\t\tlet neuron = layer[n];\n\t\t\t\t\tif (neuron.weights.length !== 0) {\n\n\t\t\t\t\t\tfor (let w = 0, wl = neuron.weights.length; w < wl; w++) {\n\t\t\t\t\t\t\tweights.push(neuron.weights[w]);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\tthis.__size.weight = weights.length;\n\n\n\t\t\treturn weights;\n\n\t\t},\n\n\t\tsetWeights: function(weights) {\n\n\t\t\tweights = weights instanceof Array ? weights : null;\n\n\n\t\t\tif (weights !== null) {\n\n\t\t\t\tlet size = this.__size.weight;\n\t\t\t\tif (size === weights.length) {\n\n\t\t\t\t\tlet count  = 0;\n\t\t\t\t\tlet layers = this.__layers;\n\n\t\t\t\t\tfor (let l = 0, ll = layers.length; l < ll; l++) {\n\n\t\t\t\t\t\tlet layer = layers[l];\n\n\t\t\t\t\t\tfor (let n = 0, nl = layer.length; n < nl; n++) {\n\n\t\t\t\t\t\t\tlet neuron = layer[n];\n\t\t\t\t\t\t\tif (neuron.weights.length !== 0) {\n\n\t\t\t\t\t\t\t\tfor (let w = 0, wl = neuron.weights.length; w < wl; w++) {\n\t\t\t\t\t\t\t\t\tneuron.weights[w] = weights[count++];\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\n\t\t\t\t\treturn true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t}\n\n\t};\n\n\n\treturn Composite;\n\n}"}},"game.policy.Control":{"constructor":"lychee.Definition","arguments":[{"id":"game.policy.Control","url":"/projects/flappy-bnn/source/policy/Control.js"}],"blob":{"attaches":{},"exports":"function(lychee, global, attachments) {\n\n\t/*\n\t * IMPLEMENTATION\n\t */\n\n\tconst Composite = function(data) {\n\n\t\tlet states = lychee.assignsafe({\n\t\t\tentity: null,\n\t\t\ttarget: null\n\t\t}, data);\n\n\n\t\tthis.entity = states.entity instanceof Object ? states.entity : null;\n\t\tthis.target = states.target instanceof Object ? states.target : null;\n\n\t\tstates = null;\n\n\t};\n\n\n\tComposite.prototype = {\n\n\t\t/*\n\t\t * ENTITY API\n\t\t */\n\n\t\t// deserialize: function(blob) {},\n\n\t\tserialize: function() {\n\n\t\t\tlet states = {\n\t\t\t\tentity: null,\n\t\t\t\ttarget: null\n\t\t\t};\n\n\n\t\t\treturn {\n\t\t\t\t'constructor': 'game.policy.Control',\n\t\t\t\t'arguments':   [ states ]\n\t\t\t};\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * CUSTOM API\n\t\t */\n\n\t\tsensor: function() {\n\n\t\t\tlet entity = this.entity;\n\t\t\tlet target = this.target;\n\t\t\tlet values = [ 0.5 ];\n\n\n\t\t\tif (entity !== null && target !== null) {\n\n\t\t\t\tlet ey = entity.position.y;\n\t\t\t\tlet ty = target.position.y;\n\n\t\t\t\tif (ty < ey) {\n\t\t\t\t\tvalues[0] = 1;\n\t\t\t\t} else {\n\t\t\t\t\tvalues[0] = 0;\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn values;\n\n\t\t},\n\n\t\tcontrol: function(values) {\n\n\t\t\tlet entity = this.entity;\n\n\n\t\t\tif (entity !== null) {\n\n\t\t\t\tlet val = values[0];\n\t\t\t\tif (val > 0.5) {\n\n\t\t\t\t\tif (typeof entity.flap === 'function') {\n\n\t\t\t\t\t\tentity.flap();\n\n\t\t\t\t\t\treturn true;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t}\n\n\t};\n\n\n\treturn Composite;\n\n}"}},"game.policy.Position":{"constructor":"lychee.Definition","arguments":[{"id":"game.policy.Position","url":"/projects/flappy-bnn/source/policy/Position.js"}],"blob":{"attaches":{},"exports":"function(lychee, global, attachments) {\n\n\t/*\n\t * IMPLEMENTATION\n\t */\n\n\tconst Composite = function(data) {\n\n\t\tlet states = lychee.assignsafe({\n\t\t\tentity: null,\n\t\t\tlimit:  {\n\t\t\t\tx: Infinity,\n\t\t\t\ty: Infinity,\n\t\t\t\tz: Infinity\n\t\t\t}\n\t\t}, data);\n\n\n\t\tthis.entity = states.entity instanceof Object ? states.entity : null;\n\t\tthis.limit  = states.limit instanceof Object  ? states.limit  : { x: Infinity, y: Infinity, z: Infinity };\n\n\t\tstates = null;\n\n\t};\n\n\n\tComposite.prototype = {\n\n\t\t/*\n\t\t * ENTITY API\n\t\t */\n\n\t\t// deserialize: function(blob) {},\n\n\t\tserialize: function() {\n\n\t\t\tlet states = {\n\t\t\t\tentity: null,\n\t\t\t\tlimit:  this.limit\n\t\t\t};\n\n\n\t\t\treturn {\n\t\t\t\t'constructor': 'game.policy.Position',\n\t\t\t\t'arguments':   [ states ]\n\t\t\t};\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * CUSTOM API\n\t\t */\n\n\t\tsensor: function() {\n\n\t\t\tlet entity = this.entity;\n\t\t\tlet limit  = this.limit;\n\t\t\tlet values = [ 0.5 ];\n\n\n\t\t\tif (entity !== null) {\n\n\t\t\t\tlet hly = limit.y / 2;\n\n\t\t\t\tvalues[0] = (hly + entity.position.y) / (hly * 2);\n\n\t\t\t}\n\n\n\t\t\treturn values;\n\n\t\t},\n\n\t\tcontrol: function(values) {\n\n\t\t\tlet entity = this.entity;\n\t\t\tlet limit  = this.limit;\n\n\n\t\t\tif (entity !== null) {\n\n\t\t\t\tlet hly = limit.y / 2;\n\n\t\t\t\tentity.position.y = (values[0] * (hly * 2)) - hly;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t}\n\n\t};\n\n\n\treturn Composite;\n\n}"}},"game.app.sprite.Goal":{"constructor":"lychee.Definition","arguments":[{"id":"game.app.sprite.Goal","url":"/projects/flappy-bnn/source/app/sprite/Goal.js"}],"blob":{"attaches":{"json":{"constructor":"Config","arguments":["/projects/flappy-bnn/source/app/sprite/Goal.json"],"blob":{"buffer":"data:application/json;base64,ewoJIndpZHRoIjogNDAsCgkiaGVpZ2h0IjogMjU2LAoJImNvbGxpc2lvbiI6IDEsCgkic2hhcGUiOiAxLAoJInN0YXRlIjogImRlZmF1bHQiLAoJInN0YXRlcyI6IHsKCQkiZGVmYXVsdCI6IHsKCQkJImFuaW1hdGlvbiI6IGZhbHNlCgkJfQoJfSwKCSJtYXAiOiB7CgkJImRlZmF1bHQiOiBbCgkJCXsKCQkJCSJ4IjogMCwKCQkJCSJ5IjogMCwKCQkJCSJ3IjogNDAsCgkJCQkiaCI6IDI1NgoJCQl9CgkJXQoJfQp9"}},"png":{"constructor":"Texture","arguments":["/projects/flappy-bnn/source/app/sprite/Goal.png"],"blob":{"buffer":"data:image/png;base64,PNG\r\n\u001a\n\u0000\u0000\u0000\rIHDR\u0000\u0000\u0000(\u0000\u0000\u0001\u0000\b\u0006\u0000\u0000\u0000Áv4\u0000\u0000\u0000\u0006bKGD\u0000ÿ\u0000ÿ\u0000ÿ ½§\u0000\u0000\u0000\tpHYs\u0000\u0000\u000eÃ\u0000\u0000\u000eÃ\u0001Ço¨d\u0000\u0000\u0000\u0007tIME\u0007à\u000b\u0015\u0013\u0013(½Óß\u0000\u0000\nIDATxÚíßo\u001bE\u001eÀ?3»k{×ë$møÑ6\rUÅ6BÇ¡\u0003\u0004\bZàñNwRË\u000b-Ò\u0001\u0018ðÀ\u0017Ê\u0003â\u001e¡\u0001î¨Ôã\u001eÜDj¸BCË\u001d)½¿ìÝ¹\u0007Çn~Ù^;!pÒ|¤(Ñf<óñ|g¾3³/\u0003¿rÄ ,Ö¯¿\u0003\\< wÏ-¹TXðJ½~9l\u0005çã0<\u0010;·Z¥Zó?x~aáÂHÁÅúõfó$\u000f4\u0015×ÅúäÜÂ\u00177?»ÉÅQtàc-\"fóÅúõwíÁ+õúå°Ù:\u001fG\u0011BÑ·WfTY­7~éuj­q=êT­\u001fn±!÷NØ\n.&Ûzn»¨R\n¥\u0014R\bªµ\u001a¶ã\u0014ê,M\t[-ÖXµ£Þíò\u0015Ï£Zóß}~aá\r0H®T.ïhìæÊ\n~ÍÇ.H\b¡\u0005 \u0007&\t-4Â±\bÃ0\b9ýè£;Æg\u001b.\u0017®`2Æ;qò$?Ý½K¦|o7¸-\u001b\u0001~ZÀQ5Ã±t\u0006Ë²9µ°P(Ôìñ3§ 63CÞéð/û;\u0016½%lk÷j²<ã\\t¹lC÷ÝWhloÇhÊi\rB`cáZe,a¡3µõ{ØÜ²°±º\u0013©`Ï\u0015\u0016,\u001a\n\r)t'»7£µF`£­b\u0011\u0019Ö\u001cô<Ï¹½º:áªY<ßÞ¸Açã\u000b\n!H¢Û««\u0013\"yôÛ\u0015Â \u0018Z¿\u001cVeÛ$QÄ­7÷]rey0\b°l{oÄ²m\\ÏÃv\u001clÛF\bA;I³l¬àK)RöÇ[¹R!MÓ½ÏâR¹Dµæ\u0013\u0005\u0001*WýÑ%(4Ò\u0004 \u0010ÄAH\u001ch@ZjÍ§ÓiÓiwö&¨rEÖNÉJð\u0015£ú\r7EÂ uDo*ó\\ë±\u001cRUìN·î}É\u0016o¬ÿrÙ»Êº\u001d÷Ç££-\u001cá T¶c\u0012k¥°lkîwüÃûw?uMg.\u0017¢'ø\r÷ïo¢H<«LV\u0002ò~\u0006D§9ä»ôa®ÑicÛ8Ø]k\u000b<]F\u000e{[It¦Ðíü^\\Å²©ê\u0013ekìÙ^ø«(TwüY¢7ò\u0019ct,AB¡öOP\u0003\nÍ\u00115ß)£FVÆ_ÂeÅF+ß)sDÍ Ðèý\u0010Ì³(¨©\n\u0017']´\u0006é\u0016®Ö0\u001b»\\H¤¦*DID^ \u0016\nq\u0014ÄqÄ¬òy%z©¸\u0004\u001a¤ë\u0014s@ÃT\\âè\u0019fåØD\u0005O\u0004K¥\u0012ÇæçqÊ%f´ÇkÑsø±\u0003Z\u000fíIéÚ 5~ìðZô\u001c3ÚCZ\u0012Û¶\u000b\u001f\u0017d\u0011¹§N¡Âõ¼\rI×£³ÔâÒ½poË½°Öâ\u0012¯GgÑ.Â}±cóó$\n:¥\u0012'\u001e~xË~Íõ<ìriíòjô,ã\nJkDÙîÏVQ¶QZs8®ðjô,ÓÚ\u0005Kâl\u0016Ò£ss#%\u0007\nJ)9yêÔ®»{=éñrü\u0014\u000fÆ>\n(Û]9\u0014\u000fÆ>/ÇOõÃêì\"\"àØñãÈI¶[bÄ6Ýõ<J2³yóñÌÅÓäB\u000bÅ\\<ÍùøIfó*Ò¶FörÏ$B\bVIâ©\u0019\u001eðkü)~¿é\u0002ðÇäw<×h\u0005-\u0006¥rã'N\u0014>FìYðæ\u001b$qeÛA\u0000\u001aÔ¦ùsò8\u0000÷çS´Z-Â°»!í´Û|ë\u0016Gçæ~¾¥®wÀémÓ7ïÃ0 Õjò æA5M«Õ$\f\u001d;óñÎ8[{ð*ðÄöS]³ÑØqÒó§¦¨MOï~\u000eVÝÃOÕ÷©úþ®'Åv|õ±É©'¨\u0006ù5pzÔ\u0007-Ëb¯\u0014\u0018K]§~EúÒ¹³gå_Á[ßå®HwÝÍ½¿øé\u0012ðÈ/(wzè$Ù(°ô\u000bÈ-mÛUðýÅE\u0001ê±Þ = ®z¬Û¶Á`0\u0018\f\u0006Á`0\u0018\f\u0006Á`0\u0018\f\u0006Á`0\u0018\f\u0006Á`0\u0018\f\u0006Á`0\u0018\f\u0006Á`0\u0018\f\u0006Á`0\u0018\f\u0006Á`0\u0018\f\u0006Á`0\u0018\f\u0006Á`0\u0018\f\u0006Á`0\u0018\f\u0006Á`0\u0018\f\u0006Á`0\u0018\fÑ\f¼\u0002p±~ý\u001dàâ\u0001y¼{náÌ¥ÂWêõËa+8\u001f\u0017¼¥y¯¸Õ*ÕÿÁó\u000b\u000b\u0017F\n.Ö¯\u001c4/$q| ¡¬¸.þÔÔ'ç\u0016Î¼¸ù¹ÜM.¢\u0003\u001fkq\u0014\u00114/,Ö¯¼«àzýrON¿R\bÑ¼R¯_Þ\u0012â+õú;a+¸lë¹í¢J)RLª¯éÞ=;êrÛçQ­ùï>¿°pÉ\u0006\u0018$W*w4rse´ÝÞñ¼6=ÍáÃ³\u0000Ü½»Fk}}GR¥ÂéG\u001fÝ!Ôl4¶<Ûp¹\bt\u00051ÆÜ'¹½ºJ¦ýgÕª_«ñìJÝè0¶íl¹Ã¸´ËáÃè9É\t\u0006\u000bG7]q^õ}jµ\u001aw¬u>¬\\ãÃÊ5îXëÔjµþ\u001dÆ½«Ö'\u0019ÛödIsü¡XûñGª®Ç¬\u0016\u001f¹×¸åu{ð#q¿Ä¿ç\u0001¿eY\u001cG)5QSr°ÃðPtÚmª^5+ä\u0003÷+VÝu,-±´dÕ]ç\u0003÷+Ö¬\u0010Ï«vïÙ\u001e\u0012am\r\u0014Ìó|à×i¢rECD¼ç~É\u000fnD¢Û\u0019º!üà\u0006¼ç~ICD¤í\u000erë·7nçùøBþÅÜÇN¦+ÖEÌ[ÞçÜu\u0013¤\u0010èvÖÍ#®¤\u0010Üu\u0013Þò>g]ÄdÛ$Å¦\u000bÃÅ$\u0017ÍÃ½ÛÃoÝ¼\u0010,MÑ¹¢!bÞð>¥åv\u0010\u0002T¼!·)á©8C\bh¹\u001dÞð>¥!â-=¹²¼¼ã6ó±\u0005{v»?þØ\u000fëÞg\u0004n\nBtå\u0006 â\f pSÞô>ë;ãþ=ð\u0013OíIØóª¬É·½/hº\u001d\u0010 âtägU¦Ûámï\u000bÖd@;N\u0006^µ>Q\u000fz\u0015L¸\\ù57¾\u0017ÖôÂ½æÆ\\®|EK&x\u0015ozP\u0000\u0012Á\u001dÙ (µ\u0011R lì|¦\f!\u0005A©Í\u001dÙ@\"\n­évñ)±ëþl\u001d¾'ß´Cèç.D±½\b[\"ì·¬3ÎÔà²¶¼÷M, ÿ:\"ÊÛ¸·\u001cmá8Nw%È·­\u0006@8\u0016i®Î5vÞ­k_\u0005s\u0014óù,\r!ß¨\\\u0000/}Ã×þ*RJtß\u000b·\u0006!%¹Îy<ç\u000fýH[H\u000e©j¿=\u000bJKb\u001dJBRÉ¾\u0010ëú6zCVï2¹40¥+Ì«Ùþz«7êTe´$d{\u0014ì´;ÄaÄýG`Û6B\bÚIB\u001c\u0014ÙÙuçÆõ«+\u0015´Öh­¹³ºJ§ÝÙ\u0010'qã8(¥ÐZw¹Õo·Û[6\u0005QÁMòÈùÞÛlNº\u001bÄ±MÞ\u00051·éãnzÎÍ\u001c((¥\u001cs®\u0007ü=ü¨yìøqä6ìa\u001f¦@Ï\t\u0000[\"¶WeK.\u0003£4ÙdC>#'ÎÛØÝ]%¶uhgdä õÄ/\u0003&\u0012l¬­Q®Tøm6Ï}A\r1 £µ£j\u0006\r4××9tøðÏ,(\u0004ßÞ¸]*a;\u000eóéa\u001eÒ³CÆ@\u000bp,ôÆñáèÜÜDW'¶êÆ?5r¹í;\u001aÉÒ\u0014Ïó¨T*´dä«MN=Aõ4È¯Ó£>hYVÿmT<H'½I×ûl´µÔuê§\u0019¾tîì\u0019`¹x\u001aë.YZ©á?\u001båÆ`¹ë\"Ò]·ï/~º\u0004<ò\u000b½^~éÜÙÓC\u0013õF¥_@ni»Ü®ï/.\nPõ\u0006é\u0001q\u0015ÔcÝ¶ÿÏø\u001f\u0011íòsêJª\u0000\u0000\u0000\u0000IEND®B`"}}},"requires":["game.app.sprite.Plane"],"includes":["lychee.app.Sprite"],"exports":"function(lychee, global, attachments) {\n\n\tconst _Plane   = lychee.import('game.app.sprite.Plane');\n\tconst _Sprite  = lychee.import('lychee.app.Sprite');\n\tconst _CONFIG  = attachments[\"json\"].buffer;\n\tconst _TEXTURE = attachments[\"png\"];\n\n\n\n\t/*\n\t * IMPLEMENTATION\n\t */\n\n\tconst Composite = function(data) {\n\n\t\tlet states = Object.assign({}, _CONFIG, data);\n\n\n\t\tstates.texture  = _TEXTURE;\n\t\tstates.position = {\n\t\t\tx: -4096,\n\t\t\ty: 0\n\t\t};\n\t\tstates.velocity = {\n\t\t\tx: -256\n\t\t};\n\n\n\t\t_Sprite.call(this, states);\n\n\t\tstates = null;\n\n\t};\n\n\n\tComposite.prototype = {\n\n\t\t/*\n\t\t * ENTITY API\n\t\t */\n\n\t\t// deserialize: function(blob) {},\n\n\t\tserialize: function() {\n\n\t\t\tlet data = _Sprite.prototype.serialize.call(this);\n\t\t\tdata['constructor'] = 'game.app.sprite.Goal';\n\n\n\t\t\treturn data;\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * CUSTOM API\n\t\t */\n\n\t\tcollidesWith: function(plane) {\n\n\t\t\tplane = plane instanceof _Plane ? plane : null;\n\n\n\t\t\tif (plane !== null) {\n\n\t\t\t\tlet px = plane.position.x;\n\t\t\t\tlet py = plane.position.y;\n\t\t\t\tlet pw = plane.width;\n\t\t\t\tlet ph = plane.height;\n\n\t\t\t\tlet x1 = this.position.x - this.width / 2;\n\t\t\t\tlet x2 = this.position.x + this.width / 2;\n\n\t\t\t\t// XXX: Let planes go 8px into the boxes (40px bb w/h)\n\t\t\t\tlet y1 = this.position.y - (this.height - 32 * 2) / 2;\n\t\t\t\tlet y2 = this.position.y + (this.height - 32 * 2) / 2;\n\n\n\t\t\t\tif (px + pw / 2 > x1 && px - pw / 2 < x2) {\n\n\t\t\t\t\tif (py - ph / 2 > y1 && py + ph / 2 < y2) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t}\n\n\t};\n\n\n\treturn Composite;\n\n}"}},"lychee.app.Sprite":{"constructor":"lychee.Definition","arguments":[{"id":"lychee.app.Sprite","url":"/libraries/lychee/source/app/Sprite.js"}],"blob":{"attaches":{},"includes":["lychee.app.Entity"],"exports":"function(lychee, global, attachments) {\n\n\tconst _Entity = lychee.import('lychee.app.Entity');\n\n\n\n\t/*\n\t * HELPERS\n\t */\n\n\tconst _start_animation = function(settings) {\n\n\t\tlet duration = typeof settings.duration === 'number' ? settings.duration : 1000;\n\t\tlet frame    = typeof settings.frame === 'number'    ? settings.frame    : 0;\n\t\tlet frames   = typeof settings.frames === 'number'   ? settings.frames   : 25;\n\t\tlet loop     = settings.loop === true;\n\n\n\t\tlet animation = this.__animation;\n\n\t\tanimation.start    = null;\n\t\tanimation.active   = true;\n\t\tanimation.duration = duration;\n\t\tanimation.frames   = frames;\n\t\tanimation.loop     = loop;\n\n\t\tthis.frame = frame;\n\n\t};\n\n\tconst _stop_animation = function() {\n\n\t\tlet animation = this.__animation;\n\n\t\tanimation.active = false;\n\n\t\tthis.frame = 0;\n\n\t};\n\n\n\n\t/*\n\t * IMPLEMENTATION\n\t */\n\n\tconst Composite = function(data) {\n\n\t\tlet states = Object.assign({}, data);\n\n\n\t\tthis.frame   = 0;\n\t\tthis.texture = null;\n\n\t\tthis.__animation = {\n\t\t\tactive:   false,\n\t\t\tstart:    null,\n\t\t\tframes:   0,\n\t\t\tduration: 0,\n\t\t\tloop:     false\n\t\t};\n\t\tthis.__map = {\n\t\t\t'default': []\n\t\t};\n\n\n\t\tthis.setTexture(states.texture);\n\t\tthis.setMap(states.map);\n\n\t\tdelete states.texture;\n\t\tdelete states.map;\n\n\n\t\t_Entity.call(this, states);\n\n\t\tstates = null;\n\n\t};\n\n\n\tComposite.prototype = {\n\n\t\t/*\n\t\t * ENTITY API\n\t\t */\n\n\t\tdeserialize: function(blob) {\n\n\t\t\tlet texture = lychee.deserialize(blob.texture);\n\t\t\tif (texture !== null) {\n\t\t\t\tthis.setTexture(texture);\n\t\t\t}\n\n\t\t\tif (blob.animation instanceof Object) {\n\t\t\t\t_start_animation.call(this, blob.animation);\n\t\t\t}\n\n\t\t},\n\n\t\tserialize: function() {\n\n\t\t\tlet data = _Entity.prototype.serialize.call(this);\n\t\t\tdata['constructor'] = 'lychee.app.Sprite';\n\n\t\t\tlet states = data['arguments'][0];\n\t\t\tlet blob   = (data['blob'] || {});\n\n\n\t\t\tif (Object.keys(this.__map).length > 0) {\n\n\t\t\t\tstates.map = {};\n\n\n\t\t\t\tfor (let state in this.__map) {\n\n\t\t\t\t\tstates.map[state] = [];\n\n\n\t\t\t\t\tlet frames = this.__map[state];\n\t\t\t\t\tfor (let f = 0, fl = frames.length; f < fl; f++) {\n\n\t\t\t\t\t\tlet frame  = frames[f];\n\t\t\t\t\t\tlet sframe = {};\n\n\t\t\t\t\t\tif (frame.x !== 0) sframe.x = frame.x;\n\t\t\t\t\t\tif (frame.y !== 0) sframe.y = frame.y;\n\t\t\t\t\t\tif (frame.w !== 0) sframe.w = frame.w;\n\t\t\t\t\t\tif (frame.h !== 0) sframe.h = frame.h;\n\n\n\t\t\t\t\t\tstates.map[state].push(sframe);\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\tif (this.__animation.active === true) {\n\n\t\t\t\tblob.animation = {};\n\n\t\t\t\tif (this.__animation.duration !== 1000) blob.animation.duration = this.__animation.duration;\n\t\t\t\tif (this.frame !== 0)                   blob.animation.frame    = this.frame;\n\t\t\t\tif (this.__animation.frames !== 25)     blob.animation.frames   = this.__animation.frames;\n\t\t\t\tif (this.__animation.loop !== false)    blob.animation.loop     = true;\n\n\t\t\t}\n\n\t\t\tif (this.texture !== null) blob.texture = lychee.serialize(this.texture);\n\n\n\t\t\tdata['blob'] = Object.keys(blob).length > 0 ? blob : null;\n\n\n\t\t\treturn data;\n\n\t\t},\n\n\t\trender: function(renderer, offsetX, offsetY) {\n\n\t\t\tlet texture = this.texture;\n\t\t\tif (texture !== null) {\n\n\t\t\t\tlet alpha    = this.alpha;\n\t\t\t\tlet position = this.position;\n\n\t\t\t\tlet x1 = 0;\n\t\t\t\tlet y1 = 0;\n\n\n\t\t\t\tif (alpha !== 1) {\n\t\t\t\t\trenderer.setAlpha(alpha);\n\t\t\t\t}\n\n\n\t\t\t\tlet map = this.__map[this.state][this.frame] || null;\n\t\t\t\tif (map !== null) {\n\n\t\t\t\t\tx1 = position.x + offsetX - map.w / 2;\n\t\t\t\t\ty1 = position.y + offsetY - map.h / 2;\n\n\t\t\t\t\trenderer.drawSprite(\n\t\t\t\t\t\tx1,\n\t\t\t\t\t\ty1,\n\t\t\t\t\t\ttexture,\n\t\t\t\t\t\tmap\n\t\t\t\t\t);\n\n\t\t\t\t} else {\n\n\t\t\t\t\tlet hw = (this.width / 2)  || this.radius;\n\t\t\t\t\tlet hh = (this.height / 2) || this.radius;\n\n\t\t\t\t\tx1 = position.x + offsetX - hw;\n\t\t\t\t\ty1 = position.y + offsetY - hh;\n\n\t\t\t\t\trenderer.drawSprite(\n\t\t\t\t\t\tx1,\n\t\t\t\t\t\ty1,\n\t\t\t\t\t\ttexture\n\t\t\t\t\t);\n\n\t\t\t\t}\n\n\n\t\t\t\tif (alpha !== 1) {\n\t\t\t\t\trenderer.setAlpha(1.0);\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\t_Entity.prototype.render.call(this, renderer, offsetX, offsetY);\n\n\t\t},\n\n\t\tupdate: function(clock, delta) {\n\n\t\t\t_Entity.prototype.update.call(this, clock, delta);\n\n\n\t\t\tlet animation = this.__animation;\n\t\t\tif (animation.active === true) {\n\n\t\t\t\tif (animation.start === null) {\n\t\t\t\t\tanimation.start = clock;\n\t\t\t\t}\n\n\t\t\t\tif (animation.start !== null) {\n\n\t\t\t\t\tlet t = (clock - animation.start) / animation.duration;\n\t\t\t\t\tif (t <= 1) {\n\n\t\t\t\t\t\tthis.frame = Math.max(0, Math.ceil(t * animation.frames) - 1);\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif (animation.loop === true) {\n\t\t\t\t\t\t\tanimation.start = clock;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.frame = animation.frames - 1;\n\t\t\t\t\t\t\tanimation.active = false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * CUSTOM API\n\t\t */\n\n\t\tsetState: function(id) {\n\n\t\t\tid = typeof id === 'string' ? id : null;\n\n\n\t\t\tlet result = _Entity.prototype.setState.call(this, id);\n\t\t\tif (result === true) {\n\n\t\t\t\tlet map = this.__map[this.state] || null;\n\t\t\t\tif (map !== null) {\n\n\t\t\t\t\tif (map instanceof Array) {\n\n\t\t\t\t\t\tlet statemap = this.states[this.state] || null;\n\t\t\t\t\t\tif (statemap !== null) {\n\n\t\t\t\t\t\t\t_stop_animation.call(this);\n\n\t\t\t\t\t\t\tif (statemap.animation === true) {\n\n\t\t\t\t\t\t\t\t_start_animation.call(this, {\n\t\t\t\t\t\t\t\t\tduration: statemap.duration || 1000,\n\t\t\t\t\t\t\t\t\tframe:    0,\n\t\t\t\t\t\t\t\t\tframes:   map.length,\n\t\t\t\t\t\t\t\t\tloop:     statemap.loop === true\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\tmap = map[0];\n\n\t\t\t\t\t}\n\n\n\t\t\t\t\tif (map.width !== undefined && typeof map.width === 'number') {\n\t\t\t\t\t\tthis.width = map.width;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (map.height !== undefined && typeof map.height === 'number') {\n\t\t\t\t\t\tthis.height = map.height;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (map.radius !== undefined && typeof map.radius === 'number') {\n\t\t\t\t\t\tthis.radius = map.radius;\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn result;\n\n\t\t},\n\n\t\tsetTexture: function(texture) {\n\n\t\t\ttexture = texture instanceof Texture ? texture : null;\n\n\n\t\t\tthis.texture = texture;\n\n\t\t\treturn true;\n\n\t\t},\n\n\t\tsetMap: function(map) {\n\n\t\t\tmap = map instanceof Object ? map : null;\n\n\n\t\t\tlet valid = false;\n\n\t\t\tif (map !== null) {\n\n\t\t\t\tfor (let state in map) {\n\n\t\t\t\t\tlet frames = map[state];\n\t\t\t\t\tif (frames instanceof Array) {\n\n\t\t\t\t\t\tthis.__map[state] = [];\n\n\n\t\t\t\t\t\tfor (let f = 0, fl = frames.length; f < fl; f++) {\n\n\t\t\t\t\t\t\tlet frame = frames[f];\n\t\t\t\t\t\t\tif (frame instanceof Object) {\n\n\t\t\t\t\t\t\t\tframe.x = typeof frame.x === 'number' ? frame.x : 0;\n\t\t\t\t\t\t\t\tframe.y = typeof frame.y === 'number' ? frame.y : 0;\n\t\t\t\t\t\t\t\tframe.w = typeof frame.w === 'number' ? frame.w : 0;\n\t\t\t\t\t\t\t\tframe.h = typeof frame.h === 'number' ? frame.h : 0;\n\n\n\t\t\t\t\t\t\t\tthis.__map[state].push(frame);\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\tvalid = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn valid;\n\n\t\t}\n\n\t};\n\n\n\treturn Composite;\n\n}"}},"game.app.sprite.Plane":{"constructor":"lychee.Definition","arguments":[{"id":"game.app.sprite.Plane","url":"/projects/flappy-bnn/source/app/sprite/Plane.js"}],"blob":{"attaches":{"json":{"constructor":"Config","arguments":["/projects/flappy-bnn/source/app/sprite/Plane.json"],"blob":{"buffer":"data:application/json;base64,ewoJIndpZHRoIjogNDAsCgkiaGVpZ2h0IjogMzIsCgkiY29sbGlzaW9uIjogMSwKCSJzaGFwZSI6IDEsCgkic3RhdGUiOiAiZGVmYXVsdCIsCgkic3RhdGVzIjogewoJCSJkZWZhdWx0IjogewoJCQkiYW5pbWF0aW9uIjogZmFsc2UKCQl9Cgl9LAoJIm1hcCI6IHsKCQkiZGVmYXVsdCI6IFsKCQkJewoJCQkJIngiOiAwLAoJCQkJInkiOiAwLAoJCQkJInciOiA0MCwKCQkJCSJoIjogMzIKCQkJfQoJCV0KCX0KfQ=="}},"png":{"constructor":"Texture","arguments":["/projects/flappy-bnn/source/app/sprite/Plane.png"],"blob":{"buffer":"data:image/png;base64,PNG\r\n\u001a\n\u0000\u0000\u0000\rIHDR\u0000\u0000\u0000(\u0000\u0000\u0000 \b\u0006\u0000\u0000\u0000`­:\u0000\u0000\u0000\u0000\u0006bKGD\u0000ÿ\u0000ÿ\u0000ÿ ½§\u0000\u0000\u0000\tpHYs\u0000\u0000\u000b\u0013\u0000\u0000\u000b\u0013\u0001\u0000\u0018\u0000\u0000\u0000\u0007tIME\u0007à\u000b\u0016\u000e\r\t\u001eÞc\u0000\u0000\tIDATXÃµ{pU\u0019Æç»í-ÙmÚ\\¶^iZZlIåâ\f\u0002SFËhê(Bg(cA¦rÑÊ0^ª\u0014\u0004t@\u0001Q@ ÜÔÁJ\u0007ë(ÂH\u0019i¸$m \u0018z&»IÚf7Ùl¾û9þ±ihK«à39³ßó³ÏyÏ{÷ý\"8\t<yöÙHÛN\tMû¡ëËu!¦ñ1!:,¥lñÃðÖ«[[ß\u001aÏÎ8ÑBk\u001b\u001a¸²©M\u000fOM$¾bé:\u0010ª\u0005\\Ø^,\u000fD\u001e_¼«[[G\u0019YéÎ¹s­9UUnm\"Á'¢ëÒëº÷¬ji¹éò i\u0018J¡B¡=)Un¨ò\bMC\bP\b8j'&ö\u0010\u0002\u0001Õãë\u0016/fsw÷¸\u000b<²`\u0001×½÷^¸|êÔîAß¿¬Â41t\u001d1¹\u0006YÆÙÓ@bÙÅ8±Jüê4á\u001aD\u0018 â\u0015Â\u0011ð<4¥@ªò¢Vþ\u0010^Ç¡7;gk±èéÁ>ÃÐll¼!TjUÊ²N\u001bò\u001c\f¶ \f_!\bî\u0002:¯lnþõSÝíÅâr2û\u001b7]\u001a_´BGÊÊ\u0004Fª§v\u0004¦µ\u0011¥\u0012Xc_\\IAù\u001e={÷Q\u0010ó]>Üp3\b\u0017\u0004ý¾Rë®ËfK¿;k÷í\u001bMpR«*Móç³**Ð9\u000e\u0001Kr¶½ä°ëÞ°iÉKWíÜ¹ueKËf`ó£3ê\u0013Å·^\u001b¨X|\u0006\"ðê\u001aëáJ÷­øò\u0007®±yKÓ\u0013n¾7\u001fÇQÑ\u0018ñé3è{q\u000bÅîÜ%«Û;þzÔî±³ÏfuSÓ(r\u001b6Üa\tqç¬\nDùê0¨F©DØ_,þåé¥KWAðÈÐuèÏÏ\u001cuË\u001aí\u0003Äã1ººzB¡­#¥$:8h\u000f¦RÉ¸\u0010xU\u0015{\u001f¼ËÔÝ1âº®njâG·ßGºÐ!òSf}\u000bÄÜR1øám·]×'þxÆ\u0019²!\u0014'ºÎ9Û\u001eñ]\u0006¨ùÁ=\u00043ç¡kðä\u0013¿aö\u0005¤U¶TR*Eâð¡,­;^çÛënE\b\u001dTÈ«olG÷\u0003/\fý~ à8Îë¦i>ûÝ[¾ùÂO7þòÒêêÚ\u0017jjjÙ³»\r¨2¼0|6Têrã\u0004\u00143±ØÈh\u0014õÚ?ÑçÊî÷Þa{ÓËlßþ\u0012Bh1\u0000\u0002\u0004¿mý\u0013ËW\\I±ØÇüY³\u0000,¥¨\u0016jß÷æ~xàÀÊw>pëØ~æ,2Sëø÷»ïx5ÅJ=°¿XüÚ§I­\u0018Èñ\u0014]\bâC·oX>²í %Ó²í\\\u0015ÐªÀ\u0019\u001a\u0001³`\u0010Ìî:\u0012Ïsééé!JaY\u0016JaÌ>e\u000e{÷î¹Ùên)%RÉ²\\)0p7½x¼ÐãyÍq²:ª{ÇÃsAJ*\\ó5eeM\u001b£â:\f%\n\b|0\fRÒÂ\u00159oPÓ^:þ'´¶6\u000f°})QC$Ä1Í\u0014\u0010T\u001eO^)Tº\u001e\f\u00035c\u000e¡Rø7Ô| \u0000¤0m&h:hL&Cì¸p\u0011B\u0010F1-ëÇÇ\u0007ö\u000bP\u0012\u001aØöS\u0003\u00032;0@¦ÒuRºNBÓjÚè\u0018\u00040o\u0001\u0014zaþÂ²7ÇÂ@\u0011µì\u00128ÜM$@ÊpØ\u0011Ç¢ªª0\fGõk\u0000R+[Z®¼¢¹Y÷Âð¬÷úúüP)\"¡ièB \u001dÓ\u0000Di\u0000uñ\nÄ£÷B,J×£dù(G8º.q\nÅ'\u001f\">y\nRª1÷H¥Ú¥Qó5--Ã\u001dª«ßð`Þ;ù|éã\f§$S×1ta\u00103\fb§Òu^¶VÄåkHê\u001a\u0015EÔ4\u0018\u0006¦¦¡w!ª«Dg;EÇ!QQÉX\u0014=ÝàÌæmX=\u0014Ã\u0002\u0001J;Þ°cÏ\u001e®jmýP\u0013¢þ\u0001Ï\u0012_JÜ À\u000f\u0002JÇçÑ·ðtä×)\f\u0014ñv¾oZø(v\u00100èû8¾+%~¢\u0012Ù¶S¢¸{\u0017)ÇFïÉ¡õåQõQ\u001c\u0001~m¦,ðºÁl»éÖ\tÅoScã\u0005¦¦ýc~2.\u0004E)\tâG!(0Ìág\fsT\rW\u001eS`\u0018À/«£\u0010 40LúÖÞWi\u0012Ýò{ê®XCå©\u000b9pÉgiþÒªGµ\b®jiyÉ\u000fÕ]¶ar\u0000B×\u0011G\t\r=1\nÌòQî7Ìò\u001cÝ(W42$Ú´m¸$\u0013J\u0012þ¢Òt@à3K\u0012À¦ÃóF¯ë¯\u001f\u0007bDò\u0006\u0001¦ï³»ñ\u001cé[ÑM\u0013\u0016¬77\u0003ÈG\u0016.¼èaä\u001b,\u000bç\u0018­ÔIÑ(%ßÇ\u001fC\"äqÏ^4ÙG\t°6ûé3ËjÙv\u0004\u0002MôÖO\u000f\"ÿþIUÔ×¼ûná%Kî9â87¦ãñáª'n\u0018DuA×%ª\u0018BJìYsÈ­YGûÞ½ÔE-*#\u00162Dxe¥0\u0003u\u0001\u0017ÄcÄP\b©P:Ú\u0004\u001fnh Jéa\u0018¾\\\u0017[\u0015\f\u0018\u0006\b=¥Ò°6\u0007¥\u0014þ¤Éè¥\u0001fU¥Ð4\r%Ä09\u0000×¶\t¥\u001cr»\u0018©ãaÍ=øwZ:\u001a=wZ,y\faÐçyXAÔ\u0018Q SIöFb\u001cÎuHT|ô^s\fòù<ú\u0018µÀ\tX\bñÕn¥¨;ú4´xÞqJ1%\u001e'T\n'\bF/p£çÑ\u000fèÛ^$xy+55u¬¹ö;èÇmjpp\u0010%å«ÀçFe°¾»ûWwÙ6·ÇãL¿÷^´\u0005\u000bè.Çáý\u0001ò¶Mq\u001b\u001e\u0007Ö{\u001e6`\u0001¦\u0011Déë+ðÜsÅâ#BÀul\\Ï»}Ì\\<á\u0000À.äóvG>Ïº»ïæ¦\\ëE~Ë5É0\\ÙÒÛ»óÃR¼çaåB@\u0013·¢4\u0014Me±lÙ2\u0012\u0004B\bÞn}ÞÞÃÃGÚÙÙãºku]ü_\u0011F£är¹B\u0018¿koogÇÎ´·µ©þlÖnó¼5+¾zÇÓ\u000býý3\u000e\u000e\u000eþa_Ok¡àíïï\u000f\u001f;r\u0004}È;óçÏgýúõÔ××ã7QÉ¶WþÎþ}ûä»»Þ\u000eûûú½õû×?¤\tÀ÷\bå°d)q²zÉd\u0016J)ë\u0000i\u0018F[GGG÷ôéÓ9xðà°Í'kÉÙ³§4F\"Öçs¹ÝsfÌHH)\u0011B0iÒ$\n\u0002J)t]§­­íÐåW\\sQ]fFûú×\u001e\u0001Ø¸ñþa\u001aV$38xïÃîº\"N§éêê\u001aùÆW[KOOÏDs\u001eN§Ó×$É\u0011õ\u0010îînÅâãÙlvõm·ÝÁ\rß\u001bs;î¸\u001fÁÿ\u0001Ll6K&É&É©µµµ\u001cõdgg'®ë¾ÚÙÙyî´iÓèèè8éLøbÑ¢EìÚµt:ýE]×¿®iZB)uDJù¼a\u0018[Â0¤³³ó©ü?¸Ëëf ´\u0000\u0000\u0000\u0000IEND®B`"}}},"includes":["lychee.app.Sprite"],"exports":"function(lychee, global, attachments) {\n\n\tconst _Sprite  = lychee.import('lychee.app.Sprite');\n\tconst _CONFIG  = attachments[\"json\"].buffer;\n\tconst _TEXTURE = attachments[\"png\"];\n\n\n\n\t/*\n\t * IMPLEMENTATION\n\t */\n\n\tconst Composite = function(data) {\n\n\t\tlet states = Object.assign({}, _CONFIG, data);\n\n\n\t\tthis.alive = true;\n\n\t\tthis.__canflap = true;\n\t\tthis.__timeout = null;\n\n\n\t\tstates.texture = _TEXTURE;\n\t\tstates.position = {\n\t\t\tx: 0,\n\t\t\ty: 0\n\t\t};\n\t\tstates.velocity = {\n\t\t\tx: 0,\n\t\t\ty: 0\n\t\t};\n\n\n\t\t_Sprite.call(this, states);\n\n\t\tstates = null;\n\n\t};\n\n\n\tComposite.prototype = {\n\n\t\t/*\n\t\t * ENTITY API\n\t\t */\n\n\t\t// deserialize: function(blob) {},\n\n\t\tserialize: function() {\n\n\t\t\tlet data = _Sprite.prototype.serialize.call(this);\n\t\t\tdata['constructor'] = 'game.app.sprite.Plane';\n\n\n\t\t\treturn data;\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * CUSTOM API\n\t\t */\n\n\t\tflap: function() {\n\n\t\t\tif (this.__canflap === true) {\n\n\t\t\t\tthis.velocity.y = -256;\n\n\t\t\t\tthis.__canflap  = false;\n\t\t\t\tthis.__timeout  = null;\n\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tupdate: function(clock, delta) {\n\n\t\t\tif (this.__timeout === null) {\n\t\t\t\tthis.__timeout = clock + 250;\n\t\t\t} else if (clock > this.__timeout) {\n\t\t\t\tthis.__canflap = true;\n\t\t\t}\n\n\t\t\tif (this.alive === true) {\n\n\t\t\t\t_Sprite.prototype.update.call(this, clock, delta);\n\n\t\t\t\tthis.velocity.y += (delta / 1000) * 256 * 3;\n\n\t\t\t} else {\n\n\t\t\t\tlet effects = this.effects;\n\t\t\t\tfor (let e = 0, el = effects.length; e < el; e++) {\n\n\t\t\t\t\tlet effect = effects[e];\n\t\t\t\t\tif (effect.update(this, clock, delta) === false) {\n\t\t\t\t\t\tthis.removeEffect(effect);\n\t\t\t\t\t\tel--;\n\t\t\t\t\t\te--;\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t},\n\n\t\trender: function(renderer, offsetX, offsetY) {\n\n\t\t\tif (this.alive === true) {\n\n\t\t\t\t_Sprite.prototype.render.call(this, renderer, offsetX, offsetY);\n\n\t\t\t} else {\n\n\t\t\t\tlet effects = this.effects;\n\t\t\t\tfor (let e = 0, el = effects.length; e < el; e++) {\n\t\t\t\t\teffects[e].render(renderer, offsetX, offsetY);\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\n\treturn Composite;\n\n}"}},"lychee.ui.sprite.Background":{"constructor":"lychee.Definition","arguments":[{"id":"lychee.ui.sprite.Background","url":"/libraries/lychee/source/ui/sprite/Background.js"}],"blob":{"attaches":{},"includes":["lychee.ui.Sprite"],"exports":"function(lychee, global, attachments) {\n\n\tconst _Sprite = lychee.import('lychee.ui.Sprite');\n\n\n\n\t/*\n\t * HELPERS\n\t */\n\n\tconst _render_buffer = function(renderer) {\n\n\t\tif (this.__buffer !== null) {\n\t\t\tthis.__buffer.resize(this.width, this.height);\n\t\t} else {\n\t\t\tthis.__buffer = renderer.createBuffer(this.width, this.height);\n\t\t}\n\n\n\t\trenderer.clear(this.__buffer);\n\t\trenderer.setBuffer(this.__buffer);\n\t\trenderer.setAlpha(1.0);\n\n\n\t\tlet color = this.color;\n\t\tif (color !== null) {\n\n\t\t\trenderer.drawBox(\n\t\t\t\t0,\n\t\t\t\t0,\n\t\t\t\tthis.width,\n\t\t\t\tthis.height,\n\t\t\t\tcolor,\n\t\t\t\ttrue\n\t\t\t);\n\n\t\t}\n\n\n\t\tlet texture = this.texture;\n\t\tlet map     = this.__map[this.state][this.frame] || null;\n\t\tif (texture !== null && map !== null) {\n\n\t\t\tif (map.w !== 0 && map.h !== 0 && (map.w <= this.width || map.h <= this.height)) {\n\n\t\t\t\tlet px = this.origin.x - map.w;\n\t\t\t\tlet py = this.origin.y - map.h;\n\n\n\t\t\t\twhile (px < this.width) {\n\n\t\t\t\t\tpy = this.origin.y - map.h;\n\n\t\t\t\t\twhile (py < this.height) {\n\n\t\t\t\t\t\trenderer.drawSprite(\n\t\t\t\t\t\t\tpx,\n\t\t\t\t\t\t\tpy,\n\t\t\t\t\t\t\ttexture,\n\t\t\t\t\t\t\tmap\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tpy += map.h;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tpx += map.w;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\trenderer.drawSprite(\n\t\t\t\t\t0,\n\t\t\t\t\t0,\n\t\t\t\t\ttexture,\n\t\t\t\t\tmap\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t}\n\n\n\t\trenderer.setBuffer(null);\n\t\tthis.__isDirty = false;\n\n\t};\n\n\n\n\t/*\n\t * IMPLEMENTATION\n\t */\n\n\tconst Composite = function(data) {\n\n\t\tlet states = Object.assign({}, data);\n\n\n\t\tthis.color  = null;\n\t\tthis.origin = { x: 0, y: 0 };\n\n\t\tthis.__buffer  = null;\n\t\tthis.__isDirty = true;\n\n\n\t\tthis.setColor(states.color);\n\n\n\t\tdelete states.color;\n\n\n\t\tstates.width  = typeof states.width === 'number'  ? states.width  : 512;\n\t\tstates.height = typeof states.height === 'number' ? states.height : 512;\n\t\tstates.shape  = lychee.ui.Entity.SHAPE.rectangle;\n\n\n\t\t_Sprite.call(this, states);\n\n\n\n\t\t/*\n\t\t * INITIALIZATION\n\t\t */\n\n\t\tthis.bind('reshape', function(orientation, rotation, width, height) {\n\n\t\t\tif (typeof width === 'number' && typeof height === 'number') {\n\n\t\t\t\tthis.width     = width;\n\t\t\t\tthis.height    = height;\n\t\t\t\tthis.__isDirty = true;\n\n\t\t\t}\n\n\t\t}, this);\n\n\n\t\tthis.setOrigin(states.origin);\n\n\t\tstates = null;\n\n\t};\n\n\n\tComposite.prototype = {\n\n\t\t/*\n\t\t * ENTITY API\n\t\t */\n\n\t\t// deserialize: function(blob) {},\n\n\t\tserialize: function() {\n\n\t\t\tlet data = _Sprite.prototype.serialize.call(this);\n\t\t\tdata['constructor'] = 'lychee.ui.sprite.Background';\n\n\t\t\tlet states = data['arguments'][0];\n\t\t\tlet blob   = (data['blob'] || {});\n\n\n\t\t\tif (this.color !== null) states.color = this.color;\n\n\n\t\t\tif (this.origin.x !== 0 || this.origin.y !== 0) {\n\n\t\t\t\tstates.origin = {};\n\n\t\t\t\tif (this.origin.x !== 0) states.origin.x = this.origin.x;\n\t\t\t\tif (this.origin.y !== 0) states.origin.y = this.origin.y;\n\n\t\t\t}\n\n\n\t\t\tdata['blob'] = Object.keys(blob).length > 0 ? blob : null;\n\n\n\t\t\treturn data;\n\n\t\t},\n\n\t\trender: function(renderer, offsetX, offsetY) {\n\n\t\t\tif (this.visible === false) return;\n\n\n\t\t\tlet alpha    = this.alpha;\n\t\t\tlet position = this.position;\n\t\t\tlet x        = position.x + offsetX;\n\t\t\tlet y        = position.y + offsetY;\n\t\t\tlet hwidth   = this.width  / 2;\n\t\t\tlet hheight  = this.height / 2;\n\n\n\t\t\tif (this.__isDirty === true) {\n\t\t\t\t_render_buffer.call(this, renderer);\n\t\t\t}\n\n\n\t\t\tif (alpha !== 1) {\n\t\t\t\trenderer.setAlpha(alpha);\n\t\t\t}\n\n\t\t\tif (this.__buffer !== null) {\n\n\t\t\t\trenderer.drawBuffer(\n\t\t\t\t\tx - hwidth,\n\t\t\t\t\ty - hheight,\n\t\t\t\t\tthis.__buffer\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t\tif (alpha !== 1) {\n\t\t\t\trenderer.setAlpha(1.0);\n\t\t\t}\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * CUSTOM API\n\t\t */\n\n\t\tsetColor: function(color) {\n\n\t\t\tcolor = /(#[AaBbCcDdEeFf0-9]{6})/g.test(color) ? color : null;\n\n\n\t\t\tif (color !== null) {\n\n\t\t\t\tthis.color     = color;\n\t\t\t\tthis.__isDirty = true;\n\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetOrigin: function(origin) {\n\n\t\t\torigin = origin instanceof Object ? origin : null;\n\n\n\t\t\tif (origin !== null) {\n\n\t\t\t\tthis.origin.x = typeof origin.x === 'number' ? origin.x : this.origin.x;\n\t\t\t\tthis.origin.y = typeof origin.y === 'number' ? origin.y : this.origin.y;\n\n\n\t\t\t\tlet map = this.__map[this.state][this.frame] || null;\n\t\t\t\tif (map !== null) {\n\t\t\t\t\tthis.origin.x %= map.w;\n\t\t\t\t\tthis.origin.y %= map.h;\n\t\t\t\t}\n\n\t\t\t\tthis.__isDirty = true;\n\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t}\n\n\t};\n\n\n\treturn Composite;\n\n}"}},"lychee.net.client.Stash":{"constructor":"lychee.Definition","arguments":[{"id":"lychee.net.client.Stash","url":"/libraries/lychee/source/net/client/Stash.js"}],"blob":{"attaches":{},"includes":["lychee.net.Service"],"exports":"function(lychee, global, attachments) {\n\n\tconst _Service = lychee.import('lychee.net.Service');\n\n\n\n\t/*\n\t * IMPLEMENTATION\n\t */\n\n\tconst Composite = function(client) {\n\n\t\t_Service.call(this, 'stash', client, _Service.TYPE.client);\n\n\t};\n\n\n\tComposite.prototype = {\n\n\t\t/*\n\t\t * ENTITY API\n\t\t */\n\n\t\t// deserialize: function(blob) {},\n\n\t\tserialize: function() {\n\n\t\t\tlet data = _Service.prototype.serialize.call(this);\n\t\t\tdata['constructor'] = 'lychee.net.client.Stash';\n\t\t\tdata['arguments']   = [ data['arguments'][1] ];\n\n\n\t\t\treturn data;\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * CUSTOM API\n\t\t */\n\n\t\tsync: function(assets) {\n\n\t\t\tassets = assets instanceof Object ? assets : null;\n\n\n\t\t\tif (assets !== null && this.tunnel !== null) {\n\n\t\t\t\tlet data = {};\n\n\t\t\t\tfor (let id in assets) {\n\t\t\t\t\tdata[id] = lychee.serialize(assets[id]);\n\t\t\t\t}\n\n\n\t\t\t\tthis.tunnel.send({\n\t\t\t\t\ttimestamp: Date.now(),\n\t\t\t\t\tassets:    data\n\t\t\t\t}, {\n\t\t\t\t\tid:    'stash',\n\t\t\t\t\tevent: 'sync'\n\t\t\t\t});\n\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t}\n\n\t};\n\n\n\treturn Composite;\n\n}"}},"lychee.net.client.Debugger":{"constructor":"lychee.Definition","arguments":[{"id":"lychee.net.client.Debugger","url":"/libraries/lychee/source/net/client/Debugger.js"}],"blob":{"attaches":{},"includes":["lychee.net.Service"],"exports":"function(lychee, global, attachments) {\n\n\tconst _Service = lychee.import('lychee.net.Service');\n\n\n\n\t/*\n\t * HELPERS\n\t */\n\n\tconst _resolve_reference = function(identifier) {\n\n\t\tlet pointer = this;\n\n\t\tlet ns = identifier.split('.');\n\t\tfor (let n = 0, l = ns.length; n < l; n++) {\n\n\t\t\tlet name = ns[n];\n\n\t\t\tif (pointer[name] !== undefined) {\n\t\t\t\tpointer = pointer[name];\n\t\t\t} else {\n\t\t\t\tpointer = null;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t}\n\n\t\treturn pointer;\n\n\t};\n\n\n\n\t/*\n\t * IMPLEMENTATION\n\t */\n\n\tconst Composite = function(client) {\n\n\t\t_Service.call(this, 'debugger', client, _Service.TYPE.client);\n\n\n\n\t\t/*\n\t\t * INITIALIZATION\n\t\t */\n\n\t\tthis.bind('define', function(data) {\n\n\t\t\tif (typeof data.construtor === 'string' || typeof data.reference === 'string') {\n\n\t\t\t\tlet environment = (lychee.environment !== null ? lychee.environment        : null);\n\t\t\t\tlet value       = false;\n\t\t\t\tlet definition  = lychee.deserialize(data);\n\n\t\t\t\tif (environment !== null) {\n\t\t\t\t\tvalue = environment.define(definition);\n\t\t\t\t}\n\n\n\t\t\t\tif (this.tunnel !== null) {\n\n\t\t\t\t\tthis.tunnel.send({\n\t\t\t\t\t\ttid:   data.receiver,\n\t\t\t\t\t\tvalue: value === true\n\t\t\t\t\t}, {\n\t\t\t\t\t\tid:    'debugger',\n\t\t\t\t\t\tevent: 'define-value'\n\t\t\t\t\t});\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}, this);\n\n\t\tthis.bind('execute', function(data) {\n\n\t\t\tif (typeof data.reference === 'string') {\n\n\t\t\t\tlet scope    = (lychee.environment !== null ? lychee.environment.global : global);\n\t\t\t\tlet value    = null;\n\t\t\t\tlet instance = _resolve_reference.call(scope, data.reference);\n\t\t\t\tlet bindargs = Array.from(data.arguments).map(function(value) {\n\n\t\t\t\t\tif (typeof value === 'string' && value.charAt(0) === '#') {\n\n\t\t\t\t\t\tif (lychee.debug === true) {\n\t\t\t\t\t\t\tconsole.log('lychee.net.client.Debugger: Injecting \"' + value + '\" from global');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlet resolved_injection = _resolve_reference.call(scope, value.substr(1));\n\t\t\t\t\t\tif (resolved_injection !== null) {\n\t\t\t\t\t\t\tvalue = null;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\treturn value;\n\n\t\t\t\t});\n\n\n\t\t\t\tif (typeof instance === 'object') {\n\n\t\t\t\t\tvalue = lychee.serialize(instance);\n\n\t\t\t\t} else if (typeof resolved === 'function') {\n\n\t\t\t\t\tvalue = instance(bindargs);\n\n\t\t\t\t}\n\n\n\t\t\t\tif (value === undefined) {\n\t\t\t\t\tvalue = null;\n\t\t\t\t}\n\n\n\t\t\t\tif (this.tunnel !== null) {\n\n\t\t\t\t\tthis.tunnel.send({\n\t\t\t\t\t\ttid:   data.receiver,\n\t\t\t\t\t\tvalue: value\n\t\t\t\t\t}, {\n\t\t\t\t\t\tid:    'debugger',\n\t\t\t\t\t\tevent: 'execute-value'\n\t\t\t\t\t});\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}, this);\n\n\t\tthis.bind('expose', function(data) {\n\n\t\t\tif (typeof data.reference === 'string') {\n\n\t\t\t\tlet scope       = (lychee.environment !== null ? lychee.environment.global : global);\n\t\t\t\tlet environment = _resolve_reference.call(scope, data.reference);\n\t\t\t\tlet value       = lychee.Debugger.expose(environment);\n\n\t\t\t\tif (this.tunnel !== null) {\n\n\t\t\t\t\tthis.tunnel.send({\n\t\t\t\t\t\ttid:   data.receiver,\n\t\t\t\t\t\tvalue: value\n\t\t\t\t\t}, {\n\t\t\t\t\t\tid:    'debugger',\n\t\t\t\t\t\tevent: 'expose-value'\n\t\t\t\t\t});\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}, this);\n\n\t\tthis.bind('snapshot', function(data) {\n\n\t\t\tif (typeof data.reference === 'string') {\n\n\t\t\t\tlet scope    = (lychee.environment !== null ? lychee.environment.global : global);\n\t\t\t\tlet instance = _resolve_reference.call(scope, data.reference);\n\t\t\t\tlet value    = lychee.serialize(instance);\n\n\t\t\t\tif (this.tunnel !== null) {\n\n\t\t\t\t\tthis.tunnel.send({\n\t\t\t\t\t\ttid:   data.receiver,\n\t\t\t\t\t\tvalue: value\n\t\t\t\t\t}, {\n\t\t\t\t\t\tid:    'debugger',\n\t\t\t\t\t\tevent: 'snapshot-value'\n\t\t\t\t\t});\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}, this);\n\n\t};\n\n\n\tComposite.prototype = {\n\n\t\t/*\n\t\t * ENTITY API\n\t\t */\n\n\t\t// deserialize: function(blob) {},\n\n\t\tserialize: function() {\n\n\t\t\tlet data = _Service.prototype.serialize.call(this);\n\t\t\tdata['constructor'] = 'lychee.net.client.Debugger';\n\t\t\tdata['arguments']   = [ data['arguments'][1] ];\n\n\n\n\t\t\treturn data;\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * DEBUGGER API\n\t\t */\n\n\t\treport: function(message, blob) {\n\n\t\t\tmessage = typeof message === 'string' ? message : null;\n\t\t\tblob    = blob instanceof Object      ? blob    : null;\n\n\n\t\t\tif (message !== null) {\n\n\t\t\t\tlet tunnel = this.tunnel;\n\t\t\t\tif (tunnel !== null) {\n\n\t\t\t\t\ttunnel.send({\n\t\t\t\t\t\tmessage: message,\n\t\t\t\t\t\tblob:    blob\n\t\t\t\t\t}, {\n\t\t\t\t\t\tid:    this.id,\n\t\t\t\t\t\tevent: 'error'\n\t\t\t\t\t});\n\n\t\t\t\t\treturn true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * CUSTOM API\n\t\t */\n\n\t\tdefine: function(tid, data) {\n\n\t\t\ttid  = typeof tid === 'string' ? tid  : null;\n\t\t\tdata = data instanceof Object  ? data : null;\n\n\n\t\t\tif (data !== null && this.tunnel !== null) {\n\n\t\t\t\tthis.tunnel.send({\n\t\t\t\t\ttid:         tid,\n\t\t\t\t\tconstructor: data.constructor || null,\n\t\t\t\t\treference:   data.reference   || null,\n\t\t\t\t\targuments:   data.arguments   || null\n\t\t\t\t}, {\n\t\t\t\t\tid:    'debugger',\n\t\t\t\t\tevent: 'define'\n\t\t\t\t});\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\texecute: function(tid, data) {\n\n\t\t\ttid  = typeof tid === 'string' ? tid  : null;\n\t\t\tdata = data instanceof Object  ? data : null;\n\n\n\t\t\tif (data !== null && this.tunnel !== null) {\n\n\t\t\t\tthis.tunnel.send({\n\t\t\t\t\ttid:       tid,\n\t\t\t\t\treference: data.reference || null,\n\t\t\t\t\targuments: data.arguments || null\n\t\t\t\t}, {\n\t\t\t\t\tid:    'debugger',\n\t\t\t\t\tevent: 'execute'\n\t\t\t\t});\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\texpose: function(tid, data) {\n\n\t\t\ttid  = typeof tid === 'string' ? tid  : null;\n\t\t\tdata = data instanceof Object  ? data : null;\n\n\n\t\t\tif (this.tunnel !== null) {\n\n\t\t\t\tthis.tunnel.send({\n\t\t\t\t\ttid:       tid,\n\t\t\t\t\treference: data.reference || null\n\t\t\t\t}, {\n\t\t\t\t\tid:    'debugger',\n\t\t\t\t\tevent: 'expose'\n\t\t\t\t});\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsnapshot: function(tid, data) {\n\n\t\t\ttid  = typeof tid === 'string' ? tid  : null;\n\t\t\tdata = data instanceof Object  ? data : null;\n\n\n\t\t\tif (this.tunnel !== null) {\n\n\t\t\t\tthis.tunnel.send({\n\t\t\t\t\ttid:       tid,\n\t\t\t\t\treference: data.reference || null\n\t\t\t\t}, {\n\t\t\t\t\tid:    'debugger',\n\t\t\t\t\tevent: 'snapshot'\n\t\t\t\t});\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t}\n\n\t};\n\n\n\treturn Composite;\n\n}"}},"lychee.net.client.Storage":{"constructor":"lychee.Definition","arguments":[{"id":"lychee.net.client.Storage","url":"/libraries/lychee/source/net/client/Storage.js"}],"blob":{"attaches":{},"includes":["lychee.net.Service"],"exports":"function(lychee, global, attachments) {\n\n\tconst _Service = lychee.import('lychee.net.Service');\n\n\n\n\t/*\n\t * IMPLEMENTATION\n\t */\n\n\tconst Composite = function(client) {\n\n\t\t_Service.call(this, 'storage', client, _Service.TYPE.client);\n\n\t};\n\n\n\tComposite.prototype = {\n\n\t\t/*\n\t\t * ENTITY API\n\t\t */\n\n\t\t// deserialize: function(blob) {},\n\n\t\tserialize: function() {\n\n\t\t\tlet data = _Service.prototype.serialize.call(this);\n\t\t\tdata['constructor'] = 'lychee.net.client.Storage';\n\t\t\tdata['arguments']   = [ data['arguments'][1] ];\n\n\n\t\t\treturn data;\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * CUSTOM API\n\t\t */\n\n\t\tsync: function(objects) {\n\n\t\t\tobjects = objects instanceof Array ? objects : null;\n\n\n\t\t\tif (objects !== null && this.tunnel !== null) {\n\n\t\t\t\tthis.tunnel.send({\n\t\t\t\t\ttimestamp: Date.now(),\n\t\t\t\t\tobjects:   objects\n\t\t\t\t}, {\n\t\t\t\t\tid:    'storage',\n\t\t\t\t\tevent: 'sync'\n\t\t\t\t});\n\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t}\n\n\t};\n\n\n\treturn Composite;\n\n}"}},"lychee.net.Remote":{"constructor":"lychee.Definition","arguments":[{"id":"lychee.net.Remote","url":"/libraries/lychee/source/net/Remote.js"}],"blob":{"attaches":{},"requires":["lychee.net.remote.Debugger","lychee.net.remote.Stash","lychee.net.remote.Storage"],"includes":["lychee.net.Tunnel"],"exports":"function(lychee, global, attachments) {\n\n\tconst _Debugger = lychee.import('lychee.net.remote.Debugger');\n\tconst _Stash    = lychee.import('lychee.net.remote.Stash');\n\tconst _Storage  = lychee.import('lychee.net.remote.Storage');\n\tconst _Tunnel   = lychee.import('lychee.net.Tunnel');\n\n\n\n\t/*\n\t * IMPLEMENTATION\n\t */\n\n\tconst Composite = function(data) {\n\n\t\tlet states = Object.assign({}, data);\n\n\n\t\t_Tunnel.call(this, states);\n\n\t\tstates = null;\n\n\n\n\t\t/*\n\t\t * INITIALIZATION\n\t\t */\n\n\t\tif (lychee.debug === true) {\n\n\t\t\tthis.bind('connect', function() {\n\t\t\t\tthis.addService(new _Debugger(this));\n\t\t\t}, this);\n\n\t\t}\n\n\n\t\tthis.bind('connect', function() {\n\n\t\t\tthis.addService(new _Stash(this));\n\t\t\tthis.addService(new _Storage(this));\n\n\t\t}, this);\n\n\t};\n\n\n\tComposite.prototype = {\n\n\t\t/*\n\t\t * ENTITY API\n\t\t */\n\n\t\t// deserialize: function(blob) {},\n\n\t\tserialize: function() {\n\n\t\t\tlet data = _Tunnel.prototype.serialize.call(this);\n\t\t\tdata['constructor'] = 'lychee.net.Remote';\n\n\n\t\t\treturn data;\n\n\t\t}\n\n\t};\n\n\n\treturn Composite;\n\n}"}},"lychee.ui.entity.Label":{"constructor":"lychee.Definition","arguments":[{"id":"lychee.ui.entity.Label","url":"/libraries/lychee/source/ui/entity/Label.js"}],"blob":{"attaches":{"fnt":{"constructor":"Font","arguments":["/libraries/lychee/source/ui/entity/Label.fnt"],"blob":{"buffer":"data:application/json;base64,ewoJInRleHR1cmUiOiAiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUJOWUFBQUFTQ0FZQUFBQ1hRMU1PQUFBZ0FFbEVRVlI0WHUzZEIveGtTVlV2Y05jY01LQmlGbmNWREpnSVpoRm1RY0dFQ1ZCTU9DZ0lCa1FscUlBNml3RkJFWkFnS3VJZzZEUGpVekNIV1VIRWhJZ1BBVUVkZUVZTTRETWc3ejFZZjkrbWJ0dmR0NnJ1N1o3Ly9HZDI5dGJuVTUvdXZwWFByWERPNzV4VGZka2JMR0dod0VLQmhRSUxCUllLTEJSWUtMQlFZS0hBUW9HRkFnc0ZGZ29zRkZnb3NGQmdvY0JDZ2IwcGNObmVKWllDQ3dVV0Npd1VXQ2l3VUdDaHdFS0JoUUlMQlJZS0xCUllLRENpd0RYWFhQTkdlZmpiaWQ5LzJXV1hQV2toMFVLQmhRSUxCUllLWFBvVXVHU0F0UnhpWDV2WDlhZ2NZSys3OUYvYk1zS0ZBZ3NGRmdvc0ZGZ29zRkJnb2NCQ2dZVUNDd1V1UmdwRUxubmY5T3NaaVI4YTJlUS9Mc1krTG4xYUtMQlFZS0hBcFVTQnN1OStXUGJjSDcwUTQ3cVVnTFcvQ2dFdkR5SC8vNFVnNUZHMW1RbnhJYW5yS1lrMzJ3VUprM2J6UEtmNXV2a0NJQjRWeFpkNkZnb3NGRmdvc0ZCZ29jQkNnWVVDQ3dVV0Npd1VXQ2l3VUdDaHdFS0JheXNGZ3BWOGF2cCtyK0FrUG84OTdBMnNwY1B2a1Y3Kzc4UTNhb0U3eVFQa2V2L0V2MHFldDVzenFwVDVrZVI3V3ZML2xQeWxEbHFlZitxVlQ3NjdKdjIraVFDcFZ5WCtXdUkzcHR5TGF1V1MvN1B5L05zUzN6VHhwNUx2NjRaOFNmUHN0eElmbHVkUGE3V2JmSGRMMm4wU3IwalV2eHNuLzJ1bnhqblFKWG4vclZQM3p5YnRSNUxuSnh2OWwvNmpTZitKR2UwOU0zbStQWGwvY1NydnRUVTlOTDFmK3Y0ZUdlTlhkMmo2N2tsN2RPTHRFODM1WDAyOGQ4cVlwODJRdW0rVXhOOUkvT0hrZmZCRVh2V2FFL2RJdkR6eGJDSUx5aCtZS1BmMHBOOXlKODliNXZkelUvYWo1cnlYOVBQVGtzKzgrT1NVK2FVT0hkNG5hUzlKM05XY2ZrbksvZmhFUDIrZDlHOU0vTWhFYy8yM1UrWlRhbVhTbnkvTTg4ZFUwdDQ0ei80MTVkNjEwOGNUU2JzcTBYcit2NG5QU3Z6NmxOSHZha2g3YVA4VkpkNHduOWIrdDZRTW1peWhVQ0IwZXNkOC9ZNUVoODFiSmY1QjRnTkNwOTgvTGlLbEQ5N05YNmJOVDVwcU0zbS9JSGxPSi81bnljc2ErYzhUSHpoM1Qwc2RINXo4em9mYkpyNVQ0ajhrR3U4UHBnNXJyeG9xYlY5VHl0b1BIcDJ5ZjlMcmY2WDhrUDAvVTlaN21OdnVrTzl4bTJkVnJYRGEvSUF5MXR2bDg1MFQvem54dVluTzFoL3JLV05LZjA4bXo4YzM2bmF1UGpYcHB4dnAzbFd6L0dhWnRQV1ArZjNtaVcrb2o2a1RUOUdqeDZqZTFQSERLZkM2bEQxNXJ2M1o2WnQ5NXVkU3J6bXpGZEttL3Y1WjRrOGsvWUVUZlg1czBtK2FmR2NyOWRpWGZpMXA4blJEMm55L1pOQVg3OVMrK2NwRTU3bzVhRytjS3IrN2h1VFhwMGVtL0EvT0tIK1QwdjRuNU5PY09wZjJyU0hoYnhOL0lPMS9aNi85c3E5L1pmSjhXU0plNnhXSi96UFIzbTRkYjRYa2YzRWVPT3VINEJ4OVRlSW1iM2FuMmhtWnN0K2FmTytTdEx2WCtwUjBmWC9YcFA5ZHBkMG41cGx6N1dzYVpmRzBmNXIwYjlwTVQ1WE9WT3R5Nnp6TWMydndseE52a0RScmVCWHkvRzN5Z2QrOElzKzNlSmVTWm0rOVQ5TFd2R09ldjFtZS9hOUV2TWpqS24wM3R6NDM4U04yOTRlVU5UL2VKTS94MktPUWRQeDJMVGhiL2tlbm5MMzR4eEpmbkR5N3ZJOXhPaHZ1bjdUYk5PcGZQMDdlejhnUHZNWkxrLy9LR2ZtNVoxcmo5MDMrSm84L1ZjL0ZrcDd4MjB0K0tXTjV3b1hxVS9yZ2ZMN1I3cHc4MS82azNqdW1qb2NtWGo5MTMrQmM2OXNzZnlqZFVnNS8vZlRXM3AxMFBJWDNVZDNiRDJrM1plenoxdTlLTmw3Q1FvSHJNZ1d5SHQ3ZStaTG9iS3FlRWNuVEJkYVNUazUvUU9KWHBZNGp4MGNPQWRiZUxaMzU2OFEzVEljR1JtbnJQYWZUaHdCckwwZ2xuNUU2WDVMeUJBL0FBaUc1R1pMdmk4ckdlektmTmg4TWltZC9rYktuZHdzbVArRHNaWWtzdnpEM0NQcWR5WXVKY2FBN25GNlYzMS9mYWpSNWdCaXN4ajRuOFRmbDIyVklPbVZYZEVuK0tyQ1d1dDhsNmM5TGZNL2srWCsxZXBMbkRubitsVWtIRW8xQ0dlUEhsYjRaSHhEeFR4Tlo4eEdrTDZtUThmNWVCdlRWR2R1ekcvUjRpenpIV1A1QzRpTVNnVXFZeWM5T3ZFbkt2YnBSamtCRG1QeVh4SjlOdmlsZzdmdVQ3d01UQVgyRXI0OUpORSsrSVdVeDNyTkN4b001L043RVQwazVJRUkzSkQrQnc5eTNGdStlTWoxZzdVVHlQQ1o1Z0EyelE5cTRVeklid3pjbllrYlI4TDFTengvT3JrUUhYeThNLzEzSzJkQkdJZWtmbElmZTQ1Y25FcUFJUnZkUDFQNEhwdHkvTjhvQng0RjVoQ0w3eUNjbmVoL1dDZXZQSmJ5ZS90Zkx4NzBUQ1Y0RXRDOUpmRkRpQjRWTzl2VHpHdEwrUjZlQnB5YmEzejhnYmY1TnI4SGszd0pyOHR0NVpkL1RmNExnQ3lmS096eS9xMFFITVlXUXRoM0c1c3hEVWtkVlFiSGJ0bmJ5N0wzeW9VL21wQVBaZks2R1d2azV4RDJIY3M0OXlnTjdIS0gxNVdXc0owcC9UNlcvVGFCNXF0MmtIeG13TnRBaGRWSWNVRzd0QmF5bEhHSGNXTXloRWNCUzN0VnNvRy96dmFSdVlJRzk5SXJVdlFVY0pJMmdoN2FuazJadTlkNDlFTU5lZEt2azNiS2lUejJ6Z0xYQzM2akhlVUJCZzNjQkRnTVRLRG1lMU9OVmFuUkluY0JCeWhFdUV0L1dPNXVTOTR1VDUzc1NBUmRBRnVzSHVQYnBoN1pmK25TTGZGckQzNXIybTNkUHBYMUExT2NsM2l2eGp4UGZPNUVDQldoRE9kWU5LUTlvY2dhWXUxTjV6d1ZZYzlaN3ArKyt5N2VsRDRRQSs1enphK3M4TDd3YTRPekROL2V5UEFjNE9nTy9PTS9YQ3E4OFIvZnZ5RE1BK2lnay9jNTUrTWpFTlkrWlo2ZnkreE1UUHlibFJ0ZWtKSjJ5QzgvNTJLU3Z3Wm15TnZHUDZ2cjdLZm9ONlNsM3MzeW5mUGpZbE1OMzF2cXBQM2cybjdYME44bEQ1OUVIejJrN2JYNVk4ajRoZVgxMlEvTGkyeWxBcjBuK2o1M0tmN0dubDcza2tnUFdNaTc3M0VzVFB6M3ZhU1ZuSFdVNGxHNHBoNGZCdy81bFkrNDYwLzYrazc0M0VKbzJGMkR0S0YvK2VhaXI4RTkzeVh1L0lCWlM1MkZJRjIyVm9UVWU5eTFEYXdxM2FraWVTWXUxNU1FSC9Wd2l3NXdxM25Jb0VRNEIxb0JYZjVPT05NdW13OStkUE4rUVNDdUtRZWlHNUtlOWRualRUTHd1djJuc2FONkFTTTJRZkZjbmtYVVhJWG95SkQ5dEZlWVVPSVpKZFBmQjE2YjhzNUpHSzNjeThSUHl1Mmw5bG53WU1DQVZ4bjJ2TU5BbFpXbFJSeUhwMnI5ZDBqR1QxVkNZTVVJeGJlWmd5YkhPbTNUTUp6QUJBQXBJcEdHbDdTRU1iR2xNTzIzOGJ2S2FkQmQxeUZpQlNtZksrMmlCdkJqeHUrMHlYU25MYWdWTlJscGNnMDc2NytTRDFzbEJDbXlkQXRadWxYeC9rSHhyYTdEVW9lM1BtOHZBSlQrQmtRRDFxU2t6QjFTampYWTVMdERybm9sQXZCNndCbnl5K1ZjdHpXb3ZPMzJ5M2dtSW41OXlCeVA3cVFlWWgwRjRuOVFEMUI2RjVMRm5zUExBL0s1RG5nT2swWkUxYWEyYzlZQm0zdGtxcEl3MS9rT0poSjNST3FuVmMxMThGanF4YUhwRWFNU3FxUm1TNzYyVHlIcUV4ZTk3SnRvanpRdEE3Yy9Qb1YzcStMN2tBMlN6bkh4V3lqMXNvczBxT0pKNnRQZnJLZitvVnZua3NSN3Q3N2RPUG1QY0Nra252TDNXZVZPcm96QktWUXVzamJvL011VmJ3dU9od003ZTVkSWZleFRsMEpYcHp3anNkdTcxempUajc0MjNwRjhVd0ZvNXc3MVA4NjZwc0pnYVQrT2RteE9zWk0yYlorN096OVQ1bkR4bk5jVlNEcmhWRGFWdFp6Z0xvek83WjBmU0o0RzE1Q0gwby9uSHA3dzlmbmYrQWlQMWgvV1dkZFhyUzgzaUR3Z0RiS1VNR29WeUZnR3Z6Q250dE5vSGpqV3RaVnJ2SWMrQkczaWQ1bG1VUE1EaEwwcWVnd1RybEQ4V1lBMWhTbHRmbDc1U0NLMURudHN6V2NtZGFORFptZnJ6U1gvOGtKNHl6ODkzWjltYjVqbnZpRlhJY3dDbnVZZDIxWkE4RklndlRKNzc1anVMK3o5S0JIS3BzMVdHNWR4UEo3NWY4djFUeWdGZjhVZFB6bS9BNnF5UWNpdEwrOFRIOThvbFh4ZFlLMk8xdHY4bzlWVDVzODBPcGI1OWdMWGZUVm04a3JNRHY3VG1HV1lOOGlMTFZQYVNTeEZZWTZINzBMd2ZJUHlSaHd0RnQwUGFUWmtGV0R2eUdmRDZDa1BiVExHNmdkQStUWlp6YmdIVzlpSGFnWGxEYS93QXZvY0NweHFTWnhKWUsrOGZIb1RIK1lzRHUxTXRkZ2l3Um1QNXQrbUl3L2VjUWdiUHdvUjFtQU1aRXpxWTJiOUR2dFB5c2hiNnc3UzFKV2dQamFZOEFlc2xTZmZIQmJOQ3lyRG1BbzY5YmVJVFUvYXhlWGJUZkdlNWNNdjh4amczUS9KK2VCSzFTd0Q2cmVUSGlGdWdwL1BCSEYzZEI0WENPTEcybzNYczlZR1ZGbGRHVEVJMXBDN2dwREZ4ajhCWXpmNVRoNVRscmdUc3ZLaEQrbW51QUJoSGJqdER4NU1Iby90N3ljTnlieDN5bktVT3F4ZGE0RkZJK3BzbDdUWDVCSzVOQW11Tk9rN21PYzJzK2RVTmFRZVF5U3JnMCtZdThwVEJqRjh2K2UrYTc3VE9YQ1o3d0pveFErZWJTUDl1Snd1ZGdCTVluWU5ENnNHNHZ5ajE2RU0xSkE4cndsUGx2YXlzT2d1VGIwM2EvRWJ1ZDBubmFzNDk2YTJTdnVYaW1qU2I1ajFiTkVrNkJwOVpQNjE5cTA4MGtKanZ0MDYrcGd0M2hXNWNwd2hBZHpTUERpWmN1MTgwTFlRUC9aKzl0amVyeS9pdGNaclh1NmFPcGdWSThnRkY3WG1FUU91QndBckk1cTVMcUg1d3luZXRRa3BiWE1CWUU3clEyVnl0V2w0TWZTek1TZzBVTU1kL01lVlphTFhlMjY4bjRUY1AzWTliYlcvMHpWcTFUd0xQUjJHcWZLZmZod0JyNk1FMSsxdGE5VTQ5bitwdjBpOFdZSTNMUHd2V2o4dDRxOG9VWTUwYVQrT2RVVVpSdUxGb1pPRklnVGFjNy9nRzRETnJXMmR2MDlxbHRNMkNrRklSUU1FUy84ekczSmtEckptL3owNDVsbW5Wa0hhY1haU0tsQWRiVm5FYmJiWEFhV3RYL2F4WVJ5RjFZMXF2VGpxMy9GNzdGRUh2ZGtEN3JENC9LdVZZQWJicUI5enpLRGpkeXRON25qRWNKN0NHRjhGUFVEeXNRL3JnL2JNR2UzS0R6bmdYZEFCMG1yZm1vSE9Pa28zeXdPOVZLT1Bod2dqNGJkR01zaEV2QUd5bnVIaEI4amM5TURicU5yZi9MWG52bVhid0I4Q25XK1QzNUJVbkczWGdSNEI1dDU5WW0zT0FOZWVuY3dYbzF3M3A3eXhnTGZuVWRWWHFQSkh2Z1BFdjdNMi9xWGFQT3IzMHovNkNGeVNiNFR0WVhKN3R2Rzk3aWJYS21wcWNkUDFFcnVMMnFPYjFHZW9yN1ZFWWYwU2k5MHllUUo4UmtMN3hqc2xhck43SmFPWXA5MmNHRHE3RDJYSlAzdXh6MnVMZTYzemlxbTFQUGUxM2JkOUlYandDYTNES1BCYkorRWJ5ekNna0wyT0poeVFDb01tUSttVFB3aC8wakQ5V2xtT0pMQ1B0c1Z6ZVdaWUNXL0dxMVpEMnVoWm4rNlluUHdXd2RjTnFGWDlVRzJNWFdDdHRja0dsUVBZK0tWMjhTNHAwY2pwd25QdjEvMGxrN01Md3BUYytkVkZXcXd1UDVyMTI2YUt5OUlPM2pTc1N6Q2M4cWZuTEs2QTNuOUFUYjRuSHRBZmk1K2ZPMzJFdU1oeWhPUEFiajhyU3RUb1hOMmhsWC8wcU1YbEhGOXduSHprZitNNkxCdDlQbHFZNFdmRURteUY1ZVg2d011WWRoVzc0VHJRZmhlVGxOVWFodFhVTlNaNDd2OGxtdGFzR1dLei9lOUo0UTYxRHlsQzRmVitlYjNsTzVEbUxyamZQOHpWdm1tY1VXTnJFMDVDTFZpSFBlUWlwWSt0OHluUGVjOWJTblpOMnB1UTFUdWMyNDRjdFk0WGs1NG5DVW5OTEZzOXppcEUzem5QbnlXYmZLZWQzcjZDaDJHVGhUZDZzR2xHVWZwaFA1T3JldkpvTHJPRVJLTDU0dFIxWk9BUllZNklMV0xPaEhVa0k4VzJLbUpLVndGOWVFaTNlMUwxUEJEUXZIUlBxTHJHdWExQ3RzMm5MUVdSeTNhMzNvblltQlRjaWR4Vmg3RzFXQW5EUTRmU2ExR056MkR1a0wzem91Y1p3TjJtRzVBTVdjUVBaMG80T0JaTHVIZGxZM1oxaE1XS3V1UEhOQ2lsL2JRSFdhRWUvTEdQckFZeGNTR2pWMS9lT0lFTEdlSmQ4T0N3K2RJTFdCd0ZycWQ5OE1LL2NoL2Z3S2NJbnY0UGg4a1JNOGNOM045N2Q4c252M1pxSEg1MjhyODd2T2NBYUVPUkVJb2JGQm1ZenNXNTY5d25hdkJ4V0Rtc1dwQTVxeis2WGNseGVKMFA2Um9qRGZMMTN5Z0RCbWlGNU1SbEFQQUMxZFVBd2RBY2NRYUVhVWthZG1IbUE4enJrT1dzaTJ2UFdmUmZXS1JlZGtVWElVRW5xUUN0emhCRGFCYkRLTzNlZ09yQlo1UkdvdHViZFR2KzRFUDFNaHh6R1pQNk9RamtvdGNOQzFmaCtLSG1IdmFoVDVldVRVdDcremJLVm9vUlZUTXZpMC81b25tQXFucHB5QkQ2TUtNYkVmc2UxOGhlUzlxVzlSc3Q4TmRldXlIY01NQXZsRXhOcmR3c1VTRG5uMWVDSzcvN05GdlBFVWhmSTZ0MVNMT3dkMGxZWDRFbzZFTmord2ZWcEZLYkt0enEwYjdua3g0eHdrZjZROUFXVGNGQ1lhamZwRnh4WVN4OHdlK2JpbFJucm5EdnVadDM1TmhBczlWdm43ajY3UWI0VFp0ekR4K3JWZWdGazR6UHNzKzRIdzN0VXd5WXQ4eDNBUnFtenZpODJ6N3JBV3RJQjNwaDVGa1JOeStYa3N4ZFRQbHEvMVRPdzlWN3puRVVkY052ZXZCVTIyaWNzVjEyZUNrMkc5bG41VjVuYzNmWkxueWtyN0l1dUxtaGFRU2V2Y3dEZzQweGdvVmkxZE82OGgrTUUxdXlITDAyODRkRFA5SjgxSUxxNHU2MTFqY0ZxemlXK2t6MDRBUy9zcnRRNzV6dmFjNFY3ZnI0N2Y4MkZ0Mi9WTmRBaGVRRnBQRERNSTN0ZzlicUxUYnFsRE10MDV5VUJ6UHo4ekpScm5vdVZPUU1NY1o3WWg3clhDcVN0T2NDYTgwazkvcWhyNnNxQXVjQWFBUjdmL0xReUQ4MFB0UGJlTG5oSW45RFFPVXlvSkdqek1IRkc5a0I4N3dwdlJJQUZvS0NiY3M1SmJyd3Q3eGlBTmt0WGdyQTZ0T2ZkK3llOTFsVWRsS0xtNStjbjRyWFFuWUxwL1JQeGRxM3plT1Uxa2dqSWZHSEdpYWN3VjFoV0V0UkhJWGtBbjNoTS9FWXpKQjhRelZqeFhjNTZmVEl1NE1vVXNJWldGQXRrSkxLamVpZ0tYTVh6cWthL2pneFlTOStkSVVBa2E3d0hFc3dCMW5pdkFEdUFudmhoWUl6MUQrais5a1J6SDJBTFRHUnBYejAveTlsa1g4ZjM3a01YOGhRK2RKaFA2c0Fqa1pPL0lPMVZsUUdsUFNDV2Q3YlAvRzNOeFJ1bm5pYklXOW96TnRiUXZOV3E4a2p5MlhQc28rWXBIdmV6a3JkbkdYNHllUUEwWFZmUTFIc0lzSVkrUUxHMXkyTHFNVTdBRktYV3JrRUJZTk04bFg4bHN5VC82WHdBcHdHcmdEZlBnTnoyUHVjVFBtSXJKTjA3QlliakVSZ2ltVE04ZzBhOFJ2SmFkNytTU01tM09tL3l6RjJiNk1oZ2FZcGZzMWJKUXU0cXJkN3BPWFF1OWVxejk5R3p3cDRMckxIbzVoM1pCUEoyNlRMbjl5SEFta2tHV01QUUgwa0lvU0RvTExWV0FuQitZMTR0eGtrVU1Ya0p4elpuZ2gwM0dIOWNzSXVFVnZ1WnNzYS9zc1JJbVVtVDg5STNEQ2xONEwwU0lkT3JTVjBtN3JsYXJHSGVDY2pkUzFYVEZ2VDhKNU92S3JRWEp1ektwRDhsMzJtV29NNU5kNDFkNHFUTVJRK3NsWTNsVnpJdUd0cG1LSXZRd3RuYTJQT2NCZzNvTWxWK2IyQXRkVitldXIwam00b05ZSlpGVWNvNUNHMEl3LzFnSTAxS21Xc1lHY3c0cG12RkZKWTFNMld4Tmx4YXI2dytBY3BZL1VEL1d4cDFXalJhR211TUVHVGRzOFFBNm1EYXEzY2NiYjZROU0yRytmemtQVFh4cnN4VjJsZldVd0FmV212cm0zVktjMDJuZm9jc2JTMk5pcjJEOWhhUWpIbDBDZktzdGQzcjIwUy9hVjlXYnIrSlhIRmNOTjg5U0E1dGE3ZGNXUWZhWmlsaDN5Q0FkZ1dGc3UrWm54Z01GblZWb1U5YnlRdmd4S2g4VHI0NzRLMGpaVENFMHJrNk9UZ2R3czJRZkZ3VldSL1RhQ3BISy95Sy9PN2Rrd0Rjd3JnUHpBL20wWHh3enhDMzRXcEkzVFNZckJ6Zkx2bEdERU92bjBOYTZwZ0MxbWhuWGVhL2VWbjZ1dXBTSGlpelM5dDNTSm5lVlFQYTNTMzM4cFFaQVNDRmp1YzgxbEpQcmQxTlVtR1M3cEYrbks3UmI0cGVqVElBbGpsM3JBMzBzUGNBdU8wTDNYQmdmekNlMzVQNmI1THk5a3JuUEkyMSt6Yk45OHNUN1Myc0F3bUgxYkRiZG40RGgxZ1dyNnlqODNzS1dGdGR0NUU0c3NMZGJUQjFzVW9oSU9CalJxSFNGelFrck5KeXN3Z2E3ZnNwczAvN2xDdXNxSHJ0Yjg1bmF4aEF4cExZWHRrTjZRdDZVeUN4WnJEM1hKVnlUYkJ2czdLVVBUWmdyYnhYNCtHV3QzS2ZUUHVzR0FCaHpxVnFLSHN4S3dYZ0pBQ05NZ200KzhSOEo4ajllYjQvUE44QkV5eUw3VHRUTkFQMlV6bytKZm03UXNvT3ZWZ2ZuVXIwSjJJbnA5b1owc3QrNjd4ai9WRzlzM0tublVsZ3JkQVB6K3BQSDdydXFHbC9FbGhMSG12WSszbmZZZi9OTTlhdnpyYXExZkhjOFordmZPa2ZmdEQ1NFJ6NzExbzdaUy9oNnIrK05xZk1LUUk4UG1SMGgySFM3UUdzVnI0ODZmYWl5WkF5dzdwMTkrOWFDTTN6d1JJR0dEVUMxa281ODV2MTQ5cmRLczlkQjJHT0d0dElxWmYwU1dDdGpBTUFodjhnSUs5Q251UDduQ3RUd0JyZ0d4QzhCcDVUVmg4QmdGVlF1ZEM3NlhvN056MXRzUEFCVUh4WDJsb3BiMW9oZGM0QjFzZ0V4akpZV09QVmdKK1VGM2lvZ1RiV3dFOXZQdHRzdC9TZjlaNjYxbFpKUGJva2phVVdTMjl1Kzd0eUZwNFl1QVo0SFZsVkh6aC9ENXFMWlc2WTc4Ym5mdFlxSDVZK0FWenhqYTRxcU43ZHZmdXVVdVprbnAwWFlLMzBtNEtkcGRzS0cwaDd3Rks4NUpZbDJNWjdObys5ajJjbUwwVXpKUVZlL1d2eUROK2xEakxjYmZPNzZyVlY4dGpQenlhU2sza0hydmozV2lqejFQVktUeXhsWVRLdThEblJLclBSMzFQNUR0am1YVmRWQktWK25rWGtCZUF4MmJONUwxcnl6Z1hXeUltOEVlQk5JMnZCTWc3OEVEN0pKd3Y2bFlWZzJpQVQvMHQrajY0aU93UllJL3dDMXJ5c0l3bnBJRUhhUmJwbnlxUW1TSmswc3krVVN6a1dRb2hPZzRFQjZWbUNyUHFkTWpRN0RscEN4YXlRTXJRaUFJd3Q4Q3ZQRWQ2L0hKbndCNFhVNFlYOVJ1bzQzYXNnK1FpcE51VEpDM3puZENUMTBkSnMzbWNIMU5pOHNCYndpTEU3S0tUK3oweEJyaldid2FYT1d4WkcrMVNlT3BrcHYwM3FxR3JYaHJxU0Q5QmlidTFhckxINDhoNlAxR0l0N2Jud21ZVWFacENsM0N4UWJYUHNwUTVNNmsxM2FWTG11UVA1UVVrSHhLNUNHV2NYV0t2Uk4rVm9IMW5JdFFBQzg4Qm12QVh5cFJ3Tnl1Z2Vva3AvMFJkWTVtRHRnaHlwODNUeWNidkY4Qm9UMElCMWxJMmZ1MHpMVko1MnpLSGhrTGxoSW1IVHBmWGVBd0d1NlRwVG84ayt6OUpIekpsRHo0SE5zdTRnSUdlZk5odnZFZkFCSkRYL21GS3ZnSzlHWHZSRUgxcmRMWlB1M2Z3WkgrV0dlZlgwZkhlQU1QZGV1NmZsMlNTd2xqem1GZzBocTUyVnNpVFBDTXJxODA5NzFUNGt6d2pjeWpOYVhzSW41bkRMdlh2b2UvSTQxeHpPM0NzT0FqaHJiVy9TcHZTL2QwZFZGNWpydkp1OXlxVWY1ajc2b2UzSVlqdnBRRmJXTHBoRkdzek5mWDNkalJuanZSZ3MxcHhMckdvd3NOMTd0NmJHMDFnWHpnUi8wWDdyTW9lc2E2Q084OHU5c3FmeW5EVTRHcnIvcXNxZjdMYWQzeXcwQ1g3Zm5US1B5KzhwWUExdlJaRDJUcHRXaUttSGdQelBpZFY3Qk1zNk01L3dKa05mQ1JQbUJNMzE2UVlkaHZhNWZEUzlBRXI3ZURWbk9TRjVGQ3EwSU5SUWt1Qzd1cFpObTVXbEhocHpyajcyR3dxbHlYV2RNc2NOck5uVDdKVzNTTnZXRzJIenMvT2JZTndNeVlzM1lySHltRVFLQVZaYUw4OXp5aEt1Z0xmSmQrQXN6NE11ZjFubXJmWjRNN0FlWVhrMlZ6Z2t1RkFVczFwcVdnUHNEcVRNWjVZR1ZmZW5TdjY1d0JvUWtidmdsTlhTSEdETldZTS9YMWxyQ0dWZDR1ZjllUThYcmdzYXl0NWlqbk5GdDJjSXpqdTgwOWxhNXdydDhXSHJjWld4QVhYOWE5NktsOW9NS2JPeXdFOTB2Y1VzL2pSbEtIYnc2eTROWDVmSmN5QUg4SStMV1ExWXUwWFM4S3MxYXpaS01oYWVJMHY3MURzSFdFT2I1NlU4Mlc4ZFVoWVlmemJQcDRDMVAwNldMVStlbEFWSWZuT2U5eXlzemhWWU02L3R3MytXZGxZZ1J5K2tUM09BTlhRNE5kU1RNaXpWN0g4VU9wc0FtYk9Ba250cnZteVVjelp0MVNXdFI1ZWtHUU92QlY0d1d5RnA5aFJubVQzbEJaVjA3ZTA3ZncrYWkyVWMydk92OUpRSXpaQitrNHNZL0pBYldhaFhQVWMyNkhZeTM4OG5zR1lkQThIdWtMN2grZkRUakRhcU1uVHlBRFBmSXVuM3lYZmd0MnRwN0x2V0lTK25sK1U1Z055ZnZsUU5PQXE5R0ZMaHVleVArSkdSSyt3R0RlNlU3K1RTbFJkSDZzY1Q4RkxoaWRlak5ld0IrSXRmQi9oWFExblhlQmY0emk2ZXNGVW1lZWNDYTJSTS9YUXRHT3hvRkZJWDR4cUt6a2Ntbms1MHRqSU1JR005SU9YTzdCWTZCRmlqcVFXczBhWWNITXJDeDZ3TEdIOGR0MkZqRmczV2I1b013aCszaUZraDlYSzlZS1ZDMDl3TXlYZjdKTkpJYzhkeU9OQ09RZmxOb2k5TitaSDVlWm5RVUhkYXJpMFhqYVF4c2ZYWDZhZG5kYlNTS1hWNHNjNERnRit2NzRBRGJtSkhldUhlMEdENmNXMndXTVA0K2Rjc0IyR1BWaGJCM25lc2JkQmlsc1ZhWVdocG1LSGZVUHExQm0zZitaQzZiRXhYcDQ2QnVWcFhrVFRnc1ExLzE4U2Y5UkV3NFdVcEIreVpGVklmVFlSNVpCTWVBUnhKcDduNzNxVFJzRzMyNDZINThZNTVmbzhKK2dPZ1dTcXhmT3FHdEVWZ3ZjUHVZWkhuTE9WWWlVeldzZkhlckdVYm56djRxdHJlcWY3TVNTL3ZuZldqZzR1ckdyY2xsa3hOSzdDTlBuTGhhTHFLSm8yYlNsZkFTZnYyWWRaNnRPN2VQMERYdjlqMnJLTGNTZUxkc1R5Y2VpY09WQWY2ODlJV0FONC9ZdTBMckxFdTArYW04T0xzY1doYksxV1gvN1JYQlpueW5NVVN6VmdWRERhZzVMSHUzYzBDR05rN3ROcmVlSGUwY202K3JjNy9xZkt0RGgxU3Jwdzl2NU8rVkJtRFFnOXJtL0RUMHNwTldlaWRFN0NXUG1McS9BdXp2V3NWOG16bEVwaG5MRDZyWVpjZStRMDRwalhGRnpSZDNBNmtJdzB1a0FpRHFIK1lhKzI1LzBYZi96SFBBQ2FZU3lCbEMraXZBY0xjY0NqQ3VIVnhyMkNWVkhWUkwyMVRYQUFDdHU0czJTUlMrZ0xJSVNCNXIxVUIrUkE2YkxSUHdLTEEyZ3FwMHg3RFFzMTdJNWhlc1UvN0tZOHBmdVdjL2FmU3R2RUM0MWxDZEVQYTJRZFlzMGR4a1NMUTc0NTNBRk1wOHBwblNkb0RTSm9USndwdEhwWDhoUCtwZnJKb0kxdzRVKzFyN2pVeS80Q0orRkRuQ3A2UEc4NFV2ME81aEVjQWFKaTc1alNnYnBhU0d1K1gvQURWSnFDN09aamt0LytaSXl4Y1ppbVZ5bDdRL0ZmUW9mN2tJMEFTQkYwVFUzVXpMSFNhQk5hbTNzR0ZUczlZOFhyQVlnQWdRZjRWWmZ6Mm1odmw5OWxhSDVNSFVPQVBVaDYxODE0b0ZkODJ6MGNXTFNsRFlRdXNNWi9uQW12bU1YQ0JGZTB1c0FhTTlTL3hOV0ROdTZFRTBWYnpUc3pkc2FXUGM0QTFWbS9BbWwyd3ozUGVRMVBBMmdnZ1M3dFZWNzJOT1hra3JxQ3BEMUJPeVFnNHIxcjdiclE1QjFqNzVkVEQvWE1WTWc3QW1qOVRBMTZ1UTU2ZjFtNmVVNnlPUXBsUGU5RWxaZkN4akMrMjJpcjlJTThQd05ySUE2MjBOem9MODd3M2Z3K2FpNlUvM2gvamxhNFZiTWtMS0dUeFM1bERsbUQ5MTdKeU81bjBnNEMxakpYQ0VGL21YR3Z4Wnd5YWdHbmVLMkNjWVUwVDQwaWRaRWlHRnd3TldFUzZELzVKNWV3R1hwSG5ZQmphN0oxcCtCWG50ZmZvbjZWN1YwUGdqZFNKYjRLVEFKL3dKaU5MUmZRdE5QWXUzY1ZIQWVXcWpXNUkvOGwxREl2VTI3ejZKdm5tQW12b1FDNXhIcld1dzhHTHNjcC9jZW9sYitIYnlQblB5RE9La0ZIWUcxZ3J4TEM1VGdxT1UwUXFkWm04ZjVMNlZrSlNZUlpwMmVZd1RqUXlXd3hEeXA5SU5aaVR5MXZ0SncrTmhzMGVPUFdTL01hc3ZUcmZINXp2WER4cFJLdXVUVWszdWFHVXJDWldJYzlZaTV4Ti9NUTg1NDU2VUVnOW1DdDNocmxyb1JvS3MrWFFBRDZlbDRDNVN2M25CSnllbDQ3OU43MHhuaTV0ZDRCMlE4WUNjSERYanN2S050c0FBQTFWU1VSQlZBVzVEbmtPNlg5eW5uZmRCSk52THJER0g5K0d3aXg5Rm9PcE02bWY1bjdycnJJOHd3eC9icDQzN3hYYkhYVEtzTXliY2dYRmFHMzFMZVVjSERSMFZWb21mYVgxVGlSd2JqSlV3QzV1V1lURTFsekZ3QkVtYVZ3bndhMjB4VHFDaHNPOUJwdnZpbER2SW1lQ3gyUklQUmh5Wldna3U1cXB5Y3IyeUpCMm1lTjdkMHlhYVdtNFloQ0lqanlVUFl3QVpjNmg4YVBUVmxlck5uUWlaZTBkeWQ3L294YjVreGZqYXI5N1JyNERRakNCQlBxcjh5eVBabG1zRWRMY043Y0ZKSlMxNVY5aUFaT2prUFFXc01abHo5cnRBV3Z1bVdBcCtVbkpON0xlUzkyRVlOcHlHckRaYlJlYVlEYmNKMEh6VndVK1czMmZtZ2lIbEV1WjFTR2Z5SEpwQk9nbmZYVjlReUozblFzRnJBRi96U01DL3lxa1g1NjV1Ky9tTGJyVTZKRm4xdlp6VTY1cHJYd2dIZTFsQU9maHJsZU1JbUdYMExBR3VGSTNWOGJiN1B2dVV3NTRZKzFnVGwwajBRUFdNTWFVR3NBVTgzZ3JwQzUzS3c0YVUwSmFOUnhDaC9KdXZKT3JFNjJmTFl1cjFNbnF6SHlqelBtS3BEZnZ3bTI4UCtjM0xiRTdvSG9hYWhjd2J5bDdVcC85SE8wM0xleGJZOThIV0R1UlN1elpxMy9HM0t3d2JlSUpqUlBBMmczSnkrcE1uKzFOQk5oSkQ0YVVJZnc0djFrY1h6OWwxbFpHU1RNSFZveDlvbnZZbWtCSThnNFduWlJUejg1di9MMTNoMWVhZTNiT0J0WlNQeUVQditzUGw4eVZXU0hsWmxtc3FheWNFZHhoV1F1MDN2T2xBS3loQ1N2U0ZhaGF4bjRpbitTVUsvTDhiRzN3b1ErZ29PVUs2bEx5a1p0U09mdFlVM0x0WDNzOTlGNWV5ckE4WXAxS3hsbTdTZWE1c3hqLzBYTUZkZlp3cjV6dE9aQjY1d0JyOW1kcjFSMWw2L21Yc3ZqVm44bXppeFpZUzllZWtIN2VMdjFrUWRhMW1FeStPY0RhRmhoVzF1WnhBV3NNVThqRlBEYnNWZXVRZnBEamVSYmc4MFo3VjVtL1h0WGFIYkhzV3dETzF2dzlhQzZXTmRVRlJodHJqS3NyUHBqck5BT2FVVWlmblVjUFRIcFhaaXU4aSt1ZTFtZDJudUZqR1BrMGdiWFNkMHA0K3kzZTREbTlQYkhrWjQxTDhhR2NzL2FWYVV2L0Jzc3JkN091bElpTk1iRUVKVk00ZXhoZ1dKUE8zaVpBbnZydlYvckg4TU8rWGZVcUtmMjdYajdKNGU2eXJWcFFOdnFsVCtaYVU4bVVmc3dGMXJ4WExyTmRoVldMUnEzbmV3TnI2YkJGaE1HZ3pXd2lrWE03a3ZwT0pDOUF3TUhpSUdYWjhCLzV6WlN4RzVMWFptcWlNU09FbEVJL2ZZZUFWKy9nU1JtQUVZYVVteDZyaHVId2RvK051eXhzQk80a3N6bVBRdEw1RGVzajV2dE1JbTBtcG9WcmlKZDVjRWpkQURxTUp1MVBGYmhNSHNJbTMrL1pkMmZzMjZHMHNSZXdsdndXTHZQaUpzaXlUeDlTSDhiOXRhblB4bEI3QjZmeTBMOTJOdTlaR2dxbHJtRlQ5SzVaUzJBY01lZmVNei83N3NXK2hiR2IvRmZRNU9QV3d0SnhIK2JCM0RGR0dnVU1FQ1lCS0dQamM0L1ZiRmZmdE44RjFncGpCTGh5NTRaTm5TYVVpYkFOVGIrcmQ2T1U5Y0oxaDVEQytvZjFxTTBhVXM5cVpHVFp1VUY3aHhoTEdvZkdaRWhickUzMWh5RGpMZ2lDbTQzNlpDSXo1R3BiS1FjNEFCWmhGakdtSzR1c3hDdFRwbW50bW5KQWZXTm9DZ1ZsZjdLSnozSnpNY2lVb2JsamhjQWlqS1hMcm5YaEpDMm1NcVFONzlKN3hIeE0zbk8zV1YvS0V1UXc0NU4zRlNVdndmQ0s1T1VtWjJ5M3pRZUwyc3Y5VEFSUVlYUWM5T2J1VmlnSCtYQ3A2WmFHS1dtQVNNQ0YvYTVtSVZ5ei9MbHhHVGNObkxuUkRLbmZPd05lRUZneHNQWlc3NXpGRzZ1blgwMGRJMWVaTXM2dHRsT1hzOUtZN1JzWUllN1JvL3RyaHM2VWZYcXZ5L05yN2ZiR3Q1bVc5cHhIM3BXemlOTEhmdVJPQ0F5ZjllU09vUXRwc1lidXptaldqcXo5V0R1NXJzR2Z1elNGL2hvZDg0d1NBSUJvZlZjVldZZlFQMlZZcmJ2M2I4cGkzTnBqYVZEVnNMYmF6bk9BdjdVQTlNV0VONEcxTWhlQWNPYVlzNEVsclBVS1BMRVdUeVc2NzZONzVoNUNCMjJYOWlrWDBjVDZjVTNGMmRLK3RlRXN3UDhCUzYydGF1alF3dDZGejJ0WmZHSzZNYjM0T1djVFFCamR0R1h0clJXYm5iWm5BMnRsdkRUc0FERm5tL25GaXNnN1lDbE5vKzdkZFVQR0M1REVEemtEbW4rd3NsdEp5bEhBMkVjSmI1UldxNURuNWlLckkrNVNWV1h2Umw0MHhiczVlNGJ5M0tZSTVqZkw4eTB2aTlwQTB0NHNZQzM1Z0JvQUZ2ZmNkdGRMWmF6N0FHdVVCcTZxYUFxczZjdWxBS3c1QysxbHJNT2ZrekhacjFtSXMwNHhqODQyM2hjZXk3cGdzV2FQOEY3c0NYZzdWb1F0T2NKY0FnS3p0RmNISGdWSVJvZ0dwbzhzYzlLbkJ5WE4ycWNRY1c2YjY2eWtXTTVRRUZldENsT09yTUlDeVZySDF6bExLZE1ZTUZRdGNsTm1FbGhEaitTelZwMTkrb1ZQTmQvdGw5ektMbXBncmZUZldjZ2xGMDJySVdNRVZ2SDYySEpiSFRJbmZRUVc1ZG14V2F5VmNaaHZ6aXJ6aWF6bHJQUG5CU3pqdUN4V2VlelNkMTVqWEplZE0rUzFPZk8zTlJldEZ5QmVheTVPQW12cGt6TUFyVjNkOEtKQ1MxWlZGQlpjOWtjaGVmQmFsTFNNZ3ByblJQTGgwU2htQVZyMjJyc2xBbGh2bFdnTlZSV2ZoY2IyVGVzSTd5UnZsKzlQVytpb2Jqek5XaEdWNXp5VVhDSHhzRHh2ZXN3a0gvNkVvdkV1aFhkeGp2eDRmbnRQMVpCOHJLekp0UFloOTZDNTJxQkdMMnVUSW90Qms3VTdPNlFONytDUysxZFFDeFlUMEVWWDUxSXBSTHEzaVJMaXJyVFArWTNaNXU4NjUySmJBaUlCeVNidHV3bHpPdkdoS1Y4Ri9WSy9qZXdma3I0R1pmS01xVDByR1dNajRFRXdxNVlNcFkvUWRlMENnQ3dPaTlVLzJNeTJWR3JSSjMxaG1ramdxektyU2Jkb0g1RjA1cERuSldDdVV2OHNpN1hrSlZoejRXdit4ZkcrblV5ZG1HWi8vWDczV3Rta1k3aGROampMM2JKc2xFeC9iVElXTk1ES0hXYUFtRkZJZnNMTG9Fbkg3QXFyK1ZTalM5bDBwTE9lcktINTdndHNNVGdzRDdoUzJEUXg0OUI0ZjhEQkttTjJTQi9tV0t3QkpRZ0pWeVlDY1pWeC8xeDNyYVZ1SUJWd3pPYU1IalpZcHJGTmE2eVVZYTFHdStPUW0yM2RtbklPNC9zbmNtZDlWZUtaUkg3N1BSTmtnRGJMUSsvdGJLSU4yd1gzVFZBTllkTVdtdFBtRCs5NFJPOXl1Tmd2cnByOU1rcEc4eUxsWnJsYUhGQTNZS3pwN3RtckwvMGlMTHQ3WS9KQVMxNkFDQk4rN3ZWTnk1aFdlNlV0SUhuMWd1aXluN0ZHSElHdlNkTS8rK0JnbFd4dDBYNFQ4czNiU2ZlbTFHRWVBYzhJRFpnZjRMVjlnelhoV29EZDdYK2xiVmt3TW1jU01WemR2YWRSZm1pRzRGSzlJNnlVMnh1UUsvT1pnRW5Rd0tSeEhYQ1dBZm94YzBBR1dzc0xZckZXK3NkYWpkSkFQOUdTQU9Tczdsbmh0S3dXOFF0QVRuZTNqTTc2RHYyZEsvYXpVVWdad01yVlNlKzZpU1NmdTBtNHgxZnYrZWk5dzZTWmc2d2NyMHI1THJCV2FBWkVCQ0RqY1pSbE5YSUdIVlBlM1VYZGNDN3pxYlR2ekxBZnV6b0RuNFRIc2Y5VFV1RzM4RDRzbHZhYVYra1g0TUJaaC9tdUFqN0pRMGhtQ2U2OHdyRGp5ZkErVFNCdmt4Z3B2eSt3NWh3ZzZGUHdvRHZlamtEMWtMVDU3Q2xhRCtubExPWXl2MUlXendrcEF4VGh1dW5QRHJqV3JVS2VjeUVtU0ZEdTlJQjgreHZMUVJaM0xDclhJWFVRV3JsM1VpaDBRL0xPQmRZSTBnVCsxdG5PeWhNb09RcmwzSjEwQlMzang2K3hodUVKVUxWdVRIM1hlbUN0ak5WZVIvR0FEelRYblpuNFFIdmMyUVl0VjBCQkltT0hPeWF5TWxIR0gzWlYrZHVobnRETm5DSEhBTWpzb2M2MDFWM1hqYmFBSlFBSEFCa0F4UHAxM3JDb1pYVlZCVFBLMk93ZndCREFoN2JzWGRwYVc3OXR0cG0relFYV3pBLzdFMXBScnJySzUxU2k2ekI2ZkYwVllFbTd4K0lLbXI3aHdZWjcvdkJYVzE1UU83U2d6Q1FYY2kydjhVa1hIRmdyWXpHUDhCcEFjTHdhQXhiL25HNTgxUkI2Nnp2UWpWR00rV3RlRGZQWHVtK1YyNXlMNXJ3ejFWelU1dFMvZ2pidnlDdmpNRzhHaGY3QU0xSmlyVjF0YTUzS1dJQmxESUx3dTg2M1VVaWU2K2Nod056YVk5U0I1M0RHT1QrNWZQZUFOV00rbS9qN3lZZFczWkMyQU40QWNMTHlwb1djUG5KdlpRRzlQbXMySzB0Wjl6dzZUOWJnV0o0eFduQU91akpoeTh0cXB5eU1oZUZMMHhnaGRmSEt3NXVTOFhibEdQS2VhNVdxb2NnTWxDMU5HVGw1NWxxczRaR05wN3RYVHRGNk4zMXZpN1Y5R3ppdS9DR2tUYjNyejN0Y2ZUbVhkaklPWUIwTkxXM1Rsc0NSTk82TUxodGN1OU9jUzF0SFVUWjl3cXhoa2pCYTV6MmtQUXlFaTh0dHhFdFlLSEJlS1pENVJ2dkNRclRLMUovWHhpK1N5a01EekRDWEVXQStBZEEvdGJGNFhNSkNnWVVDMTJFS1pHL0lWakQvN3FUck1LbVdvUmNLN0FPc0taTDh3UGkvemp4cjNRdDFYb0MxdE1zU3Ftb2xWSWJDYTJjMmVMcE1nT09oUU40Yml5REdHV3UzMnVOcGVUVlhnVVN1dmVqZG5YdGMzYm5vMnluQVdoZm8ybWNRUlRFQW9HcUN2UHZVdCtUZGp3S2hQL0J2Y0s4OCtNOEplNjJtRGNBZ3dKT3lxV1ZBTlFtc2xYT0lrdjZkajVxSHVaU0FOZWJ2VHpwcUF1MDNyWmJjQ3dVV0Npd1V1UFFva0VPSVd4VFhWcHBrZDJ4TzNqZDA2VkZoR2RGQ2dZVUNDd1VXQ3B3TEJYS1dzTURobGVEUE9XNTVqblU1ajdnMHVuZVlaZU1TcmtNVXlGeGltYzNyZy9jRnl4ZEdCOXpISDUvNXNMSUtPNjZRdnR3NmJiSENjY1hNa1ZyQUhOY1lqcnVkQlZnN2JvcWZuL2J5SG5rTGNmdmtDY2dqZ3d2L2VRbHBpMFV2YndlZVlNNlNVWml5V0V1Nks3MVk3YkhzN2Y3RC9DR0R1R1NBdFVNR3Y1UlpLTEJRWUtIQVFvR0ZBZ3NGRmdvc0ZGZ29zRkJnb2NCQ2dXc1BCU0lndThpZHF6TzNjZmQvY3l2M1IwNnozTVdQYXFUcGgzczMvWE9pdXpPcjl4VWZWVnVYVWowTHNIWnB2TTI4Uis2ZlhQKzVudnFqa3NuN215K05rZGRIOFY4bHlBUjdKUy9ra3dBQUFBQkpSVTVFcmtKZ2dnPT0iLAoJIm1hcCI6IFsKCQk1LAoJCTUsCgkJNiwKCQkxMiwKCQk5LAoJCTEyLAoJCTExLAoJCTQsCgkJNSwKCQk1LAoJCTgsCgkJMTIsCgkJNCwKCQk4LAoJCTQsCgkJNywKCQkxMCwKCQk4LAoJCTEwLAoJCTksCgkJMTAsCgkJOSwKCQkxMCwKCQk5LAoJCTEwLAoJCTEwLAoJCTUsCgkJNSwKCQkxMCwKCQkxMSwKCQkxMCwKCQk4LAoJCTEzLAoJCTEwLAoJCTExLAoJCTEyLAoJCTEyLAoJCTEwLAoJCTksCgkJMTMsCgkJMTIsCgkJNSwKCQk5LAoJCTEwLAoJCTksCgkJMTQsCgkJMTMsCgkJMTQsCgkJMTAsCgkJMTQsCgkJMTEsCgkJOSwKCQkxMCwKCQkxMiwKCQkxMCwKCQkxNSwKCQkxMCwKCQkxMCwKCQkxMCwKCQk1LAoJCTcsCgkJNSwKCQkxMCwKCQkxMCwKCQk5LAoJCTksCgkJMTAsCgkJOSwKCQkxMCwKCQk5LAoJCTYsCgkJMTAsCgkJMTAsCgkJNCwKCQk0LAoJCTksCgkJNCwKCQkxNSwKCQkxMCwKCQkxMCwKCQkxMCwKCQkxMCwKCQk2LAoJCTgsCgkJNiwKCQkxMCwKCQk4LAoJCTEzLAoJCTgsCgkJOCwKCQk5LAoJCTYsCgkJNSwKCQk2LAoJCTEwCgldLAoJImJhc2VsaW5lIjogMSwKCSJjaGFyc2V0IjogIiAhXCIjJCUmJygpKissLS4vMDEyMzQ1Njc4OTo7PD0+P0BBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWltcXF1eX2BhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ent8fX4iLAoJImxpbmVoZWlnaHQiOiAxOCwKCSJrZXJuaW5nIjogMCwKCSJzcGFjaW5nIjogMiwKCSJmb250IjogewoJCSJjb2xvciI6ICIjZmZmZmZmIiwKCQkiZmFtaWx5IjogIk11c2VvIFNhbnMgTGlnaHQiLAoJCSJvdXRsaW5lIjogMCwKCQkic2l6ZSI6IDE2LAoJCSJzdHlsZSI6ICJub3JtYWwiCgl9Cn0="}}},"includes":["lychee.ui.Entity"],"exports":"function(lychee, global, attachments) {\n\n\tconst _Entity = lychee.import('lychee.ui.Entity');\n\tconst _FONT   = attachments[\"fnt\"];\n\n\n\n\t/*\n\t * IMPLEMENTATION\n\t */\n\n\tconst Composite = function(data) {\n\n\t\tlet states = Object.assign({}, data);\n\n\n\t\tthis.font  = _FONT;\n\t\tthis.value = '';\n\n\n\t\tthis.setFont(states.font);\n\t\tthis.setValue(states.value);\n\n\t\tdelete states.font;\n\t\tdelete states.value;\n\n\n\t\tstates.width  = typeof states.width === 'number'  ? states.width  : this.width;\n\t\tstates.height = typeof states.height === 'number' ? states.height : this.height;\n\t\tstates.shape  = _Entity.SHAPE.rectangle;\n\n\n\t\t_Entity.call(this, states);\n\n\t\tstates = null;\n\n\t};\n\n\n\tComposite.prototype = {\n\n\t\t/*\n\t\t * ENTITY API\n\t\t */\n\n\t\tdeserialize: function(blob) {\n\n\t\t\tlet font = lychee.deserialize(blob.font);\n\t\t\tif (font !== null) {\n\t\t\t\tthis.setFont(font);\n\t\t\t}\n\n\t\t},\n\n\t\tserialize: function() {\n\n\t\t\tlet data = _Entity.prototype.serialize.call(this);\n\t\t\tdata['constructor'] = 'lychee.ui.entity.Label';\n\n\t\t\tlet states = data['arguments'][0];\n\t\t\tlet blob   = (data['blob'] || {});\n\n\n\t\t\tif (this.value !== '') states.value = this.value;\n\n\n\t\t\tif (this.font !== null) blob.font = lychee.serialize(this.font);\n\n\n\t\t\tdata['blob'] = Object.keys(blob).length > 0 ? blob : null;\n\n\n\t\t\treturn data;\n\n\t\t},\n\n\t\trender: function(renderer, offsetX, offsetY) {\n\n\t\t\tif (this.visible === false) return;\n\n\n\t\t\tlet alpha    = this.alpha;\n\t\t\tlet position = this.position;\n\n\t\t\tlet x = position.x + offsetX;\n\t\t\tlet y = position.y + offsetY;\n\n\n\t\t\tlet font  = this.font;\n\t\t\tlet value = this.value;\n\n\n\t\t\tif (alpha !== 1) {\n\t\t\t\trenderer.setAlpha(alpha);\n\t\t\t}\n\n\n\t\t\tif (font !== null) {\n\n\t\t\t\tlet cur = font.measure(value);\n\t\t\t\tlet max = this.width;\n\n\t\t\t\tif (cur.realwidth <= max) {\n\n\t\t\t\t\trenderer.drawText(\n\t\t\t\t\t\tx,\n\t\t\t\t\t\ty,\n\t\t\t\t\t\tvalue,\n\t\t\t\t\t\tfont,\n\t\t\t\t\t\ttrue\n\t\t\t\t\t);\n\n\t\t\t\t} else {\n\n\t\t\t\t\tlet len = (max / cur.realwidth * value.length) | 0;\n\t\t\t\t\tlet str = value.substr(0, len);\n\n\t\t\t\t\trenderer.drawText(\n\t\t\t\t\t\tx,\n\t\t\t\t\t\ty,\n\t\t\t\t\t\tstr,\n\t\t\t\t\t\tfont,\n\t\t\t\t\t\ttrue\n\t\t\t\t\t);\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\tif (alpha !== 1) {\n\t\t\t\trenderer.setAlpha(1.0);\n\t\t\t}\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * CUSTOM API\n\t\t */\n\n\t\tsetFont: function(font) {\n\n\t\t\tfont = font instanceof Font ? font : null;\n\n\n\t\t\tif (font !== null) {\n\n\t\t\t\tthis.font = font;\n\n\t\t\t\t// refresh the layout\n\t\t\t\tif (this.value !== '') {\n\t\t\t\t\tthis.setValue(this.value);\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetValue: function(value) {\n\n\t\t\tvalue = typeof value === 'string' ? value : null;\n\n\n\t\t\tif (value !== null) {\n\n\t\t\t\tlet font = this.font;\n\t\t\t\tif (font !== null) {\n\n\t\t\t\t\tlet dim = font.measure(value);\n\n\t\t\t\t\tthis.width  = dim.realwidth;\n\t\t\t\t\tthis.height = dim.realheight;\n\n\t\t\t\t}\n\n\n\t\t\t\tthis.value = value;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t}\n\n\t};\n\n\n\treturn Composite;\n\n}"}},"lychee.net.Tunnel":{"constructor":"lychee.Definition","arguments":[{"id":"lychee.net.Tunnel","url":"/libraries/lychee/source/net/Tunnel.js"}],"blob":{"attaches":{},"requires":["lychee.net.socket.HTTP","lychee.net.socket.WS","lychee.codec.BENCODE","lychee.codec.BITON","lychee.codec.JSON","lychee.net.Service"],"includes":["lychee.event.Emitter"],"exports":"function(lychee, global, attachments) {\n\n\tconst _socket  = lychee.import('lychee.net.socket');\n\tconst _Emitter = lychee.import('lychee.event.Emitter');\n\tconst _Service = lychee.import('lychee.net.Service');\n\tconst _BENCODE = lychee.import('lychee.codec.BENCODE');\n\tconst _BITON   = lychee.import('lychee.codec.BITON');\n\tconst _JSON    = lychee.import('lychee.codec.JSON');\n\n\n\n\t/*\n\t * HELPERS\n\t */\n\n\tconst _plug_service = function(id, service) {\n\n\t\tid = typeof id === 'string' ? id : null;\n\n\t\tif (id === null || service === null) {\n\t\t\treturn;\n\t\t}\n\n\n\t\tlet found = false;\n\n\t\tfor (let w = 0, wl = this.__services.waiting.length; w < wl; w++) {\n\n\t\t\tif (this.__services.waiting[w] === service) {\n\t\t\t\tthis.__services.waiting.splice(w, 1);\n\t\t\t\tfound = true;\n\t\t\t\twl--;\n\t\t\t\tw--;\n\t\t\t}\n\n\t\t}\n\n\n\t\tif (found === true) {\n\n\t\t\tthis.__services.active.push(service);\n\n\t\t\tservice.trigger('plug');\n\n\t\t\tif (lychee.debug === true) {\n\t\t\t\tconsole.log('lychee.net.Tunnel: Remote plugged in Service (' + id + ')');\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tconst _unplug_service = function(id, service) {\n\n\t\tid = typeof id === 'string' ? id : null;\n\n\t\tif (id === null || service === null) {\n\t\t\treturn;\n\t\t}\n\n\n\t\tlet found = false;\n\n\t\tfor (let w = 0, wl = this.__services.waiting.length; w < wl; w++) {\n\n\t\t\tif (this.__services.waiting[w] === service) {\n\t\t\t\tthis.__services.waiting.splice(w, 1);\n\t\t\t\tfound = true;\n\t\t\t\twl--;\n\t\t\t\tw--;\n\t\t\t}\n\n\t\t}\n\n\t\tfor (let a = 0, al = this.__services.active.length; a < al; a++) {\n\n\t\t\tif (this.__services.active[a] === service) {\n\t\t\t\tthis.__services.active.splice(a, 1);\n\t\t\t\tfound = true;\n\t\t\t\tal--;\n\t\t\t\ta--;\n\t\t\t}\n\n\t\t}\n\n\n\t\tif (found === true) {\n\n\t\t\tservice.trigger('unplug');\n\n\t\t\tif (lychee.debug === true) {\n\t\t\t\tconsole.log('lychee.net.Tunnel: Remote unplugged Service (' + id + ')');\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\n\n\t/*\n\t * IMPLEMENTATION\n\t */\n\n\tconst Composite = function(data) {\n\n\t\tlet states = Object.assign({}, data);\n\n\n\t\tthis.id        = 'localhost:1337';\n\t\tthis.codec     = lychee.interfaceof(_JSON, states.codec) ? states.codec : _JSON;\n\t\tthis.host      = 'localhost';\n\t\tthis.port      = 1337;\n\t\tthis.reconnect = 0;\n\t\tthis.type      = Composite.TYPE.WS;\n\n\n\t\tthis.__isConnected = false;\n\t\tthis.__socket      = null;\n\t\tthis.__services    = {\n\t\t\twaiting: [],\n\t\t\tactive:  []\n\t\t};\n\n\n\t\tthis.setHost(states.host);\n\t\tthis.setPort(states.port);\n\t\tthis.setReconnect(states.reconnect);\n\t\tthis.setType(states.type);\n\n\n\t\t_Emitter.call(this);\n\n\t\tstates = null;\n\n\n\n\t\t/*\n\t\t * INITIALIZATION\n\t\t */\n\n\t\tthis.bind('connect', function() {\n\n\t\t\tthis.__isConnected = true;\n\n\t\t}, this);\n\n\t\tthis.bind('send', function(payload, headers) {\n\n\t\t\tif (this.__socket !== null) {\n\t\t\t\tthis.__socket.send(payload, headers);\n\t\t\t}\n\n\t\t}, this);\n\n\t\tthis.bind('disconnect', function() {\n\n\t\t\tthis.__isConnected = false;\n\n\n\t\t\tfor (let a = 0, al = this.__services.active.length; a < al; a++) {\n\t\t\t\tthis.__services.active[a].trigger('unplug');\n\t\t\t}\n\n\t\t\tthis.__services.active  = [];\n\t\t\tthis.__services.waiting = [];\n\n\n\t\t\tif (this.reconnect > 0) {\n\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tthis.trigger('connect');\n\t\t\t\t}.bind(this), this.reconnect);\n\n\t\t\t}\n\n\t\t}, this);\n\n\t};\n\n\n\tComposite.TYPE = {\n\t\tWS:   0,\n\t\tHTTP: 1,\n\t\tTCP:  2\n\t};\n\n\n\tComposite.prototype = {\n\n\t\t/*\n\t\t * ENTITY API\n\t\t */\n\n\t\tdeserialize: function(blob) {\n\n\t\t\tlet socket = lychee.deserialize(blob.socket);\n\t\t\tif (socket !== null) {\n\t\t\t\tthis.__socket = socket;\n\t\t\t}\n\n\n\t\t\tif (blob.services instanceof Array) {\n\n\t\t\t\tfor (let s = 0, sl = blob.services.length; s < sl; s++) {\n\t\t\t\t\tthis.addService(lychee.deserialize(blob.services[s]));\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t},\n\n\t\tserialize: function() {\n\n\t\t\tlet data = _Emitter.prototype.serialize.call(this);\n\t\t\tdata['constructor'] = 'lychee.net.Tunnel';\n\n\t\t\tlet states = {};\n\t\t\tlet blob   = (data['blob'] || {});\n\n\n\t\t\tif (this.codec !== _JSON)            states.codec     = lychee.serialize(this.codec);\n\t\t\tif (this.host !== 'localhost')       states.host      = this.host;\n\t\t\tif (this.port !== 1337)              states.port      = this.port;\n\t\t\tif (this.reconnect !== 0)            states.reconnect = this.reconnect;\n\t\t\tif (this.type !== Composite.TYPE.WS) states.type      = this.type;\n\n\n\t\t\tif (this.__socket !== null) blob.socket = lychee.serialize(this.__socket);\n\n\n\t\t\tif (this.__services.active.length > 0) {\n\n\t\t\t\tblob.services = [];\n\n\t\t\t\tfor (let a = 0, al = this.__services.active.length; a < al; a++) {\n\n\t\t\t\t\tlet service = this.__services.active[a];\n\n\t\t\t\t\tblob.services.push(lychee.serialize(service));\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\tdata['arguments'][0] = states;\n\t\t\tdata['blob']         = Object.keys(blob).length > 0 ? blob : null;\n\n\n\t\t\treturn data;\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * CUSTOM API\n\t\t */\n\n\t\tconnect: function(connection) {\n\n\t\t\tconnection = typeof connection === 'object' ? connection : null;\n\n\n\t\t\tif (this.__isConnected === false) {\n\n\t\t\t\tlet type = this.type;\n\t\t\t\tif (type === Composite.TYPE.WS) {\n\t\t\t\t\tthis.__socket = new _socket.WS();\n\t\t\t\t} else if (type === Composite.TYPE.HTTP) {\n\t\t\t\t\tthis.__socket = new _socket.HTTP();\n\t\t\t\t} else if (type === Composite.TYPE.TCP) {\n\t\t\t\t\tthis.__socket = new _socket.TCP();\n\t\t\t\t}\n\n\n\t\t\t\tthis.__socket.bind('connect', function() {\n\t\t\t\t\tthis.trigger('connect');\n\t\t\t\t}, this);\n\n\t\t\t\tthis.__socket.bind('receive', function(payload, headers) {\n\t\t\t\t\tthis.receive(payload, headers);\n\t\t\t\t}, this);\n\n\t\t\t\tthis.__socket.bind('disconnect', function() {\n\t\t\t\t\tthis.disconnect();\n\t\t\t\t}, this);\n\n\t\t\t\tthis.__socket.bind('error', function() {\n\t\t\t\t\tthis.setReconnect(0);\n\t\t\t\t\tthis.disconnect();\n\t\t\t\t}, this);\n\n\n\t\t\t\tthis.__socket.connect(this.host, this.port, connection);\n\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tdisconnect: function() {\n\n\t\t\tif (this.__isConnected === true) {\n\n\t\t\t\tlet socket = this.__socket;\n\t\t\t\tif (socket !== null) {\n\n\t\t\t\t\tsocket.unbind('connect');\n\t\t\t\t\tsocket.unbind('receive');\n\t\t\t\t\tsocket.unbind('disconnect');\n\t\t\t\t\tsocket.unbind('error');\n\t\t\t\t\tsocket.disconnect();\n\t\t\t\t\tthis.__socket = null;\n\n\t\t\t\t}\n\n\n\t\t\t\tthis.trigger('disconnect');\n\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsend: function(data, headers) {\n\n\t\t\tdata    = data instanceof Object    ? data    : null;\n\t\t\theaders = headers instanceof Object ? headers : {};\n\n\n\t\t\tif (data === null) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\n\t\t\tif (typeof headers.id     === 'string') headers['@service-id']     = headers.id;\n\t\t\tif (typeof headers.event  === 'string') headers['@service-event']  = headers.event;\n\t\t\tif (typeof headers.method === 'string') headers['@service-method'] = headers.method;\n\n\n\t\t\tdelete headers.id;\n\t\t\tdelete headers.event;\n\t\t\tdelete headers.method;\n\n\n\t\t\tlet payload = null;\n\t\t\tif (data !== null) {\n\t\t\t\tpayload = this.codec.encode(data);\n\t\t\t}\n\n\n\t\t\tif (payload !== null) {\n\n\t\t\t\tthis.trigger('send', [ payload, headers ]);\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\treceive: function(payload, headers) {\n\n\t\t\tpayload = payload instanceof Buffer ? payload : null;\n\t\t\theaders = headers instanceof Object ? headers : {};\n\n\n\t\t\tlet id     = headers['@service-id']     || null;\n\t\t\tlet event  = headers['@service-event']  || null;\n\t\t\tlet method = headers['@service-method'] || null;\n\n\t\t\tlet data = null;\n\t\t\tif (payload.length === 0) {\n\t\t\t\tpayload = this.codec.encode({});\n\t\t\t}\n\n\t\t\tif (payload !== null) {\n\t\t\t\tdata = this.codec.decode(payload);\n\t\t\t}\n\n\n\t\t\tlet instance = this.getService(id);\n\t\t\tif (instance !== null && data !== null) {\n\n\t\t\t\tif (method === '@plug' || method === '@unplug') {\n\n\t\t\t\t\tif (method === '@plug') {\n\t\t\t\t\t\t_plug_service.call(this,   id, instance);\n\t\t\t\t\t} else if (method === '@unplug') {\n\t\t\t\t\t\t_unplug_service.call(this, id, instance);\n\t\t\t\t\t}\n\n\t\t\t\t} else if (method !== null) {\n\n\t\t\t\t\tif (typeof instance[method] === 'function') {\n\t\t\t\t\t\tinstance[method](data);\n\t\t\t\t\t}\n\n\t\t\t\t} else if (event !== null) {\n\n\t\t\t\t\tif (typeof instance.trigger === 'function') {\n\t\t\t\t\t\tinstance.trigger(event, [ data ]);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tthis.trigger('receive', [ data, headers ]);\n\n\t\t\t}\n\n\n\t\t\treturn true;\n\n\t\t},\n\n\t\tsetHost: function(host) {\n\n\t\t\thost = typeof host === 'string' ? host : null;\n\n\n\t\t\tif (host !== null) {\n\n\t\t\t\tthis.id   = (/:/g.test(host) ? '[' + host + ']' : host) + ':' + this.port;\n\t\t\t\tthis.host = host;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetPort: function(port) {\n\n\t\t\tport = typeof port === 'number' ? (port | 0) : null;\n\n\n\t\t\tif (port !== null) {\n\n\t\t\t\tthis.id   = (/:/g.test(this.host) ? '[' + this.host + ']' : this.host) + ':' + port;\n\t\t\t\tthis.port = port;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetReconnect: function(reconnect) {\n\n\t\t\treconnect = typeof reconnect === 'number' ? (reconnect | 0) : null;\n\n\n\t\t\tif (reconnect !== null) {\n\n\t\t\t\tthis.reconnect = reconnect;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\taddService: function(service) {\n\n\t\t\tservice = lychee.interfaceof(_Service, service) ? service : null;\n\n\n\t\t\tif (service !== null) {\n\n\t\t\t\tlet found = false;\n\n\t\t\t\tfor (let w = 0, wl = this.__services.waiting.length; w < wl; w++) {\n\n\t\t\t\t\tif (this.__services.waiting[w] === service) {\n\t\t\t\t\t\tfound = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tfor (let a = 0, al = this.__services.active.length; a < al; a++) {\n\n\t\t\t\t\tif (this.__services.active[a] === service) {\n\t\t\t\t\t\tfound = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\n\t\t\t\tif (found === false) {\n\n\t\t\t\t\tthis.__services.waiting.push(service);\n\n\t\t\t\t\tthis.send({}, {\n\t\t\t\t\t\tid:     service.id,\n\t\t\t\t\t\tmethod: '@plug'\n\t\t\t\t\t});\n\n\t\t\t\t}\n\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tgetService: function(id) {\n\n\t\t\tid = typeof id === 'string' ? id : null;\n\n\n\t\t\tif (id !== null) {\n\n\t\t\t\tfor (let w = 0, wl = this.__services.waiting.length; w < wl; w++) {\n\n\t\t\t\t\tlet wservice = this.__services.waiting[w];\n\t\t\t\t\tif (wservice.id === id) {\n\t\t\t\t\t\treturn wservice;\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tfor (let a = 0, al = this.__services.active.length; a < al; a++) {\n\n\t\t\t\t\tlet aservice = this.__services.active[a];\n\t\t\t\t\tif (aservice.id === id) {\n\t\t\t\t\t\treturn aservice;\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn null;\n\n\t\t},\n\n\t\tremoveService: function(service) {\n\n\t\t\tservice = lychee.interfaceof(_Service, service) ? service : null;\n\n\n\t\t\tif (service !== null) {\n\n\t\t\t\tlet found = false;\n\n\t\t\t\tfor (let w = 0, wl = this.__services.waiting.length; w < wl; w++) {\n\n\t\t\t\t\tif (this.__services.waiting[w] === service) {\n\t\t\t\t\t\tfound = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tfor (let a = 0, al = this.__services.active.length; a < al; a++) {\n\n\t\t\t\t\tif (this.__services.active[a] === service) {\n\t\t\t\t\t\tfound = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\n\t\t\t\tif (found === true) {\n\n\t\t\t\t\tthis.send({}, {\n\t\t\t\t\t\tid:     service.id,\n\t\t\t\t\t\tmethod: '@unplug'\n\t\t\t\t\t});\n\n\t\t\t\t}\n\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tremoveServices: function() {\n\n\t\t\tthis.__services.waiting.slice(0).forEach(function(service) {\n\t\t\t\t_unplug_service.call(this, service.id, service);\n\t\t\t}.bind(this));\n\n\t\t\tthis.__services.active.slice(0).forEach(function(service) {\n\t\t\t\t_unplug_service.call(this, service.id, service);\n\t\t\t}.bind(this));\n\n\n\t\t\treturn true;\n\n\t\t},\n\n\t\tsetType: function(type) {\n\n\t\t\ttype = lychee.enumof(Composite.TYPE, type) ? type : null;\n\n\n\t\t\tif (type !== null) {\n\n\t\t\t\tlet oldtype = this.type;\n\t\t\t\tif (oldtype !== type) {\n\n\t\t\t\t\tthis.type = type;\n\n\n\t\t\t\t\tif (this.__isConnected === true) {\n\t\t\t\t\t\tthis.disconnect();\n\t\t\t\t\t\tthis.connect();\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t}\n\n\t};\n\n\n\treturn Composite;\n\n}"}},"lychee.codec.JSON":{"constructor":"lychee.Definition","arguments":[{"id":"lychee.codec.JSON","url":"/libraries/lychee/source/codec/JSON.js"}],"blob":{"attaches":{},"exports":"function(lychee, global, attachments) {\n\n\t/*\n\t * HELPERS\n\t */\n\n\tconst _CHARS_SEARCH = /[\\\\\"\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g;\n\tconst _CHARS_META   = {\n\t\t'\\r': '',    // FUCK YOU, Microsoft!\n\t\t'\\b': '\\\\b',\n\t\t'\\t': '\\\\t',\n\t\t'\\n': '\\\\n',\n\t\t'\\f': '\\\\f',\n\t\t'\"':  '\\\\\"',\n\t\t'\\\\': '\\\\\\\\'\n\t};\n\n\tconst _desanitize_string = function(san) {\n\n\t\tlet str = san;\n\n\t\t// str = str.replace(/\\\\b/g, '\\b');\n\t\t// str = str.replace(/\\\\f/g, '\\f');\n\t\tstr = str.replace(/\\\\t/g, '\\t');\n\t\tstr = str.replace(/\\\\n/g, '\\n');\n\t\tstr = str.replace(/\\\\\\\\/g, '\\\\');\n\n\t\treturn str;\n\n\t};\n\n\tconst _sanitize_string = function(str) {\n\n\t\tlet san = str;\n\n\t\tif (_CHARS_SEARCH.test(san)) {\n\n\t\t\tsan = san.replace(_CHARS_SEARCH, function(char) {\n\n\t\t\t\tlet meta = _CHARS_META[char];\n\t\t\t\tif (meta !== undefined) {\n\t\t\t\t\treturn meta;\n\t\t\t\t} else {\n\t\t\t\t\treturn '\\\\u' + (char.charCodeAt(0).toString(16)).slice(-4);\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t}\n\n\t\treturn san;\n\n\t};\n\n\n\n\t/*\n\t * STRUCTS\n\t */\n\n\tconst _Stream = function(buffer) {\n\n\t\tthis.__buffer = typeof buffer === 'string' ? buffer : '';\n\t\tthis.__index  = 0;\n\n\t};\n\n\n\t_Stream.prototype = {\n\n\t\ttoString: function() {\n\t\t\treturn this.__buffer;\n\t\t},\n\n\t\tpointer: function() {\n\t\t\treturn this.__index;\n\t\t},\n\n\t\tlength: function() {\n\t\t\treturn this.__buffer.length;\n\t\t},\n\n\t\tread: function(bytes) {\n\n\t\t\tlet buffer = '';\n\n\t\t\tbuffer       += this.__buffer.substr(this.__index, bytes);\n\t\t\tthis.__index += bytes;\n\n\t\t\treturn buffer;\n\n\t\t},\n\n\t\tsearch: function(array) {\n\n\t\t\tlet bytes = Infinity;\n\n\t\t\tfor (let a = 0, al = array.length; a < al; a++) {\n\n\t\t\t\tlet token = array[a];\n\t\t\t\tlet size  = this.__buffer.indexOf(token, this.__index + 1) - this.__index;\n\t\t\t\tif (size > -1 && size < bytes) {\n\t\t\t\t\tbytes = size;\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\tif (bytes === Infinity) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\n\t\t\treturn bytes;\n\n\t\t},\n\n\t\tseek: function(bytes) {\n\n\t\t\tif (bytes > 0) {\n\t\t\t\treturn this.__buffer.substr(this.__index, bytes);\n\t\t\t} else {\n\t\t\t\treturn this.__buffer.substr(this.__index + bytes, Math.abs(bytes));\n\t\t\t}\n\n\t\t},\n\n\t\twrite: function(buffer) {\n\n\t\t\tthis.__buffer += buffer;\n\t\t\tthis.__index  += buffer.length;\n\n\t\t}\n\n\t};\n\n\n\n\t/*\n\t * ENCODER and DECODER\n\t */\n\n\tconst _encode = function(stream, data) {\n\n\t\t// Boolean, Null (or EOS), Undefined, Infinity, NaN\n\t\tif (\n\t\t\ttypeof data === 'boolean'\n\t\t\t|| data === null\n\t\t\t|| data === undefined\n\t\t\t|| (\n\t\t\t\ttypeof data === 'number'\n\t\t\t\t&& (\n\t\t\t\t\tdata === Infinity\n\t\t\t\t\t|| data === -Infinity\n\t\t\t\t\t|| isNaN(data) === true\n\t\t\t\t)\n\t\t\t)\n\t\t) {\n\n\t\t\tif (data === null) {\n\t\t\t\tstream.write('null');\n\t\t\t} else if (data === undefined) {\n\t\t\t\tstream.write('undefined');\n\t\t\t} else if (data === false) {\n\t\t\t\tstream.write('false');\n\t\t\t} else if (data === true) {\n\t\t\t\tstream.write('true');\n\t\t\t} else if (data === Infinity) {\n\t\t\t\tstream.write('Infinity');\n\t\t\t} else if (data === -Infinity) {\n\t\t\t\tstream.write('-Infinity');\n\t\t\t} else if (isNaN(data) === true) {\n\t\t\t\tstream.write('NaN');\n\t\t\t}\n\n\n\t\t// 123, 12.3: Integer or Float\n\t\t} else if (typeof data === 'number') {\n\n\t\t\tlet type = 1;\n\t\t\tif (data < 268435456 && data !== (data | 0)) {\n\t\t\t\ttype = 2;\n\t\t\t}\n\n\n\t\t\t// Negative value\n\t\t\tlet sign = 0;\n\t\t\tif (data < 0) {\n\t\t\t\tdata = -data;\n\t\t\t\tsign = 1;\n\t\t\t}\n\n\n\t\t\tif (sign === 1) {\n\t\t\t\tstream.write('-');\n\t\t\t}\n\n\n\t\t\tif (type === 1) {\n\t\t\t\tstream.write('' + data.toString());\n\t\t\t} else {\n\t\t\t\tstream.write('' + data.toString());\n\t\t\t}\n\n\n\t\t// \"\": String\n\t\t} else if (typeof data === 'string') {\n\n\t\t\tdata = _sanitize_string(data);\n\n\n\t\t\tstream.write('\"');\n\n\t\t\tstream.write(data);\n\n\t\t\tstream.write('\"');\n\n\n\t\t// []: Array\n\t\t} else if (data instanceof Array) {\n\n\t\t\tstream.write('[');\n\n\t\t\tfor (let d = 0, dl = data.length; d < dl; d++) {\n\n\t\t\t\t_encode(stream, data[d]);\n\n\t\t\t\tif (d < dl - 1) {\n\t\t\t\t\tstream.write(',');\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tstream.write(']');\n\n\n\t\t// {}: Object\n\t\t} else if (data instanceof Object && typeof data.serialize !== 'function') {\n\n\t\t\tstream.write('{');\n\n\t\t\tlet keys = Object.keys(data);\n\n\t\t\tfor (let k = 0, kl = keys.length; k < kl; k++) {\n\n\t\t\t\tlet key = keys[k];\n\n\t\t\t\t_encode(stream, key);\n\t\t\t\tstream.write(':');\n\n\t\t\t\t_encode(stream, data[key]);\n\n\t\t\t\tif (k < kl - 1) {\n\t\t\t\t\tstream.write(',');\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tstream.write('}');\n\n\n\t\t// Custom High-Level Implementation\n\t\t} else if (data instanceof Object && typeof data.serialize === 'function') {\n\n\t\t\tstream.write('%');\n\n\t\t\tlet blob = lychee.serialize(data);\n\n\t\t\t_encode(stream, blob);\n\n\t\t\tstream.write('%');\n\n\t\t}\n\n\t};\n\n\tconst _decode = function(stream) {\n\n\t\tlet value  = undefined;\n\t\tlet seek   = '';\n\t\tlet size   = 0;\n\t\tlet errors = 0;\n\t\tlet check  = null;\n\n\n\t\tif (stream.pointer() < stream.length()) {\n\n\t\t\tseek = stream.seek(1);\n\n\n\t\t\t// Boolean, Null (or EOS), Undefined, Infinity, NaN\n\t\t\tif (stream.seek(4) === 'null') {\n\t\t\t\tstream.read(4);\n\t\t\t\tvalue = null;\n\t\t\t} else if (stream.seek(9) === 'undefined') {\n\t\t\t\tstream.read(9);\n\t\t\t\tvalue = undefined;\n\t\t\t} else if (stream.seek(5) === 'false') {\n\t\t\t\tstream.read(5);\n\t\t\t\tvalue = false;\n\t\t\t} else if (stream.seek(4) === 'true') {\n\t\t\t\tstream.read(4);\n\t\t\t\tvalue = true;\n\t\t\t} else if (stream.seek(8) === 'Infinity') {\n\t\t\t\tstream.read(8);\n\t\t\t\tvalue = Infinity;\n\t\t\t} else if (stream.seek(9) === '-Infinity') {\n\t\t\t\tstream.read(9);\n\t\t\t\tvalue = -Infinity;\n\t\t\t} else if (stream.seek(3) === 'NaN') {\n\t\t\t\tstream.read(3);\n\t\t\t\tvalue = NaN;\n\n\n\t\t\t// 123, 12.3: Number\n\t\t\t} else if (seek === '-' || isNaN(parseInt(seek, 10)) === false) {\n\n\t\t\t\tsize = stream.search([ ',', ']', '}' ]);\n\n\t\t\t\tif (size > 0) {\n\n\t\t\t\t\tlet tmp = stream.read(size);\n\t\t\t\t\tif (tmp.indexOf('.') !== -1) {\n\t\t\t\t\t\tvalue = parseFloat(tmp, 10);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvalue = parseInt(tmp, 10);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t// \"\": String\n\t\t\t} else if (seek === '\"') {\n\n\t\t\t\tstream.read(1);\n\n\t\t\t\tsize = stream.search([ '\"' ]);\n\n\t\t\t\tif (size > 0) {\n\t\t\t\t\tvalue = stream.read(size);\n\t\t\t\t} else {\n\t\t\t\t\tvalue = '';\n\t\t\t\t}\n\n\n\t\t\t\tcheck = stream.read(1);\n\n\n\t\t\t\tlet unichar = stream.seek(-2);\n\n\t\t\t\twhile (check === '\"' && unichar.charAt(0) === '\\\\') {\n\n\t\t\t\t\tif (value.charAt(value.length - 1) === '\\\\') {\n\t\t\t\t\t\tvalue = value.substr(0, value.length - 1) + check;\n\t\t\t\t\t}\n\n\t\t\t\t\tsize    = stream.search([ '\"' ]);\n\t\t\t\t\tvalue  += stream.read(size);\n\t\t\t\t\tcheck   = stream.read(1);\n\t\t\t\t\tunichar = stream.seek(-2);\n\n\t\t\t\t}\n\n\t\t\t\tvalue = _desanitize_string(value);\n\n\t\t\t// []: Array\n\t\t\t} else if (seek === '[') {\n\n\t\t\t\tvalue = [];\n\n\n\t\t\t\tsize  = stream.search([ ']' ]);\n\t\t\t\tcheck = stream.read(1).trim() + stream.seek(size).trim();\n\n\t\t\t\tif (check !== '[]') {\n\n\t\t\t\t\twhile (errors === 0) {\n\n\t\t\t\t\t\tvalue.push(_decode(stream));\n\n\t\t\t\t\t\tcheck = stream.seek(1);\n\n\t\t\t\t\t\tif (check === ',') {\n\t\t\t\t\t\t\tstream.read(1);\n\t\t\t\t\t\t} else if (check === ']') {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\terrors++;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tstream.read(1);\n\n\t\t\t\t} else {\n\n\t\t\t\t\tstream.read(size);\n\n\t\t\t\t}\n\n\n\t\t\t// {}: Object\n\t\t\t} else if (seek === '{') {\n\n\t\t\t\tvalue = {};\n\n\n\t\t\t\tstream.read(1);\n\n\t\t\t\twhile (errors === 0) {\n\n\t\t\t\t\tif (stream.seek(1) === '}') {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\n\t\t\t\t\tlet object_key = _decode(stream);\n\t\t\t\t\tcheck = stream.seek(1);\n\n\t\t\t\t\tif (check === '}') {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} else if (check === ':') {\n\t\t\t\t\t\tstream.read(1);\n\t\t\t\t\t} else if (check !== ':') {\n\t\t\t\t\t\terrors++;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet object_value = _decode(stream);\n\t\t\t\t\tcheck = stream.seek(1);\n\n\n\t\t\t\t\tvalue[object_key] = object_value;\n\n\n\t\t\t\t\tif (check === '}') {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} else if (check === ',') {\n\t\t\t\t\t\tstream.read(1);\n\t\t\t\t\t} else {\n\t\t\t\t\t\terrors++;\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tstream.read(1);\n\n\t\t\t// %%: Custom High-Level Implementation\n\t\t\t} else if (seek === '%') {\n\n\t\t\t\tstream.read(1);\n\n\t\t\t\tlet blob = _decode(stream);\n\n\t\t\t\tvalue = lychee.deserialize(blob);\n\t\t\t\tcheck = stream.read(1);\n\n\t\t\t\tif (check !== '%') {\n\t\t\t\t\tvalue = undefined;\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// Invalid seek, assume it's a space character\n\n\t\t\t\tstream.read(1);\n\t\t\t\treturn _decode(stream);\n\n\t\t\t}\n\n\t\t}\n\n\n\t\treturn value;\n\n\t};\n\n\n\n\t/*\n\t * IMPLEMENTATION\n\t */\n\n\tconst Module = {\n\n\t\t/*\n\t\t * ENTITY API\n\t\t */\n\n\t\t// deserialize: function(blob) {},\n\n\t\tserialize: function() {\n\n\t\t\treturn {\n\t\t\t\t'reference': 'lychee.codec.JSON',\n\t\t\t\t'blob':      null\n\t\t\t};\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * CUSTOM API\n\t\t */\n\n\t\tencode: function(data) {\n\n\t\t\tdata = data instanceof Object ? data : null;\n\n\n\t\t\tif (data !== null) {\n\n\t\t\t\tlet stream = new _Stream('');\n\n\t\t\t\t_encode(stream, data);\n\n\t\t\t\treturn Buffer.from(stream.toString(), 'utf8');\n\n\t\t\t}\n\n\n\t\t\treturn null;\n\n\t\t},\n\n\t\tdecode: function(data) {\n\n\t\t\tdata = data instanceof Buffer ? data : null;\n\n\n\t\t\tif (data !== null) {\n\n\t\t\t\tlet stream = new _Stream(data.toString('utf8'));\n\t\t\t\tlet object = _decode(stream);\n\t\t\t\tif (object !== undefined) {\n\t\t\t\t\treturn object;\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn null;\n\n\t\t}\n\n\t};\n\n\n\treturn Module;\n\n}"}},"game.ui.sprite.Background":{"constructor":"lychee.Definition","arguments":[{"id":"game.ui.sprite.Background","url":"/projects/flappy-bnn/source/ui/sprite/Background.js"}],"blob":{"attaches":{"json":{"constructor":"Config","arguments":["/projects/flappy-bnn/source/ui/sprite/Background.json"],"blob":{"buffer":"data:application/json;base64,ewoJIndpZHRoIjogMTAyNCwKCSJoZWlnaHQiOiA1MTIsCgkic3RhdGVzIjogewoJCSJkZWZhdWx0IjogewoJCQkiYW5pbWF0aW9uIjogZmFsc2UKCQl9Cgl9LAoJIm1hcCI6IHsKCQkiZGVmYXVsdCI6IFsKCQkJewoJCQkJIngiOiAwLAoJCQkJInkiOiAwLAoJCQkJInciOiAxMDI0LAoJCQkJImgiOiA1MTIKCQkJfQoJCV0KCX0KfQ=="}},"png":{"constructor":"Texture","arguments":["/projects/flappy-bnn/source/ui/sprite/Background.png"],"blob":{"buffer":"data:image/png;base64,PNG\r\n\u001a\n\u0000\u0000\u0000\rIHDR\u0000\u0000\u0004\u0000\u0000\u0000\u0002\u0000\b\u0006\u0000\u0000\u0000\u001cÍ\u001e¹\u0000\u0000\u0000\u0006bKGD\u0000ÿ\u0000ÿ\u0000ÿ ½§\u0000\u0000\u0000\tpHYs\u0000\u0000\u000b\u0013\u0000\u0000\u000b\u0013\u0001\u0000\u0018\u0000\u0000\u0000\u0007tIME\u0007à\u000b\u0015\u0013\b\u0001k9)\u0000\u0000 \u0000IDATxÚìÝévÜH\u0012¦éÏ\u001cà¢Ìê¹ÿÛ«Ó§»+%\fÀÍæ9\"¨ÔFR±`ysTRf¥D\n\u00018ÌÌÝÍíÿýO!\u0000\u0000\u0000\u0000\u0000°jK\u0000\u0000\u0000\u0000\u0000\u0000\u0005\u0000\u0000\u0000\u0000\u0000\u0000@\u0001\u0000\u0000\u0000\u0000\u0000\u0000P\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0014\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0005\u0000\u0000\u0000\u0000\u0000\u0000@\u0001\u0000\u0000\u0000\u0000\u0000\u0000P\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0014\u0000\u0000\u0000\u0000\u0000\u0000 \u0000\u0000\u0000\u0000\u0000\u0000\u0000(\u0000\u0000\u0000\u0000\u0000\u0000\u0000\n\u0000\u0000\u0000\u0000\u0000\u0000\u0002\u0000\u0000\u0000\u0000\u0000\u0000 \u0000\u0000\u0000\u0000\u0000\u0000\u0000(\u0000\u0000\u0000\u0000\u0000\u0000\u0000\n\u0000\u0000\u0000\u0000\u0000\u0000\u0002\u0000\u0000\u0000\u0000\u0000\u0000\u0014\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0005\u0000\u0000\u0000\u0000\u0000\u0000@\u0001\u0000\u0000\u0000\u0000\u0000\u0000P\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0014\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0005\u0000\u0000\u0000\u0000\u0000\u0000@\u0001\u0000\u0000\u0000\u0000\u0000\u0000P\u0000\u0000\u0000\u0000\u0000\u0000\u0002\u0000\u0000\u0000\u0000\u0000\u0000 \u0000\u0000\u0000\u0000\u0000\u0000\u0000(\u0000\u0000\u0000\u0000\u0000\u0000\u0000\n\u0000\u0000\u0000\u0000\u0000\u0000\u0002\u0000\u0000\u0000\u0000\u0000\u0000 \u0000\u0000\u0000\u0000\u0000\u0000\u0000(\u0000\u0000\u0000\u0000\u0000\u0000\u0000\n\u0000\u0000\u0000\u0000\u0000\u0000\u0002\u0000\u0000\u0000\u0000\u0000\u0000\u0014\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0005\u0000\u0000\u0000\u0000\u0000\u0000@\u0001\u0000\u0000\u0000\u0000\u0000\u0000P\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0014\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0005\u0000\u0000\u0000\u0000\u0000\u0000@\u0001\u0000\u0000\u0000\u0000\u0000\u0000P\u0000\u0000\u0000\u0000\u0000\u0000\u0002\u0000\u0000\u0000\u0000\u0000\u0000 \u0000\u0000\u0000\u0000\u0000\u0000\u0000(\u0000\u0000\u0000\u0000\u0000\u0000\u0000\n\u0000\u0000\u0000\u0000\u0000\u0000\u0002\u0000\u0000\u0000\u0000\u0000\u0000 \u0000\u0000\u0000\u0000\u0000\u0000\u0000(\u0000\u0000\u0000\u0000\u0000\u0000\u0000\n\u0000\u0000\u0000\u0000\u0000\u0000P\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0014\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0005\u0000\u0000\u0000\u0000\u0000\u0000@\u0001\u0000\u0000\u0000\u0000\u0000\u0000P\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0014\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0005\u0000\u0000\u0000\u0000\u0000\u0000@\u0001\u0000\u0000\u0000\u0000\u0000\u0000P\u0000\u0000\u0000\u0000\u0000\u0000\u0002\u0000\u0000\u0000\u0000\u0000\u0000 \u0000\u0000\u0000\u0000\u0000\u0000\u0000(\u0000\u0000\u0000\u0000\u0000\u0000\u0000\n\u0000\u0000\u0000\u0000\u0000\u0000\u0002\u0000\u0000\u0000\u0000\u0000\u0000 \u0000\u0000\u0000\u0000\u0000\u0000\u0000(\u0000\u0000\u0000\u0000\u0000\u0000\u0000\n\u0000\u0000\u0000\u0000\u0000\u0000P\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0014\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0005\u0000\u0000\u0000\u0000\u0000\u0000@\u0001\u0000\u0000\u0000\u0000\u0000\u0000P\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0014\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0005\u0000\u0000\u0000\u0000\u0000\u0000@\u0001\u0000\u0000\u0000\u0000\u0000\u0000\n\u0000\u0000\u0000\u0000\u0000\u0000\u0002\u0000\u0000\u0000\u0000\u0000\u0000 \u0000\u0000\u0000\u0000\u0000\u0000\u0000(\u0000\u0000\u0000\u0000\u0000\u0000\u0000\n\u0000\u0000\u0000\u0000\u0000\u0000\u0002\u0000\u0000\u0000\u0000\u0000\u0000 \u0000\u0000\u0000\u0000\u0000\u0000\u0000(\u0000\u0000\u0000\u0000\u0000\u0000\u0000\n\u0000\u0000\u0000\u0000\u0000\u0000P\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0014\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0005\u0000\u0000\u0000\u0000\u0000\u0000@\u0001\u0000\u0000\u0000\u0000\u0000\u0000P\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0014\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0005\u0000\u0000\u0000\u0000\u0000\u0000@\u0001\u0000\u0000\u0000\u0000\u0000\u0000\n\u0000\u0000\u0000\u0000\u0000\u0000\u0002\u0000\u0000\u0000\u0000\u0000\u0000 \u0000\u0000\u0000\u0000\u0000\u0000\u0000(\u0000\u0000\u0000\u0000\u0000\u0000\u0000\n\u0000\u0000\u0000\u0000\u0000\u0000\u0002\u0000\u0000\u0000\u0000\u0000\u0000 \u0000\u0000\u0000\u0000\u0000\u0000\u0000(\u0000\u0000\u0000\u0000\u0000\u0000@\u0001\u0000\u0000\u0000\u0000\u0000\u0000¬[Ï%\u0000¶#®ð5Ë\f\u0000\u0000\u0000P\u0000\u0000på$?2#7IÅÚ\u001f;%éÙ\u001f­8~MöïÚ¯§¯Oq\u0000\u0000\u0000\u0000 \u0000\u0000à\u001c¾2¹7LÅ¦_çÏ§\u0002iÊùóßýi\u0001 \u00142E¼.\u0000ä?Ô\"NÅ\u0000Wäÿ\u001f¢\u0000\u0000\u0000\u0000@\u0001\u0000Àoþ\"©³SR_¦_[&õL?\túï\bïgÀ¾Ké§¯ë<B5L\u001eY\u0004ðÈ\u0002G´ÿÿô½Ø®Ñôg½á/Úþ\u001bÿÁ¿\u0006\u0000\u0000\u0000(\u0000\u0000¸ZÒÝo\tW¤Þ¤¾%û¥|ýFK_sþu\u0012ßýû8%Ñ½ú©RpL¶Cªê«ÀiÅÀÛ\u0012ðiÁ´ÊaZ\u0005!I]Ék÷Æü_£þÌÐ©Xq®â\u0004\u0000\u0000\u0000@\u0001\u0000À\u000fÒ)¡íÍ´+R_,gþ_¥¢×HòÏZ$8\u0016\u0006Lw%ÿfh\u000f­\u00180zhðV\fÐi+ý éï_]£þõ5¶7¼ãÚLßÇ´b¡FhðoW+ÌýZ\u0003\u0000\u0000\u0000\u0014\u0000$ýÓLÿÎL»ÿÔ¬/ôîv\u0011)©Þ¶} 7Õ\u000eî\u001a]-\tã×µ¤_LwÅÚL¿ýðÏ|×÷Ó~On£ÈOä¡Ü¥1B\u0007\u000f\u001dêiÛ\u0002\u0000\u0000\u0000@\u0001\u0000À»\u0013ÿbÒ¾3íK&þe\tÿ{\n\u0002&é¾ä\u001aþP®\u000e8xÈ#ôØ\u0017õ\u0017.Ä«_X+ÈìI½ô\\CÏ54¶U\nÔ\u0002\u0000\u0000\u0000@\u0001\u0000À/~S.Y¿ïLw].ßZÒÿ¦$\\j«!ì¸_?nøýÜu¦»Î4zè©^jðy\u0001\u0000\u0000\u0002\u0000ïuIä}gÇåý$ýï/\nÜ|\u0000-¦¿i_\\O5û\u0005\u0000\u0000\u0000\u0000\u0014\u0000\u0000¨7é¾ÏÙãBOùU0Iw]Ñ¾\u000b}\u001dCO#«\u0001\u0000\u0000\u0000@\u0001\u0000Ø¬Î¤O»¢\nyÿJ\u000b\u0001¦Ç>{9|\u001e(\u0001\u0000\u0000\u0000\u0002\u0000°­\u0007Ì¤û¾è¾kÝí¹$«/\u0002ä¶Ð?\u0007Wå3\u0007\u0000\u0000\u0000\u0005\u0000`½B9\u000bü©3í;S1#\tÜT\u0011 'ü{Wôet\r§\b\u0000\u0000\u0000\u0000\u0014\u0000%þ÷ÅôÐgs?ò¾íÚw&©èkÍã\u000b¹\u0017\u0000\u0000\u0000@\u0001\u0000XCò\u001f§£áöÅÔ\u0019\u001dýE\u0014\u0011\u001a¹!\u0000\u0000\u0000@\u0001\u0000Xpâ/©HzlýûWçÔ\u0003ÓvèMÿÐ\u0018\u0010\u0000\u0000\u0000\u0014\u0000å&þ»\"Ý\u0015Ó}Wû¼Ióðú>1Ë\"ÀC/=!\u0017\u0001\u0001\u0000\u0000@\u0001\u0000Xi¯ÿ}gÚ\u0015#éÇoî\u0017Ócg\u001a½jp®\u0007\u0000\u0000\u0000(\u0000\u0000Iþ\u001fº<Ú¯+¹ÿ\u001fø®­\u0004ðÖ\u000fU\u0000\u0000\u0000\u0000¸z.Ã%\u0000Þ&É¿é±oþHþñûgê\u0013Á\u0011\u0000\u0000\u0000Ü\u0002+\u0000·>,\tÜcoÇ\u000ex]1õ&q÷\u0000\u0000\u0000\u0002\u00000Kû3ÿûE3ø¸\b©+Y\b\u0018\"\u0000\u0000\u0000\u0000®l\u0006ø\u0005tW¤¿wEw=\u000bþ°\u0000 \\IÒ\u0017V\u0000\u0000\u0000àúX\u0001\u0000üD±Lþ\u001fû¢bÆ~Eg¦\u001d[\u0000\u0000\u0000\u0000@\u0001\u0000ù7}êMfôkÇ\u0019ï-ÌL\u001c\u001e\t\u0000\u0000\u0000\n\u0000À\f|êM\u000f½ÃÚpví\bÀ¾H£ÿ«8 ì\u0011ð³».BªÁö\u0001\u0000\u0000\u0000P\u0000\u0000þIúkgº+ì÷ÇÅòõfú«/re#bRyçJÑCcªKc\u0006Ï?\u0015\u0000\u0000\u0000(\u0000\u0000¿IÊ:\u001e»¢»bbÕ?.ÉLÚýQÂ¾+¦^&u¹2À\u0015ª\u001e:xè¹R\f\u0000\u0000\u0000\u0000\u0005\u0000àÉoÒ}gºï¤\t×+\u0004é÷IE¦®3íôÐ*=W×\u0018\u0014\u0003\u0000\u0000\u0000@\u0001\u0000K°ï;ÓC_H°höº\u0018ÐKû®Óà¡ê:8×\u0007\u0000\u0000\u0002\u0000°a\u0011ÒãÎt×h®u\u0015\u0003zºÎÔ[ÑÞCO54\u0006«\u0001\u0000\u0000\u0000(\u0000\u0000\u001btßIw©7\u000eeÃúL÷t_L]1õ%ô\\C/\u001e\nnx\u0000\u0000\u0000\n\u0000Àfn~\u001eûBòM0IûÎÔ©T××»\u001e\u0000\u0000`k8ë\f3uüèM}¡é\u001f6tïG»÷»¢{\u001f\u0000\u0000`kX\u0001Í)öÅtßcA\u0000ØL\u0011@R1éÓ.»|©¡ÊC\u0000\u0000\u0000@\u0001\u0000Xcòs×îÛì'y\u000f¶ÊdúÔ¹F\u0003\u0002xÛ;ô4|ûóï~ß~/\u0000\u0002\u0000pÙ\u001bÞ¤}v}ÿÛ\u0001L¡/\u0002\u0001üÈtÄèéç,¢\u0017Ëþ]ö\u001fjûY\u0011\nI¿\u0004\u0000P\u0000\u0000Þ\u0017¼Å\u0014d<ô¦}aî\u0001xý\u001cÝ\u0015vE\u0007§0\u0006@Rn³à÷fÚ\u0015Sgj?r\u000bÑ{\u0012x3ÉCª\u0011ª\u0011\u001a\\\u001a=ÿ9Ú{ñ\u0007\u0000(\u0000\u0000§eí\u0017ÅòGo¦òÎ\u0002À])ê \u00038>\u001bíÚ\u0017Ó}oz\u001eç\u0003ØðûÖ$uÅtWr\\è^5ËW?¿wö~úï;ËÓHîJ~1\u000fiðÐKu\rÿÌ\u0018\u0004\u0000\u0014\u0000°Ñ@$'&M}vfêTZ(òÑ\u0000À\u0002øq\u0011à±3\r5û\u0001\u0000ØÞ;wê³+ßöÉ¹Ä\u0010íLYh¸+\\¡ç\u001az\u001eã´e\u0000\u0000@\u0001\u0000+\u000fBLº/¦».gùí_ëü\t\bË(fzèMO54Ò\u0010\u0000ØÎ2ñèLåÕûöÚïÚPö\u0016xèL÷4zèë«\u0002xï\u0003\u0000\u0005\u0000¬ñf,ÒcW´/öæ½ý\u0000Îk_ry®ëçº=â¸L7ºG.ÝýÕï\u00030\u001ffÒ}gº/¦~f½qL¹úïì;=¡çê¬L\u0002\u0000\n\u0000XP6 »ë2ñ(dþÀM7õÖøù)\u001a\u0011Y ¨ªÆÖèë4ÇS\u000eÜVgÒvåýýsõÐîº¢\u001aúL\u0015\u0000\u0000(\u0000`ÉF\u001eAv×ega\u0000Ëñ³GÖ,\b½¤(v<\u0002LÊnß£V\u0014x\u001dË3\u0004\u0000\u0017!í;é¯]Q¿ {1Ó]]\t¾ÎJ#\u0000 \u0000¥Ù\u0017éS_G\t\u0001XiÀNz±\\j|\u0017R(Ú`Ù\u0001üàÙôb\u0000p¹äÿ¾3=ö¶¨äÿT\u0004Èï_fz\u001a³Hü\u0000\u0000\u0014\u0000°\u0000¤_n\u0000\u0002àÏ\u0002Ö*\u0003åKh_L\u000f¯Î\u0006\u0001l\u0019\u0000ÎçSG}v\u000b~÷fß¢\"×S\r\u001dñ\u0001\u0000(\u0000`¾É¿¤Ç>\u0018\"ù\u0007ðº Ð©iWB÷aª[\u0006^<\fF¶\b'Ø\u0007ÞùÞ-jÍþ\u0016ü¿\u001e3îº\")äáÇC\u0000\u0000\n\u0000Y\u0000òØå\u0011c4ú\u0003ð£qBÊm\u0002I;I\u001eY\u0010¨!meÀè\u0014\u0002·*víÝÛ­èÝkÊCÞ¾\fÁ1\u0000@\u0001\u0000s\nê;ËNÿ}a¿\u001e7\u0017\u0003Ì¤½$S-¡½¶M`:zb\u0000ðç(¤]Å÷ne/ßhãÃ}1E/=Õ,\u00142\u0016\u0000\u0000\u0005\u0000ÜXÑüÓì\u000fÀÇ\u0001Ù\u0005\\ÚË4øT\u0004P\u001e3Hà\u000f|§+ùþÝ\u0017[í\f¹é¡3árö\u0002\u0000\u0000\u0005\u0000ÜÞ]/çÎ%z\u0000ÎR\fØ\u0017Ó®Xk\u001ah:Ô<EÀ§¤K\u0005è¾Ë£óÖþîµv:Gn\u0013âù\u0007\u0000\n\u0000¸ÕÍUò¥Ü\u0017\u0000ç/\u0004ôfê»å|ª®Ás53à`ã:ËBY_l\u0013ÏÃ¾+\u0000\u0000\u0014\u0000p\u0003¦ÜwHò\u000fàÒ\u00003é¯]ÉS\u0003jèiüö\u0018A`krå]ö\u0001ØJÌ±/¦±^ÚV\u0000V\u0002\u0000\u0000\u0005\u0000\\óÆ*Ò¾+*\"\b\u0007py\u001e)\u0019ÝÐSÍb\u0000Û±%SãÝ}'îÄþÞ}1ÝE6\b}ïï\u0015\u0005C\u0000\u0014\u0000?x\tôØÛéÅ\n\u0000WTÌôW*\u0004\u001c*Ça\u001bré>\u0003¶±w°)û\u000eu¥üö¿VFÔ<ÚQ£'P\u0010\u0000@\u0001\u0000xç\u000b¸3Ó®\u0005\u001f\u0000p\u000b¡S³ÀC\tý3¸Ø\u001eµ½oïÝ=1¦·ü¿¾&»·\u001c9Ôþ]ûéw¸²@4\u0012\u001aB\u0000\u0000\n\u0000À/\u0015Ëåÿ®ÿ\u0000fP\u0004r9ôÿ]>\u000f®\u0003\u0001=ü}ìïI?åös\u0015&Ó¾dñPªíD\u0000(\u0000\u0000?}ö­ó0ïI\u0000³JÌô?ö^jèk;6´\t\bÔLÚ<ÒoG²U]1}*¦N\u001aÜõT9i\u0000\u0000\u0005\u0000à» »#>\u00010C¡\\\rÐ\u0015é¥J_Æì\rÀ9Ý£SÂ¿+Ò¾\u0014M+Ú¹Oo\u0019ÛHw]Ñ¾Ëí\u0001_Çì-b|(\u0000(\u0000`ÓKd\u0003¢åÿ\u0000f¬³<- äznK{ãq«_\tæ¾îzSoYL'éé¸Án'\u001d:é¹¾ÿÔ\u0001\u0000 \u0000Õ(&6Û}\bÀ¢Æ«Ç¾\u001c\u0000N\u0011\u0000WNüMÒ}'Ý¢¾d#:Vø/Cg¦Î´³Ðçm\u0001\u0000(\u0000`Ë\u0005\u0000ü\u0003X\u0006ô©/ê,ôutV\u0002àâI¿ÚJ¹».÷ôw¶Í#ûV\u0013D\u0017Ó§>\u001b|\u0000(\u0000`Á4Á3%)î;S±¢¯c°\u0017Iü%í,{Pì:Ëîývúÿ¹ëkWLíF×\u000b+\u0001\u0000P\u0000\u0000\u0000`ÞÉYtWL¥¾¹§\fç¸·LÙÔoêà¿3S1þµÙ\u0017íl\f=4\u0007\u0004@\u0001\u0000\u0000Y'j§ ^ú2H/\u00178&0þ\u0019¤©mÊ/_Hþ:£lÈ1~pmÛ?½íÚJGþ°3^Û\b©oçÉï;\u0012ÿ-Ü;3©ÏÏþÅ9a\u0004\u0000\u0005\u0000\u0000\u0000æ\u001fÄ\u0017Ó§^²*½Ôøã?oJ&é¸ß»¼JüßZ\u0000\be\u0011 Bò\b¹¤ê¸Ê¶hüûÚ\u0016µkk§~4ï*\u0000L×9¤*©FÈýÁ½çú¶Ô_rÖ¿+§Ï\u0010ë¾'{3=ö³\b\u0000\u0005\u0000lO\u0001\u000eÝ\u0000,5LÞ¦$òùEé¿.Ê\u0019àÎL¤®X;&õ¨Þ>VM+\u0001B\u001e¦\u001aÒè-Qü¹V?ë8mÙ®ighw\u001f¸¶Ó;ËÛ{¬FhtS-ÑV\u0007äµõ_\\ÛéûÚ¼î;Siÿuð>ÜV`]Lô%B\u0003E\u0001P\u0000ÀÕ\u00168)xÝ\u0001X.L$?µ7äK_&S\u0002h-1íÍË¿ûøOI`¼ú\u001aï-Ld®çÄç¾rIa\u001aC\u001aÜ5¸4FäÊ\u0015\u0015\u0002¦k[Z¢ßl¨·k×÷u\u001d\u001f¸¶S\u001d`úü^_Ûê¡ÁCÃT\bøA¡ejð7íõgÆÛöéà¦ZY\u0005\u0000\u0002\u0000VÌì4{Rè\u0003`áIg1Ó_}þúWÛ\u0001^'û.\u001b¾\u001dg?¾-_=þ¢3©ï\u001eº,\u0000<8ÿ×¾ãµm³ë½]îÚ\u001e/ë7×6\u0013û\u001a¡*\u001d<¯¯·ÙÝ}\u001eú¢]iÇùñAÒ}o\nIO5X\u0005\u0000\u0002\u0000ÖË#4iÏÛ\u000eÀ\nX[\tð³í\u0000Å2\u0001¼ï^%ºþìïôõz3ý½3ykèÅC£/s6Ú$uEzèJÒp£½ôÇm\u001dm÷£LOÕõR£\u0015Löª(\u0001H¹\u0002¨v­! 7\u0006\u0000\n\u0000Xe ,µ¥¨¡»b\u0004B\u0000Öñ¢4Ó}³Í6ålÊ½¾÷ÅôÐ¿[{ñªpñ¸3í=W\u0004\u001c<W\u0004,Eg@}êMÅò}2$jú\u0016\u001eÚ\u000b~üô^\t©S\u001e1ú\\¹K\u0000P\u0000ÀJUF# \u0002°¢@^¹ßü±|ÈDúSoºïÊ©áÜ\\\u0013\u00103ýµ3U\u000fý3¸\u0005\fÎ÷]\u0016UvSâ?Ó{\u0002øÝ=Ò\u0017Ó½D\u0001\u0000À¬\u0014.\u0001ÎÊ²\u0007ÀÆ7\u0000V¦/¦¿wEïö3Oþÿ­+¦¿vEû¯Îúwò\u000f,<$Ri§U\u0000\u0000\u0005\u0000¬öeç!=×ÜtÊ;\u000fÀÆ·¾dC¸n+úbú´3=tóJ®§ú\u000féS_Hþ±ºqcßú\u0000\u0000\u0005\u0000¬Ö\\m\u0002ÀõfzìM3\få~ÿûÞôi·¬U\u0015À[îokGV\u001a÷6¹Ä\u0002\\\u0002\\\"»ëxÙ\u0001À\u001cu­\b e'ûªÛ­Ö*3ÿ=ó\u0011X§éPV\u0000\u0000\u000bÞ¸8{\u0005 \u0018ËÝ\u0000`Ö/\u001ezS_n|êrK\u0002ï\u000b¬Y_LÜå\u0000(\u0000`µAeoyl\u0013\u0000`¾:3=ô­1à\u0015kM_ê±Ï~\n=ÿØ\u0002Â\"\u00003Á\u0016\u00005¨ëMb%'\u0000,Ã¾¼Æ\bù²p´+ý1ÀÙ¤·ÿëw=OÀ¦\u001f©8õÛ(íç·ðÈãrã_¿g\u000bÏ\u0014\u0005\u0000í!È£¦zfÿ\u0001`\u0011ìX\u00040}\u001eãâÏT(~ì9\u001a\r\u001bâ]DäI1SQ´äåmÍ\u00022qÉãkäé8\r\u001e+¬=ßÈã5§\u0015ÇùózØ;\n\u0000SòÏQÈ=®Ïl½\u0005\u0001\n\u0000ø£ð\u0014@fÛ}1u×\u000f\u0000,e\u001cïLÚw¦¾fàséC¾+X*íð\bB]vÅ¯rüY2Ë\u000e\u0001oí\u0013\u0010\nEäÖ\u0019\u000fÉ%UV\fÈ_ÇhÀ\u001aò®¨Ñ[N8fsÍö³écËiÚï«aò.+oEµ±=KÕãX\u0010XËóD\u0001\u0000\u001f{\u0010Cù\"+v|\u0018w­ñ\u001fË9\u0001`Y:e3¾¯­\bp 'Åâ=ï\nlÐC_dÊYÿN9sù³Dç÷9Ë·Y&0Y\u0004°câ2zh\f\n\u0001XvÒßµâY6ÔììT*þ»\u000f÷±i¿¯X>­\u0012'4©FhtilÅµÑO«\u0010(\u0000`3\u000f£©=µY|\u0018_/£\u0001\u0000,lloÇ·>ÕøfòGÙO¾Po¹Rw\u0005¶¤é±ûö?|f¿ùç8­®ÙI\n<B\u000e\u001eÇBÀ\u001a\u0012\u0017l#×è-\u001bÕîißé»¤?.ôµ_ÿb*>Üö<éPOÏ/øy¢\u0000w=}1Ýwù0Èò¥ãDr\u0000°$å®Ë\u0016½5w\u0005\\q*\bÇ÷E¾äÏ{\u0003[¥®ù5î{é.²\bðRCC[Ê¼äÄ\u0005ë6-óß\u0017Ó]×úbèvÇ­4fº3é®\u0006\u000f½xd1`¡ï2\n\u0000øýMÒ\u001eÆ»NÚrZºI\u0000\u0007\u0000«òW_¾k \u0014méã[©ºTujR¦¶²X\u0006wÁ»\u0003¸NòÒµ»\u00137\u0007\u000f=·B@å9Ä6ãßµãa5¿ÅÓ÷2m\u001eKèK[\u0011°´Â\u001a\u0005\u0000üTîU3=ööÍMÞ\u0019\u0000°ÒA?NÐ³SùÛìº×oW¿d«\u0018pÓÄeß\u0012C\r}\u001d]\u0003\u000f#ætßYöÉ°Swþ¹?O]1ý§Hçö¹CÅ¼ß(\u0000à'V\u001fz;\u0006q¼'\u0000\u0000o\r~ÿ/\u0001Ü¤\u0010ÐúRôÏ\u0010:øÏÿüSÿ]Hd\bÀò».\u001bÐîZoå­\u0010Ë~h^,\u000bkN\u0001\u0000KS$}êK.¿1\u0006l\u0000\u0000ÕÅ{fúÔz\u0004ø\u000f².k\rÐ>Zh¨\u0011Çd.%\fUÏþ\u001f!\u0003$ÿÒ_;Ó]W\u0016*L(·0<ô¦])úïà³ßbC\u0001\u0000Ç\u0007qW2ùï\u000b3þ\u0000\u0000\u0000kÖ\u0017kÀ%v.ÿüÏôé|õé¸ÂvdáÜ~ã<:þ³/\u001f.0ÍýúÏ¾èóoV×P\u0000À,\u001eÄ.\u001boÑ\u0017\u0016\u0000\u0000\u0000Q,Wîþ\u001eM\u0005êÒ\u0018@qbÈz²\u000fÅß½©[q¾Ñ·Õ5¥ë<\u001b\u0003R\u0000Ø¸»Öäoõ\u0007\u0000\u0000\u0000®­3SgJ(\"IÕCc\u0006^^\u0015\u0004ZÅCzìMzSÙÀdã¾´\u001bYy\u0004'\u0005\u0000Ü\\(gý\u001f{Ó])\"÷\u0007\u0000\u0000À\\L¡i_Lò(êOmÛÀ¡Á>´s×\bcçï±Ï=òÙ&¶yò¸Àb¹åeYg@\n\u0000\u001bã\u001d7\u001f;Ó®3\u0006M\u0000\u0000\u0000Ì¾\u0018`Û\u0007z3=tX\u001d<ô\\£5\u001a¤\u00180G»vªX¿äÿµÎLõÙ\u0018pQÁ\u0002À¤^Çã6\u0000\u0000\u0000E\u0015\u0004,\u0017W\u0017Ë\u0019å».4ºtðÐà¡qFÛ\u0004þ4á]r´\u001ez>µä«úbzì¶Å%Eëwáq:nóW\u0002ÀF\u0012S&þ\u000f\u001b\b\u0001\u0000\u0000°üØv*\u0006ô2u]Î4×È\"@\u0016\u0003®¿* ^\u0005Þ¥\u001d¥X[oß\u001a~{K\f]¹åÁãôgÚ>Þ¤Ç¾0é¨\\}½/¦P($Eäjü¬³5´¢À5>k\n\u00007\u001a°>Ê>ðõ:î[ÿä\u001f\u0000\u0000\u0000+­;Ë%×}1íÛJg\u0013¶K\u0016\u0002¦?ûôõóçÒ¸\\±ðÆiÞ¶!4\u001dhòÖû`ôéøÄùow(-é½ïÈ;¦ÝL²Ý\u0007S1À»P\r;\u001eyð,\n\\ês¦\u0000pÅßÕ°Òn·\u0016Ä¦\nÑëå\"o\u0019GBR§Lþ\u001f9â\u000f\u0000\u0000\u0000+¹M¹\u001a ´+ùë\u001aò3%TÓ×ê-xïLêJío?ÿ,\u001føm¦¨(¾úF]¦êùýþ¯\u0019ã\u0015\u0003¢å\u001ew%Ó]Nrüõ}0­bé-?IWhï¦¡­b\u0019#Týí+H(\u0000ÜøÃ*å¸WéUEðu5ð\r^DÈuª\fy«\u0000Ö_<üÅrÙÿ}þy\u0000\u0001\u0000\u0000°X¼7Sße!`0\u001d·\u0006|´\u00100ÍÁí,\u000b\u000bù#û\u0011Øë¸ýÌâTÔò¹Üê0%ójØYÎþï{|àó6öåõ\u0016éà:~Î:ÃçL\u0001àÌ\u001f^Ô6à¬æ\u001cÏ5ýÍÃý+ÇÙûö³{[\u000e\u0014ÀWißÍ}_rÙ¿Hþ\u0001\u0000\u0000°ÍÄjg¦¾Ï­\u0001/íÇ{XÇ«$|W2\tß½é?GÒÿ$q*lÜ\u0015ÓÁ½%¹íáÖE;¶\u001cí³ÎÏÙ´/¡Û±ÑeýÃÏ\u0002ÀL>¦¥F»r¡J`ê\u0000;3í$©k\u0015À\b\u001d<ÿiß\rKo\u0000\u0000\u0000@BËõûbÚµÞ\u0000W³ª¿Òµ¸û¡?Åø×Hú÷÷1î»¢».\u000b\u0000O£k¶\u000bß)\u0012\u001d+Ïú9vôå¾ÝõRs[ÀG¯1\u00053Üè}1Ýw:-µëW\u0002wÅ´3Ó]ä×ïí¶\u0003\u0013\u0000\u0000\u00000ÇjÁ©®§úªÇÖ\u000fìJNªÝu§&n1Ó¿S¿/z©ÒsmçÎ_9'ÚÌ¼Ìç\\LúÔ\u0015í-ôTãm\u0001\u0014\u0000®tÖ]ÿ±/Ç\u001býV\u0015·éØÒ¾9\u001e:\u0000\u0000\u0000àçIó]W´+¹\u001aà¹æ\u0012úoÿ<Çþ®³ÅøïQdúÔçÏ_ãû¿Ï%¯ggÒC?¿\u0002É\u001aïÝ][ÉòR]_k¼»ØC\u0001à#\u000fWKüï:SoÜè\u0000\u0000\u0000À2ãzÓcoêKÎª\u001eÚjgÒ§v½/(Ð÷ÈÂäú2~lø£×±Õ\f\u0011-\u0002HÓêóÐ×1·³P\u0000¸ÐÅîMú´3ÝÂò\u0016\u0000\u0000\u0000`\u00051þ®d\u0002ûR\\\u0007\u000fýÕ\u0017\u00057³»ë:\u000bý3øÅW\u0002L+£;£óÿµïÛ}1E/Å'\u0005¼EáÒ½]?5Ú(åxÑ\u0001\u0000\u0000\u0000,ßÔTï?»nÑÉÿ1w)¦ÿ±/Ú_0ã&H÷\u001cûw³\"À]1ý½+ºëÞ¶\u0002\u0002À;\u001e O}Ñ§-\u0000\u0000\u0000\u0000æ¯XK\u000e/ çì?×úEÜ²'Òýî£ \u0000ðäß¤¿úì\u0000Je\u000b\u0000\u0000\u0000ÀRtfºïíW\u0002¾=e,AÏR\n\u0000óøÿÞ\u0015íJ\n÷ÓÜKõ»\u000b)ý½+êYÖ\u0002\u0000\u0000\u0000`a¦eâÑ\u0017\r\u0007Ó?ý¢Ô\u0017©©kþ´ßb&ÿÍD1Ó§]Yla\u0014\u0000Þ÷ dÃ¿Lþ\u0001\u0000\u0000\u0000`©ví¨¾ç1IþñçÈÏ¾H½å1s½Iöª³ÿó\u0019Í[o¦û.OøQc@\n\u0000?½pí¨?\u0000\u0000\u0000\u0000\u000b\u0016ÊÙáNz©¡ê9¿/Ó\t\bùÿ\u0017LvÕçÔ³eÚ\u0015ÓC\u0017\u001a~°à\u0002À\u001eö]îù\u0007\u0000\u0000\u00005èÌôÐ\u0014ùë®HESâ*\u0016è\u0007¿Ærc\u0011@z®!×éó¥\u0000ð\u0003».\u000b\u0000e\t\u0000\u0000\u0000`MîKùá\f?yÏzL+>\u001e{iû·Å\u0001üû¡èL½1û\u000f\u0000\u0000\u0000`]~6ÛõéÌ´û×)\r\u0014\u0000¾»H¹\\¢\u0018\u000f\u0004\u0000\u0000\u0000\u0000`BÒ}ÉÉíéh@\n\u0000¯²\u0011FÑÝ\u0012\u0000\u0000\u0000\u0000°h»bêËé\u0014Í\u0014\u0000â7?<ò¢ì»ìzÉì?\u0000\u0000\u0000\u0000`\rE};Ýn\u0015M\u0000§dÝ^ýüz\u000bÿïfó­ýOßG0û\u000f\u0000\u0000\u0000\u0000XC®ÜiWB/¾Ð\u0002À°Û7I;¾ÂBE­ÑÁ´ÌÁ¾m|ð£?¯³6óÏÔ?\u0000\u0000\u0000\u0000`%:Ë\u001f¦\u0005\u0014\u0000\t~ûM\u0001Sß:\u001a\u0016Ë}û?óÖä\u001f\u0000\u0000\u0000\u0000°69)\u001e¿/\u0000üÉrøæÓÓ×ìÌ´ë¤N¹7¿{µ<?Îôµ\u0000\u0000\u0000\u0000\u0000Xw\u0001@Ú\u0017ûq\u0001 \u001cgØ³K`±¬\u0018¼5é\bÕª·õ¶ÙõÒà{èr/þâ#Ñ\u0007\u0000\u0000\u0000\u0000àýE>Ô\u00060©7é®3Ù\u001f7Â³ïöÑC\u0007\u000f\u001e\u001aCªÅ]gº/¦]ù¾È@²\u000f\u0000Àí¤ÿu\u0018õ0\u0003:s\u0000\u0000 \u0000IDAT4ü\u0003/å]1}ê>í8u\u0018\u0000[\teÏ¼¾Hýÿ³/*m¶ý\u0001D?_Ä=ä:­, ë>\u0000\u0000óã\n.®wÇ\t¹\"P\u001f*\u001c\u0000\u00003çä[ëû¾\\/ý>îí/¦Ï\u0000\u0000Y\u001b=gþ?\u0012)$ÐH]\u0000\u0000n_\u0000PnógM\u001e\u0000\u0000ø.H\bI\u001aò\u000fw\u0004ãÿ\u0000\u00009 \u0000\u0000\u0000\u0000¾OÞCz©¶ßÿ\u0003\u0000\u0000(\u0000\u0000\u0000ùiIûàÑ\u001a\u0007}LUn# \u000e\u0000\u0000\u0000\u0005\u0000\u0000\u00000C\u0011¸×?ZÁ\u001f!9\u0013\u0000\u0000\n\u0000\u0000\u0000`~²y_ÎþãÏ\u0002\u0000\u0000\u0014\u0000\u0000\u0000ÀLyÄ±\u0000ðGI|ë&ø§+\t\u0000\u0000\u0000\u0005\u0000\u0000\u0000pnËö\u0007÷³$í¡8ö\u0012\u0000\u0000\u0000\u0014\u0000\u0000\u0000ÀxÆ3fìl\u0005\u0000\u0000\u0002\u0000\u0000\u0000PõÐèçü3¹®\u0000\u0000P\u0000\u0000\u0000\u0000³aFÆìLÓö!iPD°\u0012\u0000\u0000\u0000\n\u0000\u0000\u0000`.F³\u0000ðM\u0011\u0015\u0000\u0000\u0000P\u0000\u0000\u0000\u00003b9û?8³õ\u0000\u0000P\u0000\u0000\u0000\u0000kÎÿ5z¨yÿ?Ç\u0000\u0002\u0000@\u0001\u0000\u0000\u0000ÌÈ¡jèlÉú´`ô¶\re\u0005\u0000\u0000P\u0000\u0000\u0000\u0000·7z\u001e\u0001h$ê\u0000\u0000P\u0000\u0000\u0000\u0000ë5ËÏÜ±/$\u001d7\u0000°\u000f\u0000\u0000\u0000\n\u0000\u0000\u0000àöF\u000fU¥þè-÷ge\u0001\u0000\u0000\u0014\u0000\u0000\u0000ÀmE\u0006ü\u0002³ôÓ\u001fIþ\u000f\u0000\u0000\u0005\u0000\u0000\u0000pccÄÙÿS\u0004Ö\b\u0010\u0000\u0000P\u0000\u0000\u0000\u0000×gÊYÿC½ìQ}.0\u0000\u0000\u0000\n\u0000\u0000\u0000à7B¡\u001a¸Ü2ý,0°\r\u0000\u0000\u0000\n\u0000\u0000\u0000à\u0006ÌriþÁã*MúY\u0003\u0000\u0000\u0000\u0005\u0000\u0000\u0000p\u0003\u001eRm?.©X\u0001\u0000\u0000\u0000\u0005\u0000\u0000\u0000p\u000bÓþÿÁ/?/?z\\¼È\u0000\u0000\u0000(\u0000\u0000\u0000¨\u0011\u001a¯P\u00000cö\u001f\u0000\u0000\n\u0000\u0000\u0000à6Lò\b\rî\u0017ÿR\u001c\u0003\b\u0000\u0000\u0005\u0000\u0000\u0000p»ü_5¤ñ\nù\u0018!W°\f\u0000\u0000\u0000\n\u0000\u0000\u0000àÚ<¤ê¡Ñ¯ñµì¢Ç\f\u0002\u0000\u0000\n\u0000\u0000\u0000à'¦Æ|$å\u0000\u0000P\u0000\u0000\u0000\u0000+eÊîÿ_§\u0002à\u0011¢\u0005\u0000\u0000\u0000\u0014\u0000\u0000\u0000À\r\f\u001e\u001a#®²\u0002 Fn9\u0000\u0000\u0000\u0014\u0000\u0000\u0000À54ºTK\u0001\u0000\u0000\u0005\u0000\u0000\u0000°Zc\rÕ+Ëç\u0011¬\u0002\u0000\u0000àz.\u0001^³ö?çZ\u000e\u001a!ö|\u0002ÀÌ¤ÁÛø|¥\u000e¦vê@:£í \u0000\\-¾·ó\u000eõÄ÷\u0014\u0000°0¤\u0017\u000f\u001djè\\­úbÚ\u0017S_\bö\u0000`\u0016à±\u0000àò¸A\b\u0017âØ\u0001\u0000¸ê¡§¶âë\u001cCo´ïL»¢ \n@\u0001\u0000Ë\u000e\b«B_\u0007×³ûÙ\u001eè]1iW´+F¥\u0010\u0000fd_9\u0017\u000f1k\u0004\u0000×í=¤ç\u001aú2øÙ\u001a¾¤\u0007î:Sa5\u0017\u0005\u0000,x0)\\zv?ÛþÌa\nÕé)¢>\u0000<þïª³7=\u0000jv¢(\f\u0000æ\n½TW=ã1¬\u001eÙ<vðÐ]G\u0001`h\u0002ãÃ<F¨1\"3IÞ~0<\u0000ÀLI£çxí$Ü9\n\u0010\u0000®£\u0005ß\u0007?ïÎ+³üó*c9\u0005\u0000,{|¨m6èÜzÄÔôë\f\u0000s\u0018ï½÷·§\u0018\f\u0000×\u0011m¦þ³ÿ\u0013ÐH5\u0002\u0000­F.å¹D°W#4pÐ4\u0000ÌôÒª²×NÈ]¬\u0000\u0000KöÿO±½]èÏ¦§+\u0005\u0000,u°ì\u0010z¸Ä4½µ\n$\u0001\u001f\u0000Ìb¼÷\u000e\u001eW_\u0000`ÊwÍHÛh\u0000¸¸\u001a¡_f\u0002nÚ\u0002@òO\u0001\u0000\u000b5%èã&é§s\u0001\u0000s\u0018ïCÃ­\u0016e\u0019\u0001#\u0000\\|¨µV\u0000¸Ð\fÜ´Å÷F»É@\u0001\u0000jôËíã¶\u0000\u001c*×\u0019\u0000n>Þ·bïÍNn\"X\u0004«ÈNý\u0017úÃM\n\u000eÕÅ\u001c\u001f\u0005\u0000,4 ¬q¹u<Ó\t\u0003SA\u0000\u0000p}¹\u0004ß5Äíz²d\u0001h\u0011\u0000.ü_cõí\u0018¢\u000f\u0000\u0005\u0000,1 \u001cÝ/¾'3\u001dC\tû\u0000àAaä>|5\u0000Xol?xäÖÞ\u000b\u000eöÙ\u0007 DtO\u0001\u0000\u000bthÄÅÆ\b¢\u001d;Å\u0010\u0001\u00007\n\n-Wc\u001dæp(\u000b\u0015\b\u0000¸!\\ã\u0005W{Y«\u0000\u001cjä\u0016\u0000Æt\n\u0000XP¨Æåe\nµãB'\u0000¸\u0005ogBßr\u0005þñø(\u0001É-\u0000ÍËO+\u0000@\u0001\u0000r¨!¿Ò1\u001e£Óü\t\u0000neðPI\u0011Öy\u001b\u0000À\u0012ólî]¯°Ú«Ò\u0003\u0002\u0000Ã\u000fìKm³Avá¯Õ\u001a?Ñ)\u0014\u0000ncô¸øxÿ÷\u0002\u0000àü\u000e5\u0013ókÈ\u0015¾®JsW\n\u0000X\u000eîò+Ì\b²×@èÇO\u0001ÀB7|}Kæ\u001fÊå©\u0000pxûZÅ^Óu¶\u001b\u0002\u0000ÎhðÐµúAåI\u0000·Ý\n\u0000[4uC\u0016GG\u0001\u0000Î;Îbûë\r²£\u0013ÛS\u0000À\"¤!®üOjd#@\u0000Àõmf\u000eÓî¹\u0016,¾\tX\u0001\u0000ç1øõú{IyºL\r\u0000P\u0000À¬YKÄ\u000f7X9\u0019(\u0000ØhÛ½ætT\u0013u`\u00008ó¸ªìõríÎüã\u000b\u000e \u0000\u000fV\u0000<¤zý\u0019c\u0013*\u0000À5{\"aÉ®ûPÛ\u0002À»\u0000\u0000Î6Ö{^ª_ýkçqâ\u001c\u0007H\u0001\u0000ó\u000f\bãÔï<ÚñO\t\u0001àj\t÷¡Ârë¡wzÿT\u0000\u0000ÀÙcìáFc½Krfø(\u0000`ÆÁ`\u000b¾nP$d\u0010\u0000Ü`Ì\u001f|^³3¼\u0003\u0000àcªMGò]¬¶\u0016\u0014v)\u0000`¦\u0003DKÂ\u001beácäR!Æ\b\u0000¸Bò¯lÐä1\u0015÷y\"\fËE\u0001àlãj¯\u000fõ6ÉEõl6\u000b\n\u0000©1Bãéäy¡·ûú\u0000°\u0015Ó¬ÌPçÕqÿØ\u0003\u0000\u0000p±~\fåX£Þ[\u0001Õ]\u0014\u00000ÓQblËAíF_ß#O\u0002\u0000\u0000\\>(\u001b(¸\u0002ÀªÕpá7í[\u0000x×P\u0000À\u0007\tÎ¾ÔÖ*!\u0000\\0(³\u001cï\u000f\u0004e\u0000°âÁ~Z»±ÞCô\u0000 \u00009'ÿy\\Ç-\u000b\u00004\n\u0001«·\u0019îË\fI/Õ9\u0016\u0016\u0000þ<ÿWÐácýt²«\u0013ßS\u0000Àü\u001cj\u0016\u0001ìFÓï¦vT\b\u0003\u0004\u0000\\ÔØfXm\u0005\u0000ë55à»eAu:â-g\u0014\u00000Çp\u0006ûïBJ\u0001àbÁØàKB\u0019k\u0001`å±ý½&E\u0006Nx¡\u0000ù\u0019ÜUuû\u0019!º\u0002\u0000.¢¶ pÚ~Q\u0017+\u0014\u0000àO\u001cjÜ»ñ`êÊI>Qw¦\u0000\u0019Å[\u0011\u001an¼DHÊÆT¡\\&D\t\u0000\u0000.1ÐæÞÿÑç\u0017MßG.\u0019\u0005\u0000||<\u001dÜo¾\u0002àõ\u0016\u0000u\n\u0000Kò/éà1K\u0011¢ù\u0013\u0000\\p­\u0011ó\u001egy\u0007\u0000À\u001fqåÉ^sXT;Mî\u0002\u0000fàÛÆ\u001cóx0]íh*\t\u0001ÀÙ\r\u001eª>ï\u001cÛ©\u0000\u0000À\u001f©ÓäÞL\n\u0000ÞÏî\u0014\u0000 9<¡CÍAâÖ\t·µ\u0001bd\u0010\u0000\\$\b\u001b<äÒÍN|yË÷8N\u0005\nªÀ\u0000ðîX:B:x;YkFã(\u0005\u0000\n\u0000Ë(¡Ü\u00020\u00072Ú\u0000AÜ\u0007\u0000g\u001fî5Ôýq«A\u000f\u0000\u0000ø£Xú¥Î/Ù\u001e<ß?Äø\u0014\u0000pã kôì\u0010:§A\"] ÿ\u0000à¼^|\u001e+¾~eÚ\u0002@\b\u0000ïd¹º÷¥Îg¬7½ZFpO\u0001\u0000·}\u0018kÄ±)Ç\u0002­Ó,\u0015\u0001 \u0000a\\ä\u001eX9·¢4\u0000,f¬ùî·÷`{\u0017\u0005\u0000ÌâAkWNV\u0000\u0000Àyö.cT\r\n\u0000\u0000ð¡±ÞC:Ôy®¢\u001a<\u00144ù¦\u0000\u001b\u000e\u0012ÕÁCWe¯\u0006\t\u000f1J\u0000À\u0019ä\t+¾½õ&Q\u0002\u0000\u000fõ\u0011\u001aÜgù½ÞV&0¼S\u0000ÀmDHÕ¥acÄ±\u000b4UB\u00008KB=_^å×³\u000fbÅ^Q\u0000xÏPo¹ê¥Æl¿?\u000fú\u0000P\u0000ÀÍ\r\u0000ç\u001a\tæQU\u0010\u0000pü_\u001eóì\nýówTö+\u0000\u0000¼]ö÷ó÷+Òà£\u0000\u001b\u0004cÆ÷7É\f\u0010\u0000ü¹©!/è{&8\u0004w&×.Õ\u0007ÎÇlû\u0002Àêáª1ïp°2\u0003\u0004\u0000H\u0004\\\u0000°ú±>kÍºÊ\u0016\u0000\n\u0000¸á(1ÔÜÿ?çY1²\u0000ÀL\u0010\u0000|L(tðÐs]ÖXzðÐèÿ\u0000ð¸yñäÞ´\u001d&ßóÕs\tV\u001c\u0010¶ÄÚC*3}\u0000§Y«ê¢\u001c\u0005\u0000\u001f\t\u0006=ôÏPõ\\q\u0001Uk§{Õ7Ð\u001e<\u000b\u0015&Îz¡\u0000«:´`pîÅ·úºJÈ(\u0001\u0000¿\u0001-÷>®ÏçK\\\u0016\u0000Xµ<é%4ú|'÷&ÞN\"3V\u0001P\u0000À\u0006\bIÉõÜ+\u0000Óy¡äÿ\u0000ðä_ø\u001d\\/¾ÜY\u0013\u0005`\u0000xÁç?ûÌEÚJä\n\u0000\u0005\u0000\\'¨\nI\u0007wù\u0002öÖG\u000b\u0002©\u0012\u0002Àï\u0012æÓrÿÑsü\\ò°I£(\u0000x»Ú¶ÍÎ|à7ËØ~ðP_\bî)\u0000àjv\u001cÔ\"ª\n¹B\u001dÝB\u0000à»@ÊCz\u001e]G×ðjÖ\u0011\u0013\u0000¶!Ëÿ}!Ë¥\"B#§|Q\u0000À\u0007<sÓ^Ö¡ºp\u0016\u0000¦äÞ,g|¾®çÇü­iÌ-\u0000l\u0001\u0003ß½\u000f¤<9Å\u0017²\u0005ÀG}\u0002\u0000®0@Ô\b½T_T0å¢J\b\u0000ß&Ç¡§Ñõ4F6uÕúfü=2H\u0004\u0000üÜir/\u0016±õk:\npðÓ?\u0013åS\u0000À\u0003ªC\r)\u0013,zd°\u000b\u0000[gÊã¾\f®/£g3W±Ü\u001f\u0000¶úN¨¡ÅMîE´\u001e_!u¼Àf××6HXÎ¦\u001c|9GBMUÂi \u0000Y6Núg¨Ç¥k\"ò\u0007\u0000à'ã¤\"cû%íÅ5T©¥\u0000\u0007RîÒ¸°'Í#¿g¶\n\u0001`\u001coKãc\u001bS&.±\u0005\f\u0000~HG[N¿´_By\u0014`\u0004«Ø(\u0000àRãÆ\b\r¾¼©tk\u0006§J\b`ÛF\u000f\u001e8\u0016Õ¢Éÿ\u0001à§YôñH½%ÊØA\u0002\u0000.¦zhevª¢J\b`£¦½[Û\u0012Eh\b\u0000?',1ùÏ\u0002oNN2ÆS\u0000À\u0005´1r¯ÍR\u0003@V\u0000\u0000Øº\u001a±¦¨c¿³\u0004\u0000\u0000~úNXâêÞ)¶&÷Ý£\u0000ËÄQª\u0011Ûÿ?}ï\u0011¹ô\u0012\u0000-\u000fäµÍl%V¢\t,\u0000üêÛÂjtVyQ\u0000À\u0005\u001f°Põå6Ò;V\t\u0001`»±Þq,ßÚß\u001b\u0000ðýØX]:,ü0Ôí½×æ¬ç\u0012¬ÇàmÖh¡T´¿C²4E-`÷¨ëPCKÛ¥\u0012î;Ó}W¸-qQ£\\\u001b\\-I\u0005\u0000\u0000¾S[lï!\u00055r¯É£(\u0000àìãªi\\;x¨Tpm¾\f¡§êÇ³ÍÂ%y\u0014õ&u¬ÂEÇñÜ\u000f¿Ñ/g·B\u001az$\"\u0001oß\t­'-þïÑV(\u0013ÚS\u0000Ày¨Á}\u001d¢ÌX\u0004°¦ûSÊ&Õµ¼Ï6¦þ\u001a®S¸p°·µ )ÄX\u000f\u0000?2ÔÈ\u001e)\u000b'ÞÛ\u0012ÜÏ\u0002ìJ¸BC;'tñÈ\u0019W¬éþ«çý¹ÄµYJç­\u000b\u0007{\u001eëobR\b\u0000~46\u000e+Y\u0001P#\u0014\u001cóM\u0001\u0000ç\u0013Ê\n¡¯d\u001aåàÁ2¡½À\"¤ºÜ\u0013\u001eL¹|íPÛ\u0012\u0017»Ç¤ÓV®-ÝgUË<ã\u001a\u0000.\u001bßG®\\Áð82¹G\u0001\u0000g\u000e\u001a#æXIi­¶\u00190\u0012­u½Äò\u001e]î-\u001am\r'Uà2Ï\u0014ÞÖ¤éh\u0000À«¤¹ìµ°#\"ã{N\u0002 \u00003\u0006C]OÐXE0¸Æ\u0000ðXöçjíïQ¹?q¡`/ÝÈõ\f\u0018_\u0000hqðqâd\u0005\u0003£Y\u00164FV{Q\u0000À\u0012I/¾½5ÑfY+cÄ*Ô¶t~\rc¾+ôâÎ>6=ñd[,/Yû[Nq\r\u0000^oô\u0015®P\u0015+|)\u0000à<Érë¬¹!\"«¡ÑY'´XÐË\n²ÿ­'i¸ðXÞöznòÎj\u00151'\u000b\u0000iòd-\ts,ô\u0002\u0000þ0fò\b\u001dZ¢¼¦Z\råqq|ÌË¾G-ïÑa%Å¶¤áâ÷ÖèÚøê\u0012,\u0000\bM+aW4¹§°d\u000b\u0000\u0005\u0000)Q^c÷äêb\u000bÀ\u001a^b­Ú;¬¤â\u001b*Ø\u0014\u0001pÞÈh\u0015}2þðÙâ\u0002Àë \u001bÿ\r+\f]¹\rÙ=\n\u0000øA¢Í®\u001eV6HLËÆG6Z/ÞàmYs¬çÞr_^å¤\n1ûõÈc¶|\u0011X\u0001\u0001\u0000ë]Ý\u001b±S\r(\u0000à¦\u000fR®\u0000XßßmÚ\u0002ÀÐ²åq¥a:ÊL\u0005gxN¦\\[¾¢\u0005½\u0000°éwe|Xá°iuÃ\u000bg\u0001R\u0000ÀÇåÒêõNpérÍý^k»E\u0007\u000fÿã\\<Ø\u0017\t\u0000H5BºÂ¿MÍËß£\u0000>CÙ Ä×û÷óö7ØT\u0001À×Ùñupf+q¾Á®4p?á\u001eÀæÿ©\u0007Ö'÷j{ß1B\u0001\u0000\u001f0kõV\u0000Öº\u0004j+\u000eîÇA~u·§ú\u001b\u00008Ôµ\u0015\u0000Û¾\u0006§&<S\u0000¶;\u0016®9¶&÷\u000e\u001e,\u0001 \u0000>ECë®¾Ö\n\u001aUÂ%vÙ(ÏW\\Å^ÒÜøSÞN\u0000\u0000l[Ðèë­\bOG\u001còÆ£\u0000<@í|ÐµÆS>!Ëüì¤uwÊ7eÂ6Ò\b\u0000\u001aì9ÁÐ)0ä*\u0000Øv\u0000§`­yrc¾)\u0000àÃ\u000e5\u0013ä5ç\u001e.é@\u0001`»G\u001c\u001bå­ÕèZeC\\¹\u0000\u0010¡ÊÑwöLÅW\r\u0001À/ÇÁbõ÷\u0007w\u0011âS\u0000À{\u000b\u0000\u001b9,\u0014ªô\u0001XÜ\u000bìP×ÿMUì¡òãc¦$5¨\u0000Ø\u0012\n`Û\u0006oG'o`À\n¾Ô{)\u0000à\u0001cH\u001aÜUµÙGÇ.ëþtE\u0016\u0000Vþ¡åY½¡!¨aããÆÈ\"'¾\u001dG\u0000`k\u000eµ­\bÛÀ èAÓW\n\u0000xwpÇ­ÿï\u001a!½TWD¨\u0018aá2bé¹º¶°7Ïêå\u0005?(\u0000´#¶>ºMÿÁý¡\u00006iðXý\u0011ÃÓDæKuyÌxÿQ\u0000Àï\u0013â\f\u0010¯\u0007¯cè\u001fª¾\fU¡Pa°ïý\u0019Rõl`³ûÓÛÑe¯\u0013\u0018à=ãù¹~G(Þ\u001a\u0000¶Ã¾)\u0000l#\u0018\\ú?\u0007×\u000fU\u0013Û_[Ï%XÖ\u00003¾©E3cHã\u0018\u001ajÕK-Ú\u0015Ó]gêÉL\nçÙÜc\u0006¶ÒÇËÛýé¬PÁ\u0007LÉ?}ï^#íB0¬\u0003Øl«b#[\u0000BÒó\r£_jhßîJÑ®3u&\nã\u0014\u0000ðMÂ\u0011y¼Ú\u001ag\u001c+£!\r£«3é®ö]Ñ]gÚ\u0015;®\u0016Àm]mSÏdn\u0003¸ëLÔ\u0000ðàgh\rN¹oNê«\bc:-Ä¸uÚîªmí\u00073Ë¿ûS\r=×Ð¾d,u×öÅ\u0013+¼\u000b(\u0000l{°éèm¶Í°cÂ%}\u0019CÏµjßî»¢}úRÔ1{tÓûsôÐaeÛK».\u0007Tî=¼e,f|%Lß\u0016\u0000Ú\u0012XD\u0000ØÐiõäVc{Izi1äsUí­­\b`¢\u0002À\u0007Èä\u0006IR±Óò¡çZµ/Ò}\u0017ºëvE*\f\u00167¹?Ç\bÏf\u0012¹ÈS9\"©\\¼'â;®\u0000ÀëËÂ3\u0004`[\u0019pxÜÛxCØéï~péP]]î§>\n\u0001\u0014\u0000¶úPt\u001cÿþºØi°x©®}qÝ÷E÷©7SiÛ\u0003py\u0007\u000fUßÞËëõRnà=¶Ôðé}O\u0014\u0000lgÈ{ÝP\u0018íØú\u0000|\u001er¢ï®3=tE}Éøù\u0016\n\u0000á!9þÓÁÂ,\u001b²ýsp}¶¬\u001a>ö¹BÀuq£åë1r9÷®páã¹âýîHµ5Õ<îy\u0003\u0015Ç®äÿJ+\u0004|\u001dC_ª}'=öEw]Qg&Â.\n\u0000«\u001f%jF\u0006ß_ª6\u0018dSª}ÉBÀ}oÇ­\u00018ÿKì¥æýi\u001býû\u000f\u001eÚµ\"\u0000O)~üt¨ä·?,\u0000¸Ë`¹>\u0000Öÿ>\b\n\u0000o³dy|àÿ~qõÅõØ\u0017=ôÖ\n\u0001D÷\u0014\u0000Vzãgu®Å»\u0006\u000båÒôÃ¡ª\fÒ§¾è¡/ÌÔÙë#l¶ziGç<w¼m\\ªjÅ\\î\u0017\u0000Øô\u000b¡Fh`uïû.[;=à¿ë!WüþµËU\u0001 \u0000°*ÕOÝÉ]?ÆÛ`ñep=ôEï:.æYÿçÑs/ó/ç¡m¸7\u0013ÝñËgæÕOF ½ë\"D(\f`#ù¿ÆÊµøèõ¤ç:õ\tpýgW´ë\nïÖß T²°ä\u0015.>XTI/îzqg\u0002î\f×3B:ÔÐÖ¯æàÐ·=4ÞNÌàvùQ\u0001\u0011\u000062ÞµÉ=b?75dþ<úæOS \u0000°¢$kd8+Ü³.\u00063\fº¡3àª=§ìåÃïÆó)P\u0001\u0000l8fíÜ;Ï»ÕÛ\u0014(\u0000¬hpÕàäs\u000e\u0012\u0004àç×R_¶k\u0005\u0000^>øÝóR96ò\"m4\u0000V\u001f\u000eNsï³¾;Ú;vä\u001dK\u0001`\u001d7t°¼ø\u0002De\u0019î\u001f¿¼j[IÁQfSr×¶êp)ðÓg¦\u001d_+\\#\u0000k7:1Ã%\u001cZÏ4®+\u0005Å\u000f\u0010\u001ebcä¹\u0000SAâÃjäò¼næÃ\r_<3NrûÛ±K\u0000`í1¶\u0000à|q++÷,\u0005¥\u0007Bv.2IÅù\u0007Ceø\u0007KÞ¿y^£Í^ÒÑ\u0017?\u0019xjª3¿e|\u0006µ\u001aZo/BÐóçMçÉT¼L(\u0000,6\b¶Ä~õ\u001a$ÚS\f\u0012ï6íý\u001f¹5¿yh]Ê¦\\\rü`Lg\u000bÀï/RõPuÅ\u0002XoüùRcóÇ'_Jö¥â\u001dB\u0001`ÉÑ¢¦YjrÔK`ÐÇoÍæ5?~±G».ÜWøîÞÈ\u0015\"]3¿äAÏ\u001b\u0000«\u000eíYzáwÈèù3(\u0000,f`0I¥\u00155xvÿç\u001e¾d \u0019\f\u0012\u001f0xhàåõÝóë%®\fþ-Ç\u001aî·<H\u0014Ï\u0000¬2¶7É=ôÂ\u0004Ôå®·I£»FVýTÏ%¸ý ð:\u0019\u001d[2:-\u0013¥Ãúå?±-7í\u0011¿cp\u001d<4T\u0006×;n-PÇÚ>¼2¶=Ü\u0015¿æÁÌ\ruÄöÑÆ~×©\u0007Ìtü\u001fñý\u0005ß·-§Úq)\u0000Ì6áWîy\u001c#Ú 0%\u0010hqë^ÖÐ®}Ï~W>¶eºËö]\u0001`:¶3c\u001f^\u0005$Ac¢7¼#§÷!\u0000,.¶×ieéð\u001f<T#'MÆV\u0004&¾¿ìçqÜ¦Ú£e(\u0000Ü6)BqÜß8zè¥z;\u0007Tß4\u00039.\u0015Âå\u0007é\u0018\u0016cx«ê4éúÁC».\u000bKÜV¦=Ü\rï¦\u0001`Æ¼ÅöÇ\u001e/m2ïPãØéØþúêÔKW.\u0005[&ÿc\r=UÏA¡Íò[\u001b\r¦±AávAù´Oqâm\u000e5«Ù\u0004ê?Î]òøÎÐ}(;­pcA§cxlÞðÒ\u0004\u0005$ÿ_Çª¡æé?LæÍë³\u0019Ûj2¶cR\u0000¸I20zèëèúgt\u0006\u000e\u0012SÕÖ\bÍ{?»¤\u0017\u00127%{9ÛËUBª-8düÿýu\u001aY\u0005`ÆBÒ¡ºþÏÁ\u0015¯~Æ÷Ä«öj;fÇòo\u0002p©Fh\b?v\u0001ÅüÚ\u001a¹\\\u000b¿áy×àçFÏ$\u0015ßÈ@1¾\t\u0012ñëë\u0005\u0000s\u001b½­èMÌO\réP¹\u000e\u0014\u0000n5H´ó(1ß\u000fÏèí÷òt2\u0005~Ájkü'´+B¸\u0013\u0000`%q£\u001bç\u001f³f\u001f\u0006|-\u0000W\bü²!\bËæ<HTgxÓý¬8Îdâ÷¦£~úFk\u001c7r{Wè¡¾ùóå5ð6\u001ey<kaj\rÀ\u001cãÆ\b\u001d\nÀ¼ß#ÒÐ\u0002Vv}\u0015\u0000\u00176u'·\u001a:.åÂO^xm¥ÄsuÎ®}c0x\u0016ÿ¸X+\r.\u00189ÎÿìD\u000b°\u0001`®É%+\u0000æÿ2È\u0013×ø¨(\u0000\\=\u0001\u0018\nÀ\"\u0006öyáW/»vd\"Þdð,\u0002òø¯pÈ°i\u0006\u0007\u0002\u0000¶äxÆ<f/ÚçÅÁU\u0014\u0000®\u0000\f¾A¢-çbøA²#¶I|\u0014×m­«4TQ\u0010»`ÔÆc\u0003`ñP®î%X\\Âg\u0015'WÑ\u0002Àõn¼Ö\u0004%B7[w{\u0006\u001f¢#'%|h\fð`eÉZ\u0003À1\u0018Ü/u§\u0006[<9\u0000æfôàÃ2bûaê]EÁ\u0002Àµ\u0006\u001a¤K\tèéÔýÇéð\u00115B\u0003Õ9öwÀÅ¢6Fc\u0000³ì´\u0005|r)qX\u0016y¥P\u0000¸ZX9÷yIñ¦\u0006gÙé\u000f\u0007O?5´Ä;\u0002öâyñS\u0017Z¬#\u0000\u001cÚÖ\u000e>ÓËÇô\u0000\u000407\u001e-¡d|ZÔûdôóR¡\u0000pdÒ\t`\u0016öy;¶½oíH.\u000fÜW\u0005\u0014g5ÐjÔ6ûC\u0000xÉñ84¶ëË¸\u0003`6ñ\u0007«{\u0017h¨ÊF\u0001àÂ¦kð\u0010\u0007D-ðs«Y%d8]Cõ\fÆ¹(\u001fºÓê\u0012Fux®¬îºô\u0013!fk\u0000ÌÎ¡\u0015\u0019ÿ\u0017V\u0000N±âs£\u0000pI\u0011¹<\u0013\u0000çÅCu¥g·Û{Xþ8pÅ\u0007Êshi\u001a¼üçG^jpFý\u0015¯7\u0000Ì&dü_¤C[¹Á{%õ\\K\u0004û¹¼Fþm{\u001f2Ùªfl=r)ÿ»ÿRm¿³T¸?ÄDäË'\u0018\u0011V1¾\u000fá\u0014w¯pÙb\u0001`VïrIC0¹·Dµõn vC\u0001àb\u0003D\r\u0007a×=é!}\u0019ªê{* ùºqüÿaÒXÛñ\"ö\u0002,øs\u001cÛÑ®r®ðÌÄéè&ã±\u0001pã1É#û¿\u0004[\u0000\u0016\u0019\u000b­yoO@K\u0001à\u0012<B/íÌIn±e\u0012Ó\u0011/Ý\n\u0006)þ<ú±¿½ùwâlãÚ± Á¨°Ôà¡ô<RÝ½¦êÚ\u0015S1\u0019õ3\u00007¥\"·ÅÛ(Ìì%^#4Fh·²\u0015¾\u0014\u0000fr¤C¥Cèå \u000fH,ûvÔK\rý3T¬ÍÀ¡z\u000bí\n/%òÜÊÁ³t±ËCúÏU]ö¥è¡3Ýõ&S\u0016\u0003ø\f\u0000\\m<RÎ\u001ecÁ±}ÜSÇµ \u0000p ±íµÆb\u0011\u001aÝ¥nÙ£D(ôâ®§1X®6\u0002îBÚ±y\u0011 G\u0000+^öãuw=UÉ\u000eÒ}gzèîº¶2Ë\u0004à\n±=\u0005àE¿Â5(âP\u0000¸Úº¥³?tÙD\r\u001dÏ ^òßãóàz\u001aq&c\u0017ZV\u0000,ulÇmÇ4)0Oµª3é®îû¢û®Ð§\u0004ÀÅ\u0006Ð)¾Ç2yëñå\u0011²ÏQ\u00008{âØ`ñÁþ¸ð®íjèPiV3\u0017£ÓÙ|ÉcûàìÿÓgâ!=µb@±ª}1=t¹2 £\u001a\u0000à\\\"ß\u0001¼¿\u0017þÞ°ÓJ}·íÕcÛáÌck0Aè±àRËñVÿ÷à:TÖªÍí³ºÐbY\u001fÜè¡Ê¥«i{Æÿ:TýÏ#=O\u0000ï½\u001d¡í_«yW\u0010Q\u00008ï a¬\u0000XÓï!\u001dêò¶j{H/£ëÅ].àÙ%-àsYV\u0000X\t\u001a\u0016!Ú\u0018èôá\u0001pÆ¸Þ^ëx{DNm¼HL\u0001àGLKÇ¹\u0016ë\u0018ðO3µK\u0019$JK0ÿK×ÿÙb\u0005Àò\u001cj°÷sa\u0006g¹.óÙ¦Íd\u0000\u0000\u001bDIDATd£çvJ¬ W4§Q\u00008wÀ1\u0006AâJÆûã>¡%}Ï\u001aú::Û?£Ñ¥!èË°¨\u0002@;:Ïli\u001e+m\u0000üù{»4°\u0002`5\u0005éHÇ-¢\u0014\u0000ÎhôPu\u0002û5\r\u00125BuAÄsu}!û_Ä}ÅJ¡å\u0004£ÓÛe©\u001d!;?Q=ßÙäÿ+Ãâ´Jl«ïõþ­qîûß;´#¾°.:3\u0015ïs`-ù®m@#SoRbùò9T×]_H*gnj\u0018D?Í\u0005í\u0011rzâ\u0017Ìù}pëDàM1 +ÀÖ÷Ì\r\u001eºï·8FôÏ¿ìjG \u0015z3nþß|@\u0004ëZhßæªÕ¾\f®ÊKj\u0019Ieèà¡;1K9ëç_mù\u001c_XHpW#Ço>3ÌÙÁ£5¬¼Å\u001aÚ¢Îx\u0007ýÊ\u0018N?\u0015¾Û\u0007wÊì°K\u0011ýßÐÕÂLú¿övÅX\u0002ó\u0004¬FÎ\u0016qüðº\u0002Éa:ûµÌo+ü:¸^ÚV\u0005n¿ùßWÇþ\u0012|`³þ\"¤»\"¨ì..À#VÁÜÿêúÒzöÜ&ýþ³î;v\u0003ÿê=0¸Ø\u0002¶BCÛÚ¡°Y\u0011G×x1¢yCY+BúÔz2Û\u000e¢ê\n^¯ò³\u001d^%Ö1Óïïóètý_Ø}5z(ëÏ|jsþ^jðl\u00018+Ðç!·íÕ\u001bÅ\u0011Òó\u0018ê-rå§ïjV÷®ñ\u0019Töøêæ9\u0013S_\u0011~oñm=\u0000,g«vÎ ñK{D#DÿÿuªÓ 1³\u00024ÔÐ¡Ò{bAG~~¥c{ÕôC\r¹\bþ\u0016\u0017´O'ò°Ç\u00063\u0019kK¼ÛØr«ÐÂì´¿}Ç>\u001fÇ­Q\u001c\u0013|ë|\u0018ÇÈve>·ÿ4F¼ÔÓ\u0018q{¯¼õ¸#\núq¸10K´jC;»}No´\u0001âëÈ[{©\u000em\u0015\u0000ãÆ<ô\u0003\u001b?\u0017\u001c¸w2f\u001aO¸þ\u0019ê,v\r\u001e\u001a\u0018æ~\u0012ÙOû¯Iþ×ú\u001fj\u0016Àæ8F|¾ð\u0018ñæ?^¤9\r\u0012\\\u0015\u000f\u00123;áÁ$}\u001dsÿ ÷Ý2ï©,\u0000øEváÏåì¿óyaïg`N±ÄÓè³Iºk´íhÄ÷ß¿£§£â\u0018EVkhM~çRà9\u0011¡zÙ¯UÞ7H(!áà¢¶ýA\\õöÍ%\u0013¨AÄKeöxÉcÇèjÝ]1«àÏÚ2ÝÊ¸¾@\u001e§êú:Îç½c]°Úé'ïè\u001abñóze\u0003÷MÓØPNî}\u001dýâ[Ê»\u0007Ê\ró:°x=p2@¬×àY\u0004°\f\u0010ÿ\fU\u0007Î¥]¼1^\u001dWYñÈm?Xê\u001d\u0014×0+_Æª§1÷ôÎ*\tr\u0011Ûÿ0ÖÖ¬\u0017ëýóþË»þiôã¾ÿK{×Ù\u001f£³'òû 1C¬ð¶TîÖßÇ¡íû§+íz\u0012ÑYÉ1\u0017Ö±J\rÀ¹bÅÐç!ÎiX&² ýwl`\u0005Øúß÷mr{ô¹\u0011~µ~cå=ÄØöD\u0012\u0013n\u001c$\u0018\"¶\u0014Üz0Ëí&ÿ=T¤­è¾\u001aè¯2;SÓO\u0000øÓ1ÞCúçàÙGh/n×i#Úg&ÞË[áùí­ÇÏN¯S\u0001@Êeªc0H¼VY&º7BÛ-\u00132ås÷T+3Æ¼úKlþQf\u0004U\u0019K\u0017b{\rn\\¼ÔlØ;çS)¢Mf1¹púÜ\u0006wñj^}hßò¸ÛÍîe#y×áºcDyïò ãý1p÷Ü;mÈ\u0015\u00007*\u0000X6£ùÌ~Õ\u0019\\$szÎ=?\u0013ÆöåGvãÌNoÁ¶\u0014Ëxùaþ}äC¡»î§Õ½¡±c\u0013¼5¹7]¿Øcmø:øÕ{M\r\u0012T\t§-\u0011c8åÁ|ÞÕ¥áFÚÓèz\u001a]ì6YiÒÉJ¢Ù8x¨òY¬\u0006$neðÐs[µ7÷øæÉ½Ç´\u0011ÓOîáÍ\u0014\u0001¤V\u0000»rìç¡çÑõtà¾|dx\u001e[pãDõy4À\u0015\u0007\u001bm\u0003øÚ:RkZìí@/¹x©¹\u000f\rÀk;\u001dçµ\u0014£KCÍ8gÓ±}´C¼7\u0012å\u0011÷/5®»\u0004ß¤§1ô4ÞfÝÍ\u0007V\u0000delôï­kË\u000bYº»­ÏÜ#®V%´ö¼}\u0019ëñ,Z¬7àà?Þ²\u0010Ã\t\u001bëy®Ï\u00127ð4º\u0017vZO(÷½ûãÚì·Ôz1plF6Â«ny\u0019CO£ßleqùÈÃ1\r\u0012uËÉokÈ>ÑÍ}ì\u001aÚ®bvÑ=C¡|\t}\u001eré?G­7à\u001aLò\u0011ßöÙ®\u0001;Å¶\u0004uE[üÿíÝër\u001b9á/Q$%{gw~ìýßàôÆövX¢È\u0002¹?\"Õ\u0007÷X²DÖá}\":<á\u001eÙd\u0001L$\u0012¸¥\u001aíÜÿ\u0012çô±Ï[~!Ë:\u000fÛXMM0MöékûVM\u001fúë]7~v?3I<l¸=fîÍè\u0010º­Ib:\u0002£öi0i0Ó.Ù5@ÿÊ1³v=Üsvõ\u001fÇs¶æà3¦«h¤/ú.c»Fk´é\u001co\u0003ð\u0013óÈKq5ä\u000b|oµõ@±Á6\bn\\¢'Ïö~\u001b«\u000eÉ4¤¾¶7S²¶&ÆCüäóå}­qöûÆïN\u0000kèë.d¶ÍI\"{/-d¡¸½ï>¤]Cvf=\u0001 \rÉ4¨ÿjí××³Å[Iô<ÓùA\u001e³õ¯:<¤±º\u001eÄ¼r\u0007¡Ö°ãÿkúN9ÆÛ>oÓu^KMÚ×~'úVã_ï\r\u0000=Ú\u0019mlËSv\r¦¶¦ï{M}ÓúÞ~7¶ß:Tr¿\u0019äÞcìÝ\tvFf»ÍBZ\u0002¥ÅFcµKÀv¶ÄÒ^\u0016mâ0íÓ4q´£\u0002S¥ÀL\u001aæAýZ\u0010ÞAÛ\t@³\u001eP\u0011¸Üaá7:\u0001ãæiï\u000bùËÙEà³7k\rDÅD´ë\u000eø!mï=TXÛoZ²)×We%d¯×öÖª\u0003ZeÀumì÷ïøÎ;©xè¥¶\n¡{oô¼;\u0001`Öú\u0000d·MM\u0012Ó÷K£(èUp>\rä\u0012R©­«§Ô²;3í´OICj\t¤þ«]ÿ?âò\u0002ê\rf0AàóJLMhpkS¿\rº®KÝðN&n«\u001d\u000flM½lá³HöVxØà\u0016øemÏµý«µý¥l¿\u001fý\u0012\u0002;kkû©b \u001d\u0017h¿¦?¬1BÒKmWzÏáùÚýÔ@éWWmi\b]Ïê\u0006\u0004~dÒÐÙ¥ªdSB %\u0005vÉ4¤)! LßrëúO$²½ tìGøîo;f³·[\u0018øØ×9\u001f\u0003íÛ]Þ±ðð\u000f³»ÞÑ'|ñÚñ\u0007²øÎûÄ^m\u0004{h\u0014¥¶:IÔú\u0006LÀSÿd¦su½Ö`2-9\u0001`j\u001dËÆ\u0006JôsºA£(¼3)P\"kHµ=OI¡UÒ\fÖvÿ\u000b×&\u0013\u0000\u001em'z×Boý÷ñ¾\u0001Z{\u0007`¬ï}Í·O\u000f\u001a=ô\\\\y%U{Þ¯ú®\u0011J\u001bÙåºÞpFu/Þ·¶÷^j?\u0016\u001cºô\u0012Ø§¤CR\u000fþc6½%~ª\u0002 Æõ¼m`0I.ºâc'tª¡S\u000f@>óú\u0011Ìÿ8×Ð`-\tð\u0003\u0001Éçæ{é\u0015\u0000XY`\u0016m£\u0016\u0000ø¬¹£ômô¶\u0019¶\tØ.MiC»m¼U¦\u0012mª{ñkûvÆõüÿ~ñ\tË$á¡Ü]åêçtÉ\u0010â\u0013&\rà¹¸úí\u000f?¼rôÏ¤¯»¤Ñ@ðMA¢_»^Óõ\u0019À[Öcu\u001d«¯îª^vMÙÚAµ¿SB­c°¸ÇFÖ÷?}À§Æuçr\u000bßb.w7\u0002Àg½0~ø~Æì9;½#Þ!{¨8;>\u0000Þ0G[«Öúm\\ßU½SeÃ¹nãZÖ74VÖöØô³f:;¹¾UAWa\u0000óT¢ß\u001eQ Þò\u000e\u001bÝ{Ã+¬ôµMS/|ü|ë¡±ºòJ­èëû\u0012Û\b§óÿ\u0014\u0000\u0004À&P]ù®¸éUó6\u0000á\u001cuª¡c©ìf¿áCËµ\u001d\u0003à#[çðh\u0015\u001eÀ-{ÅÕSöÕÏ\u001bçÚ6½Öü÷3©\u0000\u0000\t·'\u0001Æ\rL\u0012Þ³¡\u00000Gm.F\u0017·\tþ{¹*sú\u0006Æ\u0005ß1>ÎsvjhÍy¥V\u0016/e÷ÕWÐx¯îe\u0000\twL\u0012§ºòIÂ¦/\u001e\u001a\u0000ó]´\b=åJÙó¿\r\n¯»[dJÖ>.øñAóF²+÷Û%Ö>GJKt¬µªlºÒê^\u0000øT¬}\b­ö¼\u0017õ¨!=åª\u0012Aèóù\\½³ï³ê/Ê=|Ôá=ø/\u001bÚ-®J\rÕ\u0015;Ôh×µ\u0001$\u0000ÞÁÕvÈ×Ú ¯z/\u0011b\u001d\u0001`æBÒsn]ñ½wV»æÊiú´ú±0}Ç|Ïø5î¹onÎÈÑJ­òïl½O\b{\u0000x¿s\r\u0015\u000f\r¶¾»vUTÐ\\\u000bÀb\u0016¬Ï¥UeÞúóg=äû\\5SÛ8\u0016×sñK\u0010ÃpÀ\u0016ÊÖú\u001ckk9US«Ö¿k{ZCæz/lÌî#ÿÏZS\u0014×C\ríé0X,bùWp®ÿ\u0003°¨Í¹væ:\f\u0003AÏë\u0005_P\u001d±\u0015ÓÎmõªS_\u001c¤CºnTð$ào×.½ÔLÝàß?ûµïÁ~0\u001diè¥\u001a­\u0007GKô\u0000$\u0000Þ\u0015$J\t¤ö­¦}jÿì\u0016ü²5µóA§\u0005°$­?ë9Kÿ¹\u001f\btúîþªo\rÈÚ¿î\u0016Ä4Ð©\u000eCè0%\u0003V\u0014Ìàsç\\õR¶;_Ú\u0006ßÙCû*\u001dRÒaèk{ÒÇOñÖÓ*9\u0000øÉr,N%´K×Éâ¤]JJÖo\u000fXÐäW<T9+\n`a\u000bØ\u001cí(Àã´cCê;>#%]\u001b\u000bf×Îæ'kÁÌÃ«`fOUÀê¾óÖ\u0003\"ÞõïN½­^j({lzx\nGoIå]\u000e}Ì\u001c\u0006ÓÎ®\u001b}± ç#»VÝà\u0010¸I\u0002àOÉ\u0000JH¹¸UzHÒa\b=$Ó~¸fÝçn*\u000f\u0010YB\u0000S]ú]ÿuHÚm:¸©Ñ\u0016óìþ\u0013ÌdÆê\u001aô0\u001eÔ+\u0016Û®æ\u0019ü4ºë\\ß\u0000\bIcïÿDîôú¹X¿]ã¥¶äÈP¤dz\u0018Ò¥ªf)ã¦xPÝ\u000b\u0012\u00009YHÒÙ¥Su\rIúÇ.éù¤N/\u0000'ø\u0007°Ð\u0005[H:f×ã`J»íÞÞv|ØýÇï×'¡\u0016Ì\u001cKÕa¾\fI\u000fCÛÑ\u001cxñ/ö»}©®§üg÷Dáß}ÆRK\u0006\u001ckè¹\u0014}Ù%ý÷ãn\u0011Y¨\u001dí¥º\u0017$\u0000nô²­Þê¹/ÁLm×?;wE\u0003Xþjí¹¸ICÚäfÖ\u001azegÇ\u0007½>¹T\u0005ô8¾ìZUÀ`Æ&ÀDO\u0000Ù½¿a2ÀT£\u001d\u0011x\u0018ÒìçØâ¡êT÷\u0004ÀÍ\u0003ë±\u000eÃ¼G]k¢\u0015mày\u0001°`/%´³Ð>Å¥qÓÖ\u0012¡ìt|Æß'\u0002BÓ®fÕÃ }Ù%=\u000eI\u0019ÏÎ\u0002Æù1»rå³¸õà~ÃÊCº£¹>#£`glPº×$á\u0011Êî\u000b8\u0002\u0010½\u0002\u0000\u0000\u0016¾>3éì®cÙæ6Vo÷Yó(à\u0007\u0001©W\u0005ü6º~y)ú¿±è\\¹\u0016xÎª·Ä\rg»o?^<ÚÎzÌüÏÙÞ\u0007¡\u001a\fdlÓî^?Ø%å>ðæÚhÇC\u001aÉ \u0003XÑ\u0002-Wé¨Ð!¹\u000eCÚÔß¬íÞg¢\u0002¼gìZ\u0015Í±T\u001dRÕ×]Ò!i $`6ßQÐsv\u0015\u0017>ï´¶oW¬ÎüÓö¬PÝ­ºËêo:\u0002P¼\r¾¹¾H\\­JA¼D\u0000¬elmîý}sÑ©\u0000ÀÇ¬\u000f¦ª~=\u0017ÕÅfâýå\u001az*NðßØº­ùq¤º\u0017$\u0000nÏû\u000bÔc¦¥BÖvÐ¬\u0010\u0000Þ:ÿ=t,¾\u000eÈÑÏþSº\u000f\u001dK!\u001dKèSÕÿr}×½óøé%Î\u001ezáR÷Y8×ùv×wµd0£\u0014[¶»ç\u000f\u001a2\rßµTvY02E\u0000Xßb9Bú«öýº³5Ç,Ñ\u0003g[\u0010hôP\u001eCOýÊÍ¯»¤CïÎJâºNÅu,|Òw·HÊáò°ÙuØ3IuZÛó¨\u0004ÀýVecm\u001d©wf³\u001a­¸\u001f\u0014ÀjÕhÝ²MId«\\\u000fµÆT¡suQÏ\u001b,kÚ¸*¡ZµO®/ý:Á¡\u0007C<\u001f?ÆµêTÒÿÈ\u001e\bÍ/¹<\u001dA\u0016Ï\nH\u0000ÜgÂ&\t\u000fµÃ\b3$jÐ\u001d\u0014Àú\u001dK»óüp\u0018V\u001b\u001dD´T'¡\u001b&\u0002<$¯m·ñ¹\u001e\u0006ÓÁZU@.ñ\u0011ëµpÉô÷i\u0003mnÏ¸Y\u001bçJ:\u0018$\u0000îú\u001c_-Êæ2\u0018­O^ÿ\u0003X;\u000féTCûâzÜ­ïVÖªp4\u0018wXKL\u0001jPÐ¹ö©%\u0003\u001e\u0007£*à'?_t,õrõ\u001c\tùÌ»%BÞ«\u0000æôçrµþ\u0004\u0000\t;ªÑ\u001b\u0001Æ¦íÞ%»8/\u0013\u0000+_D[;»ü\\\\\u000f}grM\u0001B á\u0013f\bÆ~þx¬ÒK2\u001d\u0006Óã´OFUÀ[9I¥¶¹ãó{èJH\u0007Ok:ÿO²\b$\u0000f2IÔ\b¥¬<§&!71,¤G\u000f=åªì\u0007%[ÏdíåÀ\u00019¤±F\u000fjèL\u000fé¨\nø¡ÏÑ®WþQÝ3Ïç<÷JÚCÓÚj0`\u001e\t\u0000I¥\u000fÈa\u001e/¼\u001aíÏä!%R\u00006°XóëatXI\u0019T½\u0005YÀÜÆÜå<r\t-tªÒCJ:\f¦}jÿpÀ_è×þ\u0011ÍÍVöPñOeË¥º^\u0011Àn\u0006ã±M\u0012\u0011z°yl;ÕÛ¹%\u000f\u0000\u001bâ!=ç*Û\u000f:\fË¿\u001aÐûÙëêZÕÑ\u0006¬,\u0019`SÀÔÖ\u001f»ª^\u0011´OÒª?}^§â:\u0015RîyÏ¿í×Y<7j{$¹T\u0000x\\ÎoÅlþ<\u001c(\u0003°=Ï¥]Íº_AùSö~ß3s9\u0010ØêZ\u0015ðÒ¯\u0011<$éq¸V\u0005\fFUÀôù*\u001b5skr\rí\u0007ÅsSûÍcT÷\u0004À\fÔ>(ç²Û4zÈi\u0000\b`£^úÕ_wi±]\u0012\u0000|XàókÓzD:W×¤ÇÁôeHÚ%ÓÎl³U-Çì:ÓÈm\u0011°#´Á7ûæ\u001eÏ\f0\u0004ÀÔcôûï:Z?\u0002Ö\u00006ºfk;kæz\u0018l6ÍYßctç¼'\u0016?\u001e§3ÔÇ\u0012:æªÃÐs\u000fCÒ`Zô\u0018}+\u000fé¹Te6i\u0016ò}²»¤û_1½Ý\u0016Á\u0003ÌaDö7GkÌqoÓq\u0004N\b\u0001ØlÐÑ%=åå^çýì?\u0017\u0000`mÉìÒ¯g×/§¢ßÆªsuÕU¯[.JsUaL/ê;KÆâí½\u0000`.\t\u0000]ïæ¼çD\u0015¡þg`\u0000°í[\té¹¸r]f`q®½·\f»=Xãâ­W\u0005<Ð/§ªÿ=\u0015\u001dsmÇ)Wúw.\u001ez..Z4-Ç\u0000¨3\b¼ÇWýÆ\u0000\u0012\u00003YlzHåÎ\u0013+4Ö\u0010\rB\u0001\u0004h\u0001ÆS\u000f*lInIg÷Y,:Ï~ÞM­WÀ¯£ë_§¢ßÎEkê}ij\t½§\\Y-ðË¾¶¾gâÆ£­íy%\u00003J\u0000H×,áÝÊsìu\u0005\u0000\u0019B\u0000\bIÇ\u001a:Õå\u0005Óc¸\u0000\u0000[K\u0006ÔÞ+à¥øj\u001aZ#Ä#µÿýþ²îUrùùÿ\u0007æ\u0000\u0002ðr§òµi×hôà\u0000\u0000\u0000¼\u001bs»rk\tW'¹¤±J0cãõZ\u0001³¿ÏKq©Ý^îó\u0018­ã\u001eÕ\u001bÓÏ\u001fkÈy#\u00003L\u0000¨àý>eBÕïÛ\u0000\u0000æ*G´{·g¾\u0003×\u0016{­ë4³9¶ì¥ô+Ï\u0016\u001e4BÇÒ®ý#þ_êwxÝ\\»Çó\u0018w-\u0000\u0012\u0000?2H_àßrIUÅ-\u0004\u00000ÇÀºàúì\u0003\nï»=b±\u0007]çÒÎ^/q\u001cL\fß²÷òq,]ñ¸ù±¬é}µÔf¶ÀgÙÍm²\u001fë´{c7kÖaÖ~îû¢\u0000à¯\u0003ë)\tM»¤¤ùÝbÖþ'\u0016{F\u000f\u001d<´\u001flq\u001bZeæsv:·¯Ä¹¹vÉnÚ¯ÿ\u0003e\u0002`RCúmôOöÞ_6\u0000¿\b®Õ®\u0006ü]ÁfX\nP{\u001f\u0019\u0017\u0001\u0003\u0018¯£F\u000f}]ØÒÆìzå_/æa<¯ÀKun·_ß³´\u0007æ\u0000PiÝë\t\u0000ø¾ì¡cv}Ý'íÌf³±8\u0005<çÊYa`\n|rO\u0002ìÓrFÅÔ4îXµÙÊÇ{Ý&Ã3\u0004, \u0001À@\u0005ùz*­s¿ï³õ\u001fÖtw¹É¥ï\u001abO`\u001a\u0013Õ[0½\u0004t*-ø§ôÏ$\u001f\u0001@\u0002\u0000\u0000°<Õ¥cqyHÉ¤d­¬3Y[À¤ÁLöúèñ''\tBmw«Âk°U\"t®®ÿØ§E\u0004_\u001e×kÿ\b\u0016\u0001\u0004\u0000\u0000`\u000eµF{çZ¬\u0007ûz\f0iÚï${ èÿ~zõû.°z x¨¸.I\t\u0000×ÛJ\rí\u0006}PýR¼]\u0019\u0017Zü\u0015\u0000@\u0002\u0000\u0000°®àB­1`y}®3~ß¿%\bzU@2%Ùå÷ô:1`ÿý´ðO¯~ï{?Ê\u001f5T<\b\u001a×z\u0015ÎKuý#\rJ3¾\u0010À£õ\u0017Éc\u0000 \u0001\u0000\u0000m|ñ§ßøãïM¼skØ\u001e×@dJ\bHÒ>Ù¥`èå\u0001»þ{öêgNG\rL¦°¶Ëy¯\u0006SÀÇgD«Øù²\u000b\r3¬­Ï\u0011ÏÙ{\u0002ø\u001f\u0000H\u0000\u0000\u0000V(¨=v/Óx!\u001eð\u000fêÔ\u0010\fý?·#\t4\r\u0003þJ¨Ý=´ëGtæ¦xè[v\u0000 \u0001\u0000\u0000Øl¢À~ÿ{®V&ëëÐæ;\t\u0006\u0000¿\u001b\u001fçêÚ'Óa×w>\u0017\u0017õ;\u0000p\u001b\u0000\u0000°´`æÿ\u0000ø{§\u001aó;_o­Ç±p}'\u0000\u0000\u0000\u0000\u0000À(Þ{eÌ$Ö6µ®ÿ/Ý\u0000 \u0001\u0000\u0000\u0000\u000b¸­µ\u001fÝgQ5ã\n=g×©\u0004U<\u0000@\u0002\u0000\u0000\u0000\u0000\u001f\u0000P;oª÷ßo\u000fIÇì*.Îð\u0000\u0000\t\u0000\u0000\u0000\u0000|´ê÷¿2ÓÔy>eW\tvÿ\u0001\u0004\u0000\u0000\u0000\u0000>%ú®Ñ\u001a\u0002Æ}~¼J´Òÿ\u001aâì?\u0000\u0000\u0000\u0000\u0000Àg\u0005àÕ¯]÷o½û\u001ej]ÿrküÇî?\u0000\u0000\u0000\u0000\u0000À'qµc\u0000åÆU\u0000­\u0007AëúÏ¥\u0000p?;>\u0002\u0000\u0000í~\f`L»dºE* B: ë?\u0000\u0000\u0000\u0000\u0000À-z\u0017þÒð\rv»³ø§\u001a¢ñ?\u0000\u0000\u0000\u0000\u0000À\rå\bù¶møÌ\bþ\u0001\u0004\u0000\u0000\u0000\u0000n\u001b÷\u001c\u0000°-4\u0001\u0004\u0000\u0000\u0000\u0000\u0004\u0000\u0000\u0000\u0000\u0000\u0000 \u0001\u0000\u0000\u0000\u0000\u0000\u0000H\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0012\u0000\u0000\u0000\u0000\u0000\u0000\u0004\u0000\u0000\u0000\u0000\u0000\u0000 \u0001\u0000\u0000\u0000\u0000\u0000\u0000H\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0012\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000$\u0000\u0000\u0000\u0000\u0000\u0000\u0000\t\u0000\u0000\u0000\u0000\u0000\u0000@\u0002\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000$\u0000\u0000\u0000\u0000\u0000\u0000\u0000\t\u0000\u0000\u0000\u0000\u0000\u0000@\u0002\u0000\u0000\u0000\u0000\u0000\u0000\u0012\u0000\u0000\u0000\u0000\u0000\u0000\u0004\u0000\u0000\u0000\u0000\u0000\u0000 \u0001\u0000\u0000\u0000\u0000\u0000\u0000H\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0012\u0000\u0000\u0000\u0000\u0000\u0000\u0004\u0000\u0000\u0000\u0000\u0000\u0000 \u0001\u0000\u0000\u0000\u0000\u0000\u0000H\u0000\u0000\u0000\u0000\u0000\u0000@\u0002\u0000\u0000\u0000\u0000\u0000\u0000\u0012\u0000\u0000\u0000\u0000\u0000\u0000\u0004\u0000\u0000\u0000\u0000\u0000\u0000 \u0001\u0000\u0000\u0000\u0000\u0000\u0000H\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0012\u0000\u0000\u0000\u0000\u0000\u0000\u0004\u0000\u0000\u0000\u0000\u0000\u0000 \u0001\u0000\u0000\u0000\u0000\u0000\u0000H\u0000\u0000\u0000\u0000\u0000\u0000@\u0002\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000$\u0000\u0000\u0000\u0000\u0000\u0000\u0000\t\u0000\u0000\u0000\u0000\u0000\u0000pkÿ\u000f¤\u0012v´\u0003w\u0000\u0000\u0000\u0000IEND®B`"}}},"includes":["lychee.ui.sprite.Background"],"exports":"function(lychee, global, attachments) {\n\n\tconst _TEXTURE    = attachments[\"png\"];\n\tconst _CONFIG     = attachments[\"json\"].buffer;\n\tconst _Background = lychee.import('lychee.ui.sprite.Background');\n\n\n\n\t/*\n\t * IMPLEMENTATION\n\t */\n\n\tconst Composite = function(data) {\n\n\t\tlet states = Object.assign({}, data);\n\n\n\t\tstates.color   = '#050a0d';\n\t\tstates.texture = _TEXTURE;\n\t\tstates.map     = _CONFIG.map;\n\t\tstates.states  = _CONFIG.states;\n\t\tstates.state   = 'default';\n\t\tstates.width   = _CONFIG.width;\n\t\tstates.height  = _CONFIG.height;\n\n\n\t\t_Background.call(this, states);\n\n\t\tstates = null;\n\n\t};\n\n\n\tComposite.prototype = {\n\n\t\t/*\n\t\t * ENTITY API\n\t\t */\n\n\t\t// deserialize: function(blob) {},\n\n\t\tserialize: function() {\n\n\t\t\tlet data = _Background.prototype.serialize.call(this);\n\t\t\tdata['constructor'] = 'game.ui.sprite.Background';\n\n\n\t\t\treturn data;\n\n\t\t}\n\n\t};\n\n\n\treturn Composite;\n\n}"}},"lychee.ui.Layer":{"constructor":"lychee.Definition","arguments":[{"id":"lychee.ui.Layer","url":"/libraries/lychee/source/ui/Layer.js"}],"blob":{"attaches":{},"requires":["lychee.ui.Entity"],"includes":["lychee.event.Emitter"],"exports":"function(lychee, global, attachments) {\n\n\tconst _Emitter = lychee.import('lychee.event.Emitter');\n\tconst _Entity  = lychee.import('lychee.ui.Entity');\n\n\n\n\t/*\n\t * HELPERS\n\t */\n\n\tconst _validate_effect = function(effect) {\n\n\t\tif (effect instanceof Object) {\n\n\t\t\tif (\n\t\t\t\ttypeof effect.update === 'function'\n\t\t\t\t&& typeof effect.render === 'function'\n\t\t\t) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t}\n\n\n\t\treturn false;\n\n\t};\n\n\tconst _validate_entity = function(entity) {\n\n\t\tif (entity instanceof Object) {\n\n\t\t\tif (\n\t\t\t\ttypeof entity.update === 'function'\n\t\t\t\t&& typeof entity.render === 'function'\n\t\t\t\t&& typeof entity.shape === 'number'\n\t\t\t\t&& typeof entity.isAtPosition === 'function'\n\t\t\t) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t}\n\n\n\t\treturn false;\n\n\t};\n\n\tconst _project_layer = function(mode) {\n\n\t\tlet grid       = this.grid;\n\t\tlet projection = this.projection;\n\n\n\t\tif (mode === true) {\n\n\t\t\tthis.entities.forEach(function(entity) {\n\n\t\t\t\tlet w = entity.width;\n\t\t\t\tlet h = entity.height;\n\t\t\t\tlet d = entity.depth;\n\t\t\t\tlet x = entity.position.x;\n\t\t\t\tlet y = entity.position.y;\n\t\t\t\tlet z = entity.position.z;\n\n\n\t\t\t\tif (projection === Composite.PROJECTION.tile) {\n\n\t\t\t\t\tw = w * grid.width;\n\t\t\t\t\th = h * grid.height;\n\t\t\t\t\td = d * grid.depth;\n\t\t\t\t\tx = x * grid.width;\n\t\t\t\t\ty = y * grid.height;\n\t\t\t\t\tz = z * grid.depth;\n\n\t\t\t\t} else if (projection === Composite.PROJECTION.isometry) {\n\n\t\t\t\t\tw = w * grid.width;\n\t\t\t\t\th = h * grid.height;\n\t\t\t\t\td = d * grid.depth;\n\t\t\t\t\tx = (x - y) * grid.width;\n\t\t\t\t\ty = (x + y) * (grid.height / 2);\n\t\t\t\t\tz = z * grid.depth;\n\n\t\t\t\t}\n\n\n\t\t\t\tentity.width      = w;\n\t\t\t\tentity.height     = h;\n\t\t\t\tentity.depth      = d;\n\t\t\t\tentity.position.x = x;\n\t\t\t\tentity.position.y = y;\n\t\t\t\tentity.position.z = z;\n\n\t\t\t});\n\n\t\t} else {\n\n\t\t\tthis.entities.forEach(function(entity) {\n\n\t\t\t\tlet w = entity.width;\n\t\t\t\tlet h = entity.height;\n\t\t\t\tlet d = entity.depth;\n\t\t\t\tlet x = entity.position.x;\n\t\t\t\tlet y = entity.position.y;\n\t\t\t\tlet z = entity.position.z;\n\n\n\t\t\t\tif (projection === Composite.PROJECTION.tile) {\n\n\t\t\t\t\tw = w / grid.width;\n\t\t\t\t\th = h / grid.height;\n\t\t\t\t\td = d / grid.depth;\n\t\t\t\t\tx = x / grid.width;\n\t\t\t\t\ty = y / grid.height;\n\t\t\t\t\tz = z / grid.depth;\n\n\t\t\t\t} else if (projection === Composite.PROJECTION.isometry) {\n\n\t\t\t\t\tw = w / grid.width;\n\t\t\t\t\th = h / grid.height;\n\t\t\t\t\td = d / grid.depth;\n\t\t\t\t\tx = (y / grid.height) + (x / (2 * grid.width));\n\t\t\t\t\ty = (y / grid.height) - (x / (2 * grid.width));\n\t\t\t\t\tz = z / grid.depth;\n\n\t\t\t\t}\n\n\n\t\t\t\tentity.width      = w;\n\t\t\t\tentity.height     = h;\n\t\t\t\tentity.depth      = d;\n\t\t\t\tentity.position.x = x;\n\t\t\t\tentity.position.y = y;\n\t\t\t\tentity.position.z = z;\n\n\t\t\t});\n\n\t\t}\n\n\t};\n\n\tconst _on_relayout = function() {\n\n\t\tif (this.__project === true) {\n\n\t\t\t_project_layer.call(this, true);\n\n\t\t\tthis.__project = false;\n\n\t\t} else {\n\n\t\t\t_project_layer.call(this, false);\n\t\t\t_project_layer.call(this, true);\n\n\t\t\tthis.__project = false;\n\n\t\t}\n\n\n\t\tif (this.__relayout === true) {\n\n\t\t\tlet hwidth  = this.width  / 2;\n\t\t\tlet hheight = this.height / 2;\n\t\t\tlet hdepth  = this.depth  / 2;\n\n\t\t\tfor (let e = 0, el = this.entities.length; e < el; e++) {\n\n\t\t\t\tlet entity = this.entities[e];\n\t\t\t\tif (typeof entity.trigger === 'function') {\n\t\t\t\t\tentity.trigger('relayout');\n\t\t\t\t}\n\n\n\t\t\t\tlet boundx = Math.abs(entity.position.x + this.offset.x);\n\t\t\t\tlet boundy = Math.abs(entity.position.y + this.offset.y);\n\t\t\t\tlet boundz = Math.abs(entity.position.z + this.offset.z);\n\n\t\t\t\tif (entity.shape === _Entity.SHAPE.circle) {\n\t\t\t\t\tboundx += entity.radius;\n\t\t\t\t\tboundy += entity.radius;\n\t\t\t\t\tboundz += entity.radius;\n\t\t\t\t} else if (entity.shape === _Entity.SHAPE.rectangle) {\n\t\t\t\t\tboundx += entity.width  / 2;\n\t\t\t\t\tboundy += entity.height / 2;\n\t\t\t\t\tboundz += entity.depth  / 2;\n\t\t\t\t}\n\n\t\t\t\thwidth  = Math.max(hwidth,  boundx);\n\t\t\t\thheight = Math.max(hheight, boundy);\n\t\t\t\thdepth  = Math.max(hdepth,  boundz);\n\n\t\t\t}\n\n\n\t\t\tthis.width  = hwidth  * 2;\n\t\t\tthis.height = hheight * 2;\n\t\t\tthis.depth  = hdepth  * 2;\n\n\t\t}\n\n\t};\n\n\tconst _on_scroll = function(id, direction, position, delta) {\n\n\t\tif (this.visible === false) return null;\n\n\n\t\tlet triggered = null;\n\t\tlet args      = [ id, direction, {\n\t\t\tx: position.x - this.offset.x,\n\t\t\ty: position.y - this.offset.y\n\t\t}, delta ];\n\n\n\t\tlet entity = this.getEntity(null, args[2]);\n\t\tif (entity !== null) {\n\n\t\t\tif (typeof entity.trigger === 'function') {\n\n\t\t\t\targs[2].x -= entity.position.x;\n\t\t\t\targs[2].y -= entity.position.y;\n\n\t\t\t\tlet result = entity.trigger('scroll', args);\n\t\t\t\tif (result === true) {\n\t\t\t\t\ttriggered = entity;\n\t\t\t\t} else if (result !== false) {\n\t\t\t\t\ttriggered = result;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\n\t\treturn triggered;\n\n\t};\n\n\tconst _on_touch = function(id, position, delta) {\n\n\t\tif (this.visible === false) return null;\n\n\n\t\tlet triggered = null;\n\t\tlet args      = [ id, {\n\t\t\tx: position.x - this.offset.x,\n\t\t\ty: position.y - this.offset.y\n\t\t}, delta ];\n\n\n\t\tlet entity = this.getEntity(null, args[1]);\n\t\tif (entity !== null) {\n\n\t\t\tif (typeof entity.trigger === 'function') {\n\n\t\t\t\targs[1].x -= entity.position.x;\n\t\t\t\targs[1].y -= entity.position.y;\n\n\t\t\t\tlet result = entity.trigger('touch', args);\n\t\t\t\tif (result === true) {\n\t\t\t\t\ttriggered = entity;\n\t\t\t\t} else if (result !== false) {\n\t\t\t\t\ttriggered = result;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\n\t\treturn triggered;\n\n\t};\n\n\n\n\t/*\n\t * IMPLEMENTATION\n\t */\n\n\tconst Composite = function(data) {\n\n\t\tlet states = Object.assign({}, data);\n\n\n\t\tthis.width  = typeof states.width  === 'number' ? states.width  : 0;\n\t\tthis.height = typeof states.height === 'number' ? states.height : 0;\n\t\tthis.depth  = typeof states.depth === 'number'  ? states.depth  : 0;\n\t\tthis.radius = typeof states.radius === 'number' ? states.radius : 0;\n\n\t\tthis.alpha      = 1;\n\t\tthis.effects    = [];\n\t\tthis.entities   = [];\n\t\tthis.grid       = { width: 0, height: 0, depth: 0 };\n\t\tthis.offset     = { x: 0, y: 0, z: 0 };\n\t\tthis.position   = { x: 0, y: 0, z: 0 };\n\t\tthis.projection = Composite.PROJECTION.pixel;\n\t\tthis.shape      = _Entity.SHAPE.rectangle;\n\t\tthis.visible    = true;\n\n\t\tthis.__map      = {};\n\t\tthis.__project  = true;\n\t\tthis.__relayout = true;\n\n\n\t\tthis.setAlpha(states.alpha);\n\t\tthis.setEntities(states.entities);\n\t\tthis.setGrid(states.grid);\n\t\tthis.setOffset(states.offset);\n\t\tthis.setProjection(states.projection);\n\t\tthis.setPosition(states.position);\n\t\tthis.setRelayout(states.relayout);\n\t\tthis.setVisible(states.visible);\n\n\n\t\t_Emitter.call(this);\n\n\t\tstates = null;\n\n\n\n\t\t/*\n\t\t * INITIALIZATION\n\t\t */\n\n\t\tthis.bind('scroll',   _on_scroll,   this);\n\t\tthis.bind('touch',    _on_touch,    this);\n\t\tthis.bind('relayout', _on_relayout, this);\n\n\t};\n\n\n\tComposite.PROJECTION = {\n\t\tpixel:    0,\n\t\ttile:     1,\n\t\tisometry: 2\n\t};\n\n\n\tComposite.prototype = {\n\n\t\t/*\n\t\t * ENTITY API\n\t\t */\n\n\t\tdeserialize: function(blob) {\n\n\t\t\tif (blob.entities instanceof Array) {\n\n\t\t\t\tlet entities = [];\n\t\t\t\tlet map      = {};\n\n\t\t\t\tfor (let be = 0, bel = blob.entities.length; be < bel; be++) {\n\t\t\t\t\tentities.push(lychee.deserialize(blob.entities[be]));\n\t\t\t\t}\n\n\n\t\t\t\tif (blob.map instanceof Object) {\n\n\t\t\t\t\tfor (let bid in blob.map) {\n\n\t\t\t\t\t\tlet index = blob.map[bid];\n\t\t\t\t\t\tif (typeof index === 'number') {\n\t\t\t\t\t\t\tmap[bid] = index;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\n\t\t\t\tfor (let e = 0, el = entities.length; e < el; e++) {\n\n\t\t\t\t\tlet id = null;\n\t\t\t\t\tfor (let mid in map) {\n\n\t\t\t\t\t\tif (map[mid] === e) {\n\t\t\t\t\t\t\tid = mid;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\n\t\t\t\t\tif (id !== null) {\n\t\t\t\t\t\tthis.setEntity(id, entities[e]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.addEntity(entities[e]);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\tif (blob.project === false) {\n\t\t\t\tthis.__project = false;\n\t\t\t}\n\n\t\t},\n\n\t\tserialize: function() {\n\n\t\t\tlet data = _Emitter.prototype.serialize.call(this);\n\t\t\tdata['constructor'] = 'lychee.ui.Layer';\n\n\t\t\tlet states = {};\n\t\t\tlet blob   = (data['blob'] || {});\n\n\n\t\t\tif (this.width  !== 0) states.width  = this.width;\n\t\t\tif (this.height !== 0) states.height = this.height;\n\t\t\tif (this.depth !== 0)  states.depth  = this.depth;\n\t\t\tif (this.radius !== 0) states.radius = this.radius;\n\n\n\t\t\tif (this.grid.width !== 0 || this.grid.height !== 0 || this.grid.depth !== 0) {\n\n\t\t\t\tstates.grid = {};\n\n\t\t\t\tif (this.grid.width !== 0)  states.grid.width  = this.grid.width;\n\t\t\t\tif (this.grid.height !== 0) states.grid.height = this.grid.height;\n\t\t\t\tif (this.grid.depth !== 0)  states.grid.depth  = this.grid.depth;\n\n\t\t\t}\n\n\t\t\tif (this.offset.x !== 0 || this.offset.y !== 0 || this.offset.z !== 0) {\n\n\t\t\t\tstates.offset = {};\n\n\t\t\t\tif (this.offset.x !== 0) states.offset.x = this.offset.x;\n\t\t\t\tif (this.offset.y !== 0) states.offset.y = this.offset.y;\n\t\t\t\tif (this.offset.z !== 0) states.offset.z = this.offset.z;\n\n\t\t\t}\n\n\t\t\tif (this.position.x !== 0 || this.position.y !== 0 || this.position.z !== 0) {\n\n\t\t\t\tstates.position = {};\n\n\t\t\t\tif (this.position.x !== 0) states.position.x = this.position.x;\n\t\t\t\tif (this.position.y !== 0) states.position.y = this.position.y;\n\t\t\t\tif (this.position.z !== 0) states.position.z = this.position.z;\n\n\t\t\t}\n\n\t\t\tif (this.alpha !== 1)                               states.alpha      = this.alpha;\n\t\t\tif (this.__project !== true)                        blob.project      = this.__project;\n\t\t\tif (this.projection !== Composite.PROJECTION.pixel) states.projection = this.projection;\n\t\t\tif (this.__relayout !== true)                       states.relayout   = this.__relayout;\n\t\t\tif (this.visible !== true)                          states.visible    = this.visible;\n\n\n\t\t\tif (this.entities.length > 0) {\n\t\t\t\tblob.entities = this.entities.map(lychee.serialize);\n\t\t\t}\n\n\n\t\t\tif (blob.entities instanceof Array && Object.keys(this.__map).length > 0) {\n\n\t\t\t\tblob.map = Object.map(this.__map, function(val, key) {\n\n\t\t\t\t\tlet index = this.entities.indexOf(val);\n\t\t\t\t\tif (index !== -1) {\n\t\t\t\t\t\treturn index;\n\t\t\t\t\t}\n\n\n\t\t\t\t\treturn undefined;\n\n\t\t\t\t}, this);\n\n\t\t\t}\n\n\n\t\t\tdata['arguments'][0] = states;\n\t\t\tdata['blob']         = Object.keys(blob).length > 0 ? blob : null;\n\n\n\t\t\treturn data;\n\n\t\t},\n\n\t\trender: function(renderer, offsetX, offsetY) {\n\n\t\t\tif (this.visible === false) return;\n\n\n\t\t\tlet alpha    = this.alpha;\n\t\t\tlet position = this.position;\n\t\t\tlet offset   = this.offset;\n\n\n\t\t\tlet ox = position.x + offsetX + offset.x;\n\t\t\tlet oy = position.y + offsetY + offset.y;\n\n\n\t\t\tif (alpha !== 1) {\n\t\t\t\trenderer.setAlpha(alpha);\n\t\t\t}\n\n\n\t\t\tlet entities = this.entities;\n\t\t\tfor (let en = 0, enl = entities.length; en < enl; en++) {\n\t\t\t\tentities[en].render(renderer, ox, oy);\n\t\t\t}\n\n\t\t\tlet effects = this.effects;\n\t\t\tfor (let ef = 0, efl = effects.length; ef < efl; ef++) {\n\t\t\t\teffects[ef].render(renderer, offsetX, offsetY);\n\t\t\t}\n\n\n\t\t\tif (alpha !== 1) {\n\t\t\t\trenderer.setAlpha(1.0);\n\t\t\t}\n\n\n\t\t\tif (lychee.debug === true) {\n\n\t\t\t\tlet bx      = position.x + offsetX;\n\t\t\t\tlet by      = position.y + offsetY;\n\t\t\t\tlet hwidth  = this.width  / 2;\n\t\t\t\tlet hheight = this.height / 2;\n\n\n\t\t\t\trenderer.drawBox(\n\t\t\t\t\tbx - hwidth,\n\t\t\t\t\tby - hheight,\n\t\t\t\t\tbx + hwidth,\n\t\t\t\t\tby + hheight,\n\t\t\t\t\t'#ff00ff',\n\t\t\t\t\tfalse,\n\t\t\t\t\t1\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t},\n\n\t\tupdate: function(clock, delta) {\n\n\t\t\tlet entities = this.entities;\n\t\t\tfor (let en = 0, enl = entities.length; en < enl; en++) {\n\t\t\t\tentities[en].update(clock, delta);\n\t\t\t}\n\n\t\t\tlet effects = this.effects;\n\t\t\tfor (let ef = 0, efl = effects.length; ef < efl; ef++) {\n\n\t\t\t\tlet effect = effects[ef];\n\t\t\t\tif (effect.update(this, clock, delta) === false) {\n\t\t\t\t\tthis.removeEffect(effect);\n\t\t\t\t\tefl--;\n\t\t\t\t\tef--;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * CUSTOM API\n\t\t */\n\n\t\tquery: function(query) {\n\n\t\t\tquery = typeof query === 'string' ? query : null;\n\n\n\t\t\tif (query !== null) {\n\n\t\t\t\tlet tmp    = query.split(' > ');\n\t\t\t\tlet entity = this.getEntity(tmp[0].trim());\n\t\t\t\tif (entity !== null) {\n\n\t\t\t\t\tfor (let t = 1, tl = tmp.length; t < tl; t++) {\n\n\t\t\t\t\t\tentity = entity.getEntity(tmp[t].trim());\n\n\t\t\t\t\t\tif (entity === null) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\treturn entity;\n\n\t\t\t}\n\n\n\t\t\treturn null;\n\n\t\t},\n\n\t\tisAtPosition: function(position) {\n\n\t\t\tposition = position instanceof Object ? position : null;\n\n\n\t\t\tif (position !== null) {\n\n\t\t\t\tif (typeof position.x === 'number' && typeof position.y === 'number') {\n\n\t\t\t\t\tlet ax = position.x;\n\t\t\t\t\tlet ay = position.y;\n\t\t\t\t\tlet bx = this.position.x;\n\t\t\t\t\tlet by = this.position.y;\n\n\n\t\t\t\t\tlet shape = this.shape;\n\t\t\t\t\tif (shape === _Entity.SHAPE.circle) {\n\n\t\t\t\t\t\tlet dist = Math.sqrt(Math.pow(ax - bx, 2) + Math.pow(ay - by, 2));\n\t\t\t\t\t\tif (dist < this.radius) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if (shape === _Entity.SHAPE.rectangle) {\n\n\t\t\t\t\t\tlet hwidth  = this.width  / 2;\n\t\t\t\t\t\tlet hheight = this.height / 2;\n\t\t\t\t\t\tlet colX    = (ax >= bx - hwidth)  && (ax <= bx + hwidth);\n\t\t\t\t\t\tlet colY    = (ay >= by - hheight) && (ay <= by + hheight);\n\n\n\t\t\t\t\t\treturn colX && colY;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetAlpha: function(alpha) {\n\n\t\t\talpha = typeof alpha === 'number' ? alpha : null;\n\n\n\t\t\tif (alpha !== null) {\n\n\t\t\t\tthis.alpha = Math.min(Math.max(alpha, 0), 1);\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\taddEffect: function(effect) {\n\n\t\t\teffect = _validate_effect(effect) ? effect : null;\n\n\n\t\t\tif (effect !== null) {\n\n\t\t\t\tlet index = this.effects.indexOf(effect);\n\t\t\t\tif (index === -1) {\n\n\t\t\t\t\tthis.effects.push(effect);\n\n\t\t\t\t\treturn true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tremoveEffect: function(effect) {\n\n\t\t\teffect = _validate_effect(effect) ? effect : null;\n\n\n\t\t\tif (effect !== null) {\n\n\t\t\t\tlet index = this.effects.indexOf(effect);\n\t\t\t\tif (index !== -1) {\n\n\t\t\t\t\tthis.effects.splice(index, 1);\n\n\t\t\t\t\treturn true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tremoveEffects: function() {\n\n\t\t\tlet effects = this.effects;\n\n\t\t\tfor (let e = 0, el = effects.length; e < el; e++) {\n\n\t\t\t\teffects[e].update(this, Infinity, 0);\n\t\t\t\tthis.removeEffect(effects[e]);\n\n\t\t\t\tel--;\n\t\t\t\te--;\n\n\t\t\t}\n\n\n\t\t\treturn true;\n\n\t\t},\n\n\t\taddEntity: function(entity) {\n\n\t\t\tentity = _validate_entity(entity) === true ? entity : null;\n\n\n\t\t\tif (entity !== null) {\n\n\t\t\t\tlet index = this.entities.indexOf(entity);\n\t\t\t\tif (index === -1) {\n\n\t\t\t\t\tthis.entities.push(entity);\n\n\t\t\t\t\tif (this.__relayout === true) {\n\t\t\t\t\t\tthis.trigger('relayout');\n\t\t\t\t\t}\n\n\t\t\t\t\treturn true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetEntity: function(id, entity) {\n\n\t\t\tid     = typeof id === 'string'            ? id     : null;\n\t\t\tentity = _validate_entity(entity) === true ? entity : null;\n\n\n\t\t\tif (id !== null && entity !== null && this.__map[id] === undefined) {\n\n\t\t\t\tthis.__map[id] = entity;\n\t\t\t\tthis.entities.push(entity);\n\n\t\t\t\tif (this.__relayout === true) {\n\t\t\t\t\tthis.trigger('relayout');\n\t\t\t\t}\n\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tgetEntity: function(id, position) {\n\n\t\t\tid        = typeof id === 'string'    ? id       : null;\n\t\t\tposition = position instanceof Object ? position : null;\n\n\n\t\t\tlet found = null;\n\n\n\t\t\tif (id !== null) {\n\n\t\t\t\tlet num = parseInt(id, 10);\n\n\t\t\t\tif (this.__map[id] !== undefined) {\n\t\t\t\t\tfound = this.__map[id];\n\t\t\t\t} else if (isNaN(num) === false) {\n\t\t\t\t\tfound = this.entities[num] || null;\n\t\t\t\t}\n\n\t\t\t} else if (position !== null) {\n\n\t\t\t\tif (typeof position.x === 'number' && typeof position.y === 'number') {\n\n\t\t\t\t\tfor (let e = this.entities.length - 1; e >= 0; e--) {\n\n\t\t\t\t\t\tlet entity = this.entities[e];\n\t\t\t\t\t\tif (entity.visible === false) continue;\n\n\t\t\t\t\t\tif (entity.isAtPosition(position) === true) {\n\t\t\t\t\t\t\tfound = entity;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn found;\n\n\t\t},\n\n\t\tremoveEntity: function(entity) {\n\n\t\t\tentity = _validate_entity(entity) === true ? entity : null;\n\n\n\t\t\tif (entity !== null) {\n\n\t\t\t\tlet found = false;\n\n\t\t\t\tlet index = this.entities.indexOf(entity);\n\t\t\t\tif (index !== -1) {\n\n\t\t\t\t\tthis.entities.splice(index, 1);\n\t\t\t\t\tfound = true;\n\n\t\t\t\t}\n\n\n\t\t\t\tfor (let id in this.__map) {\n\n\t\t\t\t\tif (this.__map[id] === entity) {\n\n\t\t\t\t\t\tdelete this.__map[id];\n\t\t\t\t\t\tfound = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\n\t\t\t\tif (found === true) {\n\n\t\t\t\t\tif (this.__relayout === true) {\n\t\t\t\t\t\tthis.trigger('relayout');\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\n\t\t\t\treturn found;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetEntities: function(entities) {\n\n\t\t\tentities = entities instanceof Array ? entities : null;\n\n\n\t\t\tlet all = true;\n\n\t\t\tif (entities !== null) {\n\n\t\t\t\tlet filtered = [];\n\n\t\t\t\tfor (let e = 0, el = entities.length; e < el; e++) {\n\n\t\t\t\t\tlet entity = entities[e];\n\t\t\t\t\tlet index  = filtered.indexOf(entity);\n\t\t\t\t\tif (index === -1) {\n\t\t\t\t\t\tfiltered.push(entity);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tall = false;\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tthis.entities = filtered;\n\n\t\t\t\tif (this.__relayout === true) {\n\t\t\t\t\tthis.trigger('relayout');\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn all;\n\n\t\t},\n\n\t\tremoveEntities: function() {\n\n\t\t\tlet entities = this.entities;\n\n\t\t\tfor (let e = 0, el = entities.length; e < el; e++) {\n\n\t\t\t\tentities.splice(e, 1);\n\t\t\t\tel--;\n\t\t\t\te--;\n\n\t\t\t}\n\n\t\t\treturn true;\n\n\t\t},\n\n\t\tsetGrid: function(grid) {\n\n\t\t\tgrid = grid instanceof Object ? grid : null;\n\n\n\t\t\tif (grid !== null) {\n\n\t\t\t\tthis.grid.width  = typeof grid.width === 'number'  ? grid.width  : this.grid.width;\n\t\t\t\tthis.grid.height = typeof grid.height === 'number' ? grid.height : this.grid.height;\n\t\t\t\tthis.grid.depth  = typeof grid.depth === 'number'  ? grid.depth  : this.grid.depth;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetOffset: function(offset) {\n\n\t\t\toffset = offset instanceof Object ? offset : null;\n\n\n\t\t\tif (offset !== null) {\n\n\t\t\t\tthis.offset.x = typeof offset.x === 'number' ? offset.x : this.offset.x;\n\t\t\t\tthis.offset.y = typeof offset.y === 'number' ? offset.y : this.offset.y;\n\t\t\t\tthis.offset.z = typeof offset.z === 'number' ? offset.z : this.offset.z;\n\n\t\t\t\tif (this.__relayout === true) {\n\t\t\t\t\tthis.trigger('relayout');\n\t\t\t\t}\n\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetPosition: function(position) {\n\n\t\t\tposition = position instanceof Object ? position : null;\n\n\n\t\t\tif (position !== null) {\n\n\t\t\t\tthis.position.x = typeof position.x === 'number' ? position.x : this.position.x;\n\t\t\t\tthis.position.y = typeof position.y === 'number' ? position.y : this.position.y;\n\t\t\t\tthis.position.z = typeof position.z === 'number' ? position.z : this.position.z;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetProjection: function(projection) {\n\n\t\t\tprojection = lychee.enumof(Composite.PROJECTION, projection) ? projection : null;\n\n\n\t\t\tif (projection !== null) {\n\n\t\t\t\tthis.projection = projection;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetRelayout: function(relayout) {\n\n\t\t\trelayout = typeof relayout === 'boolean' ? relayout : null;\n\n\n\t\t\tif (relayout !== null) {\n\n\t\t\t\tthis.__relayout = relayout;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetVisible: function(visible) {\n\n\t\t\tvisible = typeof visible === 'boolean' ? visible : null;\n\n\n\t\t\tif (visible !== null) {\n\n\t\t\t\tthis.visible = visible;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t}\n\n\t};\n\n\n\treturn Composite;\n\n}"}},"lychee.app.Layer":{"constructor":"lychee.Definition","arguments":[{"id":"lychee.app.Layer","url":"/libraries/lychee/source/app/Layer.js"}],"blob":{"attaches":{},"requires":["lychee.app.Entity"],"includes":["lychee.event.Emitter"],"exports":"function(lychee, global, attachments) {\n\n\tconst _Emitter = lychee.import('lychee.event.Emitter');\n\tconst _Entity  = lychee.import('lychee.app.Entity');\n\n\n\n\t/*\n\t * HELPERS\n\t */\n\n\tconst _validate_effect = function(effect) {\n\n\t\tif (effect instanceof Object) {\n\n\t\t\tif (\n\t\t\t\ttypeof effect.update === 'function'\n\t\t\t\t&& typeof effect.render === 'function'\n\t\t\t) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t}\n\n\n\t\treturn false;\n\n\t};\n\n\tconst _validate_entity = function(entity) {\n\n\t\tif (entity instanceof Object) {\n\n\t\t\tif (\n\t\t\t\ttypeof entity.update === 'function'\n\t\t\t\t&& typeof entity.render === 'function'\n\t\t\t\t&& typeof entity.shape === 'number'\n\t\t\t\t&& typeof entity.isAtPosition === 'function'\n\t\t\t) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t}\n\n\n\t\treturn false;\n\n\t};\n\n\tconst _project_layer = function(mode) {\n\n\t\tlet grid       = this.grid;\n\t\tlet projection = this.projection;\n\n\n\t\tif (mode === true) {\n\n\t\t\tthis.entities.forEach(function(entity) {\n\n\t\t\t\tlet w = entity.width;\n\t\t\t\tlet h = entity.height;\n\t\t\t\tlet d = entity.depth;\n\t\t\t\tlet x = entity.position.x;\n\t\t\t\tlet y = entity.position.y;\n\t\t\t\tlet z = entity.position.z;\n\n\n\t\t\t\tif (projection === Composite.PROJECTION.tile) {\n\n\t\t\t\t\tw = w * grid.width;\n\t\t\t\t\th = h * grid.height;\n\t\t\t\t\td = d * grid.depth;\n\t\t\t\t\tx = x * grid.width;\n\t\t\t\t\ty = y * grid.height;\n\t\t\t\t\tz = z * grid.depth;\n\n\t\t\t\t} else if (projection === Composite.PROJECTION.isometry) {\n\n\t\t\t\t\tw = w * grid.width;\n\t\t\t\t\th = h * grid.height;\n\t\t\t\t\td = d * grid.depth;\n\t\t\t\t\tx = (x - y) * grid.width;\n\t\t\t\t\ty = (x + y) * (grid.height / 2);\n\t\t\t\t\tz = z * grid.depth;\n\n\t\t\t\t}\n\n\n\t\t\t\tentity.width      = w;\n\t\t\t\tentity.height     = h;\n\t\t\t\tentity.depth      = d;\n\t\t\t\tentity.position.x = x;\n\t\t\t\tentity.position.y = y;\n\t\t\t\tentity.position.z = z;\n\n\t\t\t});\n\n\t\t} else {\n\n\t\t\tthis.entities.forEach(function(entity) {\n\n\t\t\t\tlet w = entity.width;\n\t\t\t\tlet h = entity.height;\n\t\t\t\tlet d = entity.depth;\n\t\t\t\tlet x = entity.position.x;\n\t\t\t\tlet y = entity.position.y;\n\t\t\t\tlet z = entity.position.z;\n\n\n\t\t\t\tif (projection === Composite.PROJECTION.tile) {\n\n\t\t\t\t\tw = w / grid.width;\n\t\t\t\t\th = h / grid.height;\n\t\t\t\t\td = d / grid.depth;\n\t\t\t\t\tx = x / grid.width;\n\t\t\t\t\ty = y / grid.height;\n\t\t\t\t\tz = z / grid.depth;\n\n\t\t\t\t} else if (projection === Composite.PROJECTION.isometry) {\n\n\t\t\t\t\tw = w / grid.width;\n\t\t\t\t\th = h / grid.height;\n\t\t\t\t\td = d / grid.depth;\n\t\t\t\t\tx = (y / grid.height) + (x / (2 * grid.width));\n\t\t\t\t\ty = (y / grid.height) - (x / (2 * grid.width));\n\t\t\t\t\tz = z / grid.depth;\n\n\t\t\t\t}\n\n\n\t\t\t\tentity.width      = w;\n\t\t\t\tentity.height     = h;\n\t\t\t\tentity.depth      = d;\n\t\t\t\tentity.position.x = x;\n\t\t\t\tentity.position.y = y;\n\t\t\t\tentity.position.z = z;\n\n\t\t\t});\n\n\t\t}\n\n\t};\n\n\tconst _on_relayout = function() {\n\n\t\tif (this.__project === true) {\n\n\t\t\t_project_layer.call(this, true);\n\n\t\t\tthis.__project = false;\n\n\t\t} else {\n\n\t\t\t_project_layer.call(this, false);\n\t\t\t_project_layer.call(this, true);\n\n\t\t\tthis.__project = false;\n\n\t\t}\n\n\n\t\tif (this.__relayout === true) {\n\n\t\t\tlet hwidth  = this.width  / 2;\n\t\t\tlet hheight = this.height / 2;\n\t\t\tlet hdepth  = this.depth  / 2;\n\n\t\t\tfor (let e = 0, el = this.entities.length; e < el; e++) {\n\n\t\t\t\tlet entity = this.entities[e];\n\t\t\t\tif (typeof entity.trigger === 'function') {\n\t\t\t\t\tentity.trigger('relayout');\n\t\t\t\t}\n\n\n\t\t\t\tlet boundx = Math.abs(entity.position.x + this.offset.x);\n\t\t\t\tlet boundy = Math.abs(entity.position.y + this.offset.y);\n\t\t\t\tlet boundz = Math.abs(entity.position.z + this.offset.z);\n\n\t\t\t\tif (entity.shape === _Entity.SHAPE.circle) {\n\t\t\t\t\tboundx += entity.radius;\n\t\t\t\t\tboundy += entity.radius;\n\t\t\t\t\tboundz += entity.radius;\n\t\t\t\t} else if (entity.shape === _Entity.SHAPE.rectangle) {\n\t\t\t\t\tboundx += entity.width  / 2;\n\t\t\t\t\tboundy += entity.height / 2;\n\t\t\t\t\tboundz += entity.depth  / 2;\n\t\t\t\t}\n\n\t\t\t\thwidth  = Math.max(hwidth,  boundx);\n\t\t\t\thheight = Math.max(hheight, boundy);\n\t\t\t\thdepth  = Math.max(hdepth,  boundz);\n\n\t\t\t}\n\n\n\t\t\tthis.width  = hwidth  * 2;\n\t\t\tthis.height = hheight * 2;\n\t\t\tthis.depth  = hdepth  * 2;\n\n\t\t}\n\n\t};\n\n\n\n\t/*\n\t * IMPLEMENTATION\n\t */\n\n\tconst Composite = function(data) {\n\n\t\tlet states = Object.assign({}, data);\n\n\n\t\tthis.width  = typeof states.width  === 'number' ? states.width  : 0;\n\t\tthis.height = typeof states.height === 'number' ? states.height : 0;\n\t\tthis.depth  = typeof states.depth === 'number'  ? states.depth  : 0;\n\t\tthis.radius = typeof states.radius === 'number' ? states.radius : 0;\n\n\t\tthis.alpha      = 1;\n\t\tthis.effects    = [];\n\t\tthis.entities   = [];\n\t\tthis.grid       = { width: 0, height: 0, depth: 0 };\n\t\tthis.offset     = { x: 0, y: 0, z: 0 };\n\t\tthis.position   = { x: 0, y: 0, z: 0 };\n\t\tthis.projection = Composite.PROJECTION.pixel;\n\t\tthis.shape      = _Entity.SHAPE.rectangle;\n\t\tthis.visible    = true;\n\n\t\tthis.__map      = {};\n\t\tthis.__project  = true;\n\t\tthis.__relayout = true;\n\n\n\t\tthis.setAlpha(states.alpha);\n\t\tthis.setEntities(states.entities);\n\t\tthis.setGrid(states.grid);\n\t\tthis.setOffset(states.offset);\n\t\tthis.setProjection(states.projection);\n\t\tthis.setPosition(states.position);\n\t\tthis.setRelayout(states.relayout);\n\t\tthis.setVisible(states.visible);\n\n\n\t\t_Emitter.call(this);\n\n\t\tstates = null;\n\n\n\n\t\t/*\n\t\t * INITIALIZATION\n\t\t */\n\n\t\tthis.bind('relayout', _on_relayout, this);\n\n\t};\n\n\n\tComposite.PROJECTION = {\n\t\tpixel:    0,\n\t\ttile:     1,\n\t\tisometry: 2\n\t};\n\n\n\tComposite.prototype = {\n\n\t\t/*\n\t\t * ENTITY API\n\t\t */\n\n\t\tdeserialize: function(blob) {\n\n\t\t\tif (blob.entities instanceof Array) {\n\n\t\t\t\tlet entities = [];\n\t\t\t\tlet map      = {};\n\n\t\t\t\tfor (let be = 0, bel = blob.entities.length; be < bel; be++) {\n\t\t\t\t\tentities.push(lychee.deserialize(blob.entities[be]));\n\t\t\t\t}\n\n\n\t\t\t\tif (blob.map instanceof Object) {\n\n\t\t\t\t\tfor (let bid in blob.map) {\n\n\t\t\t\t\t\tlet index = blob.map[bid];\n\t\t\t\t\t\tif (typeof index === 'number') {\n\t\t\t\t\t\t\tmap[bid] = index;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\n\t\t\t\tfor (let e = 0, el = entities.length; e < el; e++) {\n\n\t\t\t\t\tlet id = null;\n\t\t\t\t\tfor (let mid in map) {\n\n\t\t\t\t\t\tif (map[mid] === e) {\n\t\t\t\t\t\t\tid = mid;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\n\t\t\t\t\tif (id !== null) {\n\t\t\t\t\t\tthis.setEntity(id, entities[e]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.addEntity(entities[e]);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\tif (blob.project === false) {\n\t\t\t\tthis.__project = false;\n\t\t\t}\n\n\t\t},\n\n\t\tserialize: function() {\n\n\t\t\tlet data = _Emitter.prototype.serialize.call(this);\n\t\t\tdata['constructor'] = 'lychee.app.Layer';\n\n\t\t\tlet states = {};\n\t\t\tlet blob     = (data['blob'] || {});\n\n\n\t\t\tif (this.width  !== 0) states.width  = this.width;\n\t\t\tif (this.height !== 0) states.height = this.height;\n\t\t\tif (this.depth !== 0)  states.depth  = this.depth;\n\t\t\tif (this.radius !== 0) states.radius = this.radius;\n\n\n\t\t\tif (this.grid.width !== 0 || this.grid.height !== 0 || this.grid.depth !== 0) {\n\n\t\t\t\tstates.grid = {};\n\n\t\t\t\tif (this.grid.width !== 0)  states.grid.width  = this.grid.width;\n\t\t\t\tif (this.grid.height !== 0) states.grid.height = this.grid.height;\n\t\t\t\tif (this.grid.depth !== 0)  states.grid.depth  = this.grid.depth;\n\n\t\t\t}\n\n\t\t\tif (this.offset.x !== 0 || this.offset.y !== 0 || this.offset.z !== 0) {\n\n\t\t\t\tstates.offset = {};\n\n\t\t\t\tif (this.offset.x !== 0) states.offset.x = this.offset.x;\n\t\t\t\tif (this.offset.y !== 0) states.offset.y = this.offset.y;\n\t\t\t\tif (this.offset.z !== 0) states.offset.z = this.offset.z;\n\n\t\t\t}\n\n\t\t\tif (this.position.x !== 0 || this.position.y !== 0 || this.position.z !== 0) {\n\n\t\t\t\tstates.position = {};\n\n\t\t\t\tif (this.position.x !== 0) states.position.x = this.position.x;\n\t\t\t\tif (this.position.y !== 0) states.position.y = this.position.y;\n\t\t\t\tif (this.position.z !== 0) states.position.z = this.position.z;\n\n\t\t\t}\n\n\t\t\tif (this.alpha !== 1)                               states.alpha      = this.alpha;\n\t\t\tif (this.__project !== true)                        blob.project        = this.__project;\n\t\t\tif (this.projection !== Composite.PROJECTION.pixel) states.projection = this.projection;\n\t\t\tif (this.__relayout !== true)                       states.relayout   = this.__relayout;\n\t\t\tif (this.visible !== true)                          states.visible    = this.visible;\n\n\n\t\t\tif (this.entities.length > 0) {\n\t\t\t\tblob.entities = this.entities.map(lychee.serialize);\n\t\t\t}\n\n\n\t\t\tif (blob.entities instanceof Array && Object.keys(this.__map).length > 0) {\n\n\t\t\t\tblob.map = Object.map(this.__map, function(val, key) {\n\n\t\t\t\t\tlet index = this.entities.indexOf(val);\n\t\t\t\t\tif (index !== -1) {\n\t\t\t\t\t\treturn index;\n\t\t\t\t\t}\n\n\n\t\t\t\t\treturn undefined;\n\n\t\t\t\t}, this);\n\n\t\t\t}\n\n\n\t\t\tdata['arguments'][0] = states;\n\t\t\tdata['blob']         = Object.keys(blob).length > 0 ? blob : null;\n\n\n\t\t\treturn data;\n\n\t\t},\n\n\t\trender: function(renderer, offsetX, offsetY) {\n\n\t\t\tif (this.visible === false) return;\n\n\n\t\t\tlet alpha    = this.alpha;\n\t\t\tlet position = this.position;\n\t\t\tlet offset   = this.offset;\n\n\n\t\t\tlet ox = position.x + offsetX + offset.x;\n\t\t\tlet oy = position.y + offsetY + offset.y;\n\n\n\t\t\tif (alpha !== 1) {\n\t\t\t\trenderer.setAlpha(alpha);\n\t\t\t}\n\n\n\t\t\tlet entities = this.entities;\n\t\t\tfor (let en = 0, enl = entities.length; en < enl; en++) {\n\t\t\t\tentities[en].render(renderer, ox, oy);\n\t\t\t}\n\n\t\t\tlet effects = this.effects;\n\t\t\tfor (let ef = 0, efl = effects.length; ef < efl; ef++) {\n\t\t\t\teffects[ef].render(renderer, offsetX, offsetY);\n\t\t\t}\n\n\n\t\t\tif (alpha !== 1) {\n\t\t\t\trenderer.setAlpha(1.0);\n\t\t\t}\n\n\n\t\t\tif (lychee.debug === true) {\n\n\t\t\t\tlet bx      = position.x + offsetX;\n\t\t\t\tlet by      = position.y + offsetY;\n\t\t\t\tlet hwidth  = this.width  / 2;\n\t\t\t\tlet hheight = this.height / 2;\n\n\n\t\t\t\trenderer.drawBox(\n\t\t\t\t\tbx - hwidth,\n\t\t\t\t\tby - hheight,\n\t\t\t\t\tbx + hwidth,\n\t\t\t\t\tby + hheight,\n\t\t\t\t\t'#ffff00',\n\t\t\t\t\tfalse,\n\t\t\t\t\t1\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t},\n\n\t\tupdate: function(clock, delta) {\n\n\t\t\tlet entities = this.entities;\n\t\t\tfor (let en = 0, enl = entities.length; en < enl; en++) {\n\t\t\t\tentities[en].update(clock, delta);\n\t\t\t}\n\n\t\t\tlet effects = this.effects;\n\t\t\tfor (let ef = 0, efl = effects.length; ef < efl; ef++) {\n\n\t\t\t\tlet effect = effects[ef];\n\t\t\t\tif (effect.update(this, clock, delta) === false) {\n\t\t\t\t\tthis.removeEffect(effect);\n\t\t\t\t\tefl--;\n\t\t\t\t\tef--;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * CUSTOM API\n\t\t */\n\n\t\tquery: function(query) {\n\n\t\t\tquery = typeof query === 'string' ? query : null;\n\n\n\t\t\tif (query !== null) {\n\n\t\t\t\tlet tmp    = query.split(' > ');\n\t\t\t\tlet entity = this.getEntity(tmp[0].trim());\n\t\t\t\tif (entity !== null) {\n\n\t\t\t\t\tfor (let t = 1, tl = tmp.length; t < tl; t++) {\n\n\t\t\t\t\t\tentity = entity.getEntity(tmp[t].trim());\n\n\t\t\t\t\t\tif (entity === null) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\treturn entity;\n\n\t\t\t}\n\n\n\t\t\treturn null;\n\n\t\t},\n\n\t\tisAtPosition: function(position) {\n\n\t\t\tposition = position instanceof Object ? position : null;\n\n\n\t\t\tif (position !== null) {\n\n\t\t\t\tif (typeof position.x === 'number' && typeof position.y === 'number') {\n\n\t\t\t\t\tlet ax = position.x;\n\t\t\t\t\tlet ay = position.y;\n\t\t\t\t\tlet bx = this.position.x;\n\t\t\t\t\tlet by = this.position.y;\n\n\n\t\t\t\t\tlet shape = this.shape;\n\t\t\t\t\tif (shape === _Entity.SHAPE.circle) {\n\n\t\t\t\t\t\tlet dist = Math.sqrt(Math.pow(ax - bx, 2) + Math.pow(ay - by, 2));\n\t\t\t\t\t\tif (dist < this.radius) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if (shape === _Entity.SHAPE.rectangle) {\n\n\t\t\t\t\t\tlet hwidth  = this.width  / 2;\n\t\t\t\t\t\tlet hheight = this.height / 2;\n\t\t\t\t\t\tlet colX    = (ax >= bx - hwidth)  && (ax <= bx + hwidth);\n\t\t\t\t\t\tlet colY    = (ay >= by - hheight) && (ay <= by + hheight);\n\n\n\t\t\t\t\t\treturn colX && colY;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetAlpha: function(alpha) {\n\n\t\t\talpha = typeof alpha === 'number' ? alpha : null;\n\n\n\t\t\tif (alpha !== null) {\n\n\t\t\t\tthis.alpha = Math.min(Math.max(alpha, 0), 1);\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\taddEffect: function(effect) {\n\n\t\t\teffect = _validate_effect(effect) ? effect : null;\n\n\n\t\t\tif (effect !== null) {\n\n\t\t\t\tlet index = this.effects.indexOf(effect);\n\t\t\t\tif (index === -1) {\n\n\t\t\t\t\tthis.effects.push(effect);\n\n\t\t\t\t\treturn true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tremoveEffect: function(effect) {\n\n\t\t\teffect = _validate_effect(effect) ? effect : null;\n\n\n\t\t\tif (effect !== null) {\n\n\t\t\t\tlet index = this.effects.indexOf(effect);\n\t\t\t\tif (index !== -1) {\n\n\t\t\t\t\tthis.effects.splice(index, 1);\n\n\t\t\t\t\treturn true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tremoveEffects: function() {\n\n\t\t\tlet effects = this.effects;\n\n\t\t\tfor (let e = 0, el = effects.length; e < el; e++) {\n\n\t\t\t\teffects[e].update(this, Infinity, 0);\n\t\t\t\tthis.removeEffect(effects[e]);\n\n\t\t\t\tel--;\n\t\t\t\te--;\n\n\t\t\t}\n\n\n\t\t\treturn true;\n\n\t\t},\n\n\t\taddEntity: function(entity) {\n\n\t\t\tentity = _validate_entity(entity) === true ? entity : null;\n\n\n\t\t\tif (entity !== null) {\n\n\t\t\t\tlet index = this.entities.indexOf(entity);\n\t\t\t\tif (index === -1) {\n\n\t\t\t\t\tthis.entities.push(entity);\n\n\t\t\t\t\tif (this.__relayout === true) {\n\t\t\t\t\t\tthis.trigger('relayout');\n\t\t\t\t\t}\n\n\t\t\t\t\treturn true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetEntity: function(id, entity) {\n\n\t\t\tid     = typeof id === 'string'            ? id     : null;\n\t\t\tentity = _validate_entity(entity) === true ? entity : null;\n\n\n\t\t\tif (id !== null && entity !== null && this.__map[id] === undefined) {\n\n\t\t\t\tthis.__map[id] = entity;\n\t\t\t\tthis.entities.push(entity);\n\n\t\t\t\tif (this.__relayout === true) {\n\t\t\t\t\tthis.trigger('relayout');\n\t\t\t\t}\n\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tgetEntity: function(id, position) {\n\n\t\t\tid       = typeof id === 'string'     ? id       : null;\n\t\t\tposition = position instanceof Object ? position : null;\n\n\n\t\t\tlet found = null;\n\n\n\t\t\tif (id !== null) {\n\n\t\t\t\tlet num = parseInt(id, 10);\n\n\t\t\t\tif (this.__map[id] !== undefined) {\n\t\t\t\t\tfound = this.__map[id];\n\t\t\t\t} else if (isNaN(num) === false) {\n\t\t\t\t\tfound = this.entities[num] || null;\n\t\t\t\t}\n\n\t\t\t} else if (position !== null) {\n\n\t\t\t\tif (typeof position.x === 'number' && typeof position.y === 'number') {\n\n\t\t\t\t\tfor (let e = this.entities.length - 1; e >= 0; e--) {\n\n\t\t\t\t\t\tlet entity = this.entities[e];\n\t\t\t\t\t\tif (entity.visible === false) continue;\n\n\t\t\t\t\t\tif (entity.isAtPosition(position) === true) {\n\t\t\t\t\t\t\tfound = entity;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn found;\n\n\t\t},\n\n\t\tremoveEntity: function(entity) {\n\n\t\t\tentity = _validate_entity(entity) === true ? entity : null;\n\n\n\t\t\tif (entity !== null) {\n\n\t\t\t\tlet found = false;\n\n\t\t\t\tlet index = this.entities.indexOf(entity);\n\t\t\t\tif (index !== -1) {\n\n\t\t\t\t\tthis.entities.splice(index, 1);\n\t\t\t\t\tfound = true;\n\n\t\t\t\t}\n\n\n\t\t\t\tfor (let id in this.__map) {\n\n\t\t\t\t\tif (this.__map[id] === entity) {\n\n\t\t\t\t\t\tdelete this.__map[id];\n\t\t\t\t\t\tfound = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\n\t\t\t\tif (found === true) {\n\n\t\t\t\t\tif (this.__relayout === true) {\n\t\t\t\t\t\tthis.trigger('relayout');\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\n\t\t\t\treturn found;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetEntities: function(entities) {\n\n\t\t\tentities = entities instanceof Array ? entities : null;\n\n\n\t\t\tlet all = true;\n\n\t\t\tif (entities !== null) {\n\n\t\t\t\tlet filtered = [];\n\n\t\t\t\tfor (let e = 0, el = entities.length; e < el; e++) {\n\n\t\t\t\t\tlet entity = entities[e];\n\t\t\t\t\tlet index  = filtered.indexOf(entity);\n\t\t\t\t\tif (index === -1) {\n\t\t\t\t\t\tfiltered.push(entity);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tall = false;\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tthis.entities = filtered;\n\n\t\t\t\tif (this.__relayout === true) {\n\t\t\t\t\tthis.trigger('relayout');\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn all;\n\n\t\t},\n\n\t\tremoveEntities: function() {\n\n\t\t\tlet entities = this.entities;\n\n\t\t\tfor (let e = 0, el = entities.length; e < el; e++) {\n\n\t\t\t\tentities.splice(e, 1);\n\t\t\t\tel--;\n\t\t\t\te--;\n\n\t\t\t}\n\n\t\t\treturn true;\n\n\t\t},\n\n\t\tsetGrid: function(grid) {\n\n\t\t\tgrid = grid instanceof Object ? grid : null;\n\n\n\t\t\tif (grid !== null) {\n\n\t\t\t\tthis.grid.width  = typeof grid.width === 'number'  ? grid.width  : this.grid.width;\n\t\t\t\tthis.grid.height = typeof grid.height === 'number' ? grid.height : this.grid.height;\n\t\t\t\tthis.grid.depth  = typeof grid.depth === 'number'  ? grid.depth  : this.grid.depth;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetOffset: function(offset) {\n\n\t\t\toffset = offset instanceof Object ? offset : null;\n\n\n\t\t\tif (offset !== null) {\n\n\t\t\t\tthis.offset.x = typeof offset.x === 'number' ? offset.x : this.offset.x;\n\t\t\t\tthis.offset.y = typeof offset.y === 'number' ? offset.y : this.offset.y;\n\t\t\t\tthis.offset.z = typeof offset.z === 'number' ? offset.z : this.offset.z;\n\n\t\t\t\tif (this.__relayout === true) {\n\t\t\t\t\tthis.trigger('relayout');\n\t\t\t\t}\n\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetPosition: function(position) {\n\n\t\t\tposition = position instanceof Object ? position : null;\n\n\n\t\t\tif (position !== null) {\n\n\t\t\t\tthis.position.x = typeof position.x === 'number' ? position.x : this.position.x;\n\t\t\t\tthis.position.y = typeof position.y === 'number' ? position.y : this.position.y;\n\t\t\t\tthis.position.z = typeof position.z === 'number' ? position.z : this.position.z;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetProjection: function(projection) {\n\n\t\t\tprojection = lychee.enumof(Composite.PROJECTION, projection) ? projection : null;\n\n\n\t\t\tif (projection !== null) {\n\n\t\t\t\tthis.projection = projection;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetRelayout: function(relayout) {\n\n\t\t\trelayout = typeof relayout === 'boolean' ? relayout : null;\n\n\n\t\t\tif (relayout !== null) {\n\n\t\t\t\tthis.__relayout = relayout;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetVisible: function(visible) {\n\n\t\t\tvisible = typeof visible === 'boolean' ? visible : null;\n\n\n\t\t\tif (visible !== null) {\n\n\t\t\t\tthis.visible = visible;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t}\n\n\t};\n\n\n\treturn Composite;\n\n}"}},"lychee.ai.enn.Genome":{"constructor":"lychee.Definition","arguments":[{"id":"lychee.ai.enn.Genome","url":"/libraries/lychee/source/ai/enn/Genome.js"}],"blob":{"attaches":{},"exports":"function(lychee, global, attachments) {\n\n\t/*\n\t * IMPLEMENTATION\n\t */\n\n\tconst Composite = function(data) {\n\n\t\tlet states = Object.assign({}, data);\n\n\n\t\tthis.genes = [];\n\n\t\tthis.__map = {};\n\n\n\t\tthis.setGenes(states.genes);\n\n\t\tstates = null;\n\n\t};\n\n\n\tComposite.prototype = {\n\n\t\t/*\n\t\t * ENTITY API\n\t\t */\n\n\t\tdeserialize: function(blob) {\n\n\t\t\tif (blob.genes instanceof Array) {\n\n\t\t\t\tlet genes = blob.genes;\n\t\t\t\tlet map   = {};\n\n\n\t\t\t\tif (blob.map instanceof Object) {\n\n\t\t\t\t\tfor (let bid in blob.map) {\n\n\t\t\t\t\t\tlet index = blob.map[bid];\n\t\t\t\t\t\tif (typeof index === 'number') {\n\t\t\t\t\t\t\tmap[bid] = index;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\n\t\t\t\tfor (let g = 0, gl = genes.length; g < gl; g++) {\n\n\t\t\t\t\tlet id = null;\n\t\t\t\t\tfor (let mid in map) {\n\n\t\t\t\t\t\tif (map[mid] === g) {\n\t\t\t\t\t\t\tid = mid;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\n\t\t\t\t\tif (id !== null) {\n\t\t\t\t\t\tthis.setGene(id, genes[g]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.addGene(genes[g]);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t},\n\n\t\tserialize: function() {\n\n\t\t\tlet blob = {};\n\n\n\t\t\tif (this.genes.length > 0) {\n\t\t\t\tblob.genes = this.genes.map(lychee.serialize);\n\t\t\t}\n\n\n\t\t\tif (blob.genes instanceof Array && Object.keys(this.__map).length > 0) {\n\n\t\t\t\tblob.map = Object.map(this.__map, function(val, key) {\n\n\t\t\t\t\tlet index = this.genes.indexOf(val);\n\t\t\t\t\tif (index !== -1) {\n\t\t\t\t\t\treturn index;\n\t\t\t\t\t}\n\n\n\t\t\t\t\treturn undefined;\n\n\t\t\t\t}, this);\n\n\t\t\t}\n\n\n\t\t\treturn {\n\t\t\t\t'constructor': 'lychee.ai.enn.Genome',\n\t\t\t\t'arguments':   [],\n\t\t\t\t'blob':        Object.keys(blob).length > 0 ? blob : null\n\t\t\t};\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * CUSTOM API\n\t\t */\n\n\t\taddGene: function(gene) {\n\n\t\t\tgene = gene instanceof Object ? gene : null;\n\n\n\t\t\tif (gene !== null) {\n\n\t\t\t\tlet index = this.genes.indexOf(gene);\n\t\t\t\tif (index === -1) {\n\n\t\t\t\t\tthis.genes.push(gene);\n\n\t\t\t\t\treturn true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetGene: function(id, gene) {\n\n\t\t\tid   = typeof id === 'string' ? id   : null;\n\t\t\tgene = gene instanceof Object ? gene : null;\n\n\n\t\t\tif (id !== null && gene !== null && this.__map[id] === undefined) {\n\n\t\t\t\tthis.__map[id] = gene;\n\n\t\t\t\tlet result = this.addGene(gene);\n\t\t\t\tif (result === true) {\n\t\t\t\t\treturn true;\n\t\t\t\t} else {\n\t\t\t\t\tdelete this.__map[id];\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tgetGene: function(id) {\n\n\t\t\tid = typeof id === 'string' ? id : null;\n\n\n\t\t\tlet found = null;\n\n\n\t\t\tif (id !== null) {\n\n\t\t\t\tif (this.__map[id] !== undefined) {\n\t\t\t\t\tfound = this.__map[id];\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn found;\n\n\t\t},\n\n\t\tremoveGene: function(gene) {\n\n\t\t\tgene = gene instanceof Object ? gene : null;\n\n\n\t\t\tif (gene !== null) {\n\n\t\t\t\tlet found = false;\n\n\t\t\t\tlet index = this.genes.indexOf(gene);\n\t\t\t\tif (index !== -1) {\n\t\t\t\t\tthis.genes.splice(index, 1);\n\t\t\t\t\tfound = true;\n\t\t\t\t}\n\n\n\t\t\t\tfor (let id in this.__map) {\n\n\t\t\t\t\tif (this.__map[id] === gene) {\n\n\t\t\t\t\t\tdelete this.__map[id];\n\t\t\t\t\t\tfound = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\n\t\t\t\treturn found;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetGenes: function(genes) {\n\n\t\t\tgenes = genes instanceof Object ? genes : null;\n\n\n\t\t\tlet all = true;\n\n\t\t\tif (genes !== null) {\n\n\t\t\t\tfor (let g = 0, gl = genes.length; g < gl; g++) {\n\n\t\t\t\t\tlet result = this.addGene(genes[g]);\n\t\t\t\t\tif (result === false) {\n\t\t\t\t\t\tall = false;\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn all;\n\n\t\t},\n\n\t\tremoveGenes: function() {\n\n\t\t\tlet genes = this.genes;\n\n\t\t\tfor (let g = 0, gl = genes.length; g < gl; g++) {\n\n\t\t\t\tthis.removeGene(genes[g]);\n\n\t\t\t\tgl--;\n\t\t\t\tg--;\n\n\t\t\t}\n\n\t\t\treturn true;\n\n\t\t}\n\n\t};\n\n\n\treturn Composite;\n\n}"}},"lychee.ui.Sprite":{"constructor":"lychee.Definition","arguments":[{"id":"lychee.ui.Sprite","url":"/libraries/lychee/source/ui/Sprite.js"}],"blob":{"attaches":{},"includes":["lychee.ui.Entity"],"exports":"function(lychee, global, attachments) {\n\n\tconst _Entity = lychee.import('lychee.ui.Entity');\n\n\n\n\t/*\n\t * HELPERS\n\t */\n\n\tconst _start_animation = function(settings) {\n\n\t\tlet duration = typeof settings.duration === 'number' ? settings.duration : 1000;\n\t\tlet frame    = typeof settings.frame === 'number'    ? settings.frame    : 0;\n\t\tlet frames   = typeof settings.frames === 'number'   ? settings.frames   : 25;\n\t\tlet loop     = settings.loop === true;\n\n\n\t\tlet animation = this.__animation;\n\n\t\tanimation.start    = null;\n\t\tanimation.active   = true;\n\t\tanimation.duration = duration;\n\t\tanimation.frames   = frames;\n\t\tanimation.loop     = loop;\n\n\t\tthis.frame = frame;\n\n\t};\n\n\tconst _stop_animation = function() {\n\n\t\tlet animation = this.__animation;\n\n\t\tanimation.active = false;\n\n\t\tthis.frame = 0;\n\n\t};\n\n\n\n\t/*\n\t * IMPLEMENTATION\n\t */\n\n\tconst Composite = function(data) {\n\n\t\tlet states = Object.assign({}, data);\n\n\n\t\tthis.frame   = 0;\n\t\tthis.texture = null;\n\n\t\tthis.__animation = {\n\t\t\tactive:   false,\n\t\t\tstart:    null,\n\t\t\tframes:   0,\n\t\t\tduration: 0,\n\t\t\tloop:     false\n\t\t};\n\t\tthis.__map = {\n\t\t\t'default': [],\n\t\t\t'active':  []\n\t\t};\n\n\n\t\tthis.setTexture(states.texture);\n\t\tthis.setMap(states.map);\n\n\t\tdelete states.texture;\n\t\tdelete states.map;\n\n\n\t\t_Entity.call(this, states);\n\n\t\tstates = null;\n\n\t};\n\n\n\tComposite.prototype = {\n\n\t\t/*\n\t\t * ENTITY API\n\t\t */\n\n\t\tdeserialize: function(blob) {\n\n\t\t\tlet texture = lychee.deserialize(blob.texture);\n\t\t\tif (texture !== null) {\n\t\t\t\tthis.setTexture(texture);\n\t\t\t}\n\n\t\t\tif (blob.animation instanceof Object) {\n\t\t\t\t_start_animation.call(this, blob.animation);\n\t\t\t}\n\n\t\t},\n\n\t\tserialize: function() {\n\n\t\t\tlet data = _Entity.prototype.serialize.call(this);\n\t\t\tdata['constructor'] = 'lychee.ui.Sprite';\n\n\t\t\tlet states = data['arguments'][0];\n\t\t\tlet blob   = (data['blob'] || {});\n\n\n\t\t\tif (Object.keys(this.__map).length > 0) {\n\n\t\t\t\tstates.map = {};\n\n\n\t\t\t\tfor (let state in this.__map) {\n\n\t\t\t\t\tstates.map[state] = [];\n\n\n\t\t\t\t\tlet frames = this.__map[state] || null;\n\t\t\t\t\tif (frames !== null) {\n\n\t\t\t\t\t\tfor (let f = 0, fl = frames.length; f < fl; f++) {\n\n\t\t\t\t\t\t\tlet frame  = frames[f];\n\t\t\t\t\t\t\tlet sframe = {};\n\n\t\t\t\t\t\t\tif (frame.x !== 0) sframe.x = frame.x;\n\t\t\t\t\t\t\tif (frame.y !== 0) sframe.y = frame.y;\n\t\t\t\t\t\t\tif (frame.w !== 0) sframe.w = frame.w;\n\t\t\t\t\t\t\tif (frame.h !== 0) sframe.h = frame.h;\n\n\n\t\t\t\t\t\t\tstates.map[state].push(sframe);\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\tif (this.__animation.active === true) {\n\n\t\t\t\tblob.animation = {};\n\n\t\t\t\tif (this.__animation.duration !== 1000) blob.animation.duration = this.__animation.duration;\n\t\t\t\tif (this.frame !== 0)                   blob.animation.frame    = this.frame;\n\t\t\t\tif (this.__animation.frames !== 25)     blob.animation.frames   = this.__animation.frames;\n\t\t\t\tif (this.__animation.loop !== false)    blob.animation.loop     = this.__animation.loop;\n\n\t\t\t}\n\n\t\t\tif (this.texture !== null) blob.texture = lychee.serialize(this.texture);\n\n\n\t\t\tdata['blob'] = Object.keys(blob).length > 0 ? blob : null;\n\n\n\t\t\treturn data;\n\n\t\t},\n\n\t\trender: function(renderer, offsetX, offsetY) {\n\n\t\t\tif (this.visible === false) return;\n\n\n\t\t\tlet texture = this.texture;\n\t\t\tif (texture !== null) {\n\n\t\t\t\tlet alpha    = this.alpha;\n\t\t\t\tlet position = this.position;\n\n\t\t\t\tlet x1 = 0;\n\t\t\t\tlet y1 = 0;\n\n\n\t\t\t\tif (alpha !== 1) {\n\t\t\t\t\trenderer.setAlpha(alpha);\n\t\t\t\t}\n\n\n\t\t\t\tlet map = this.__map[this.state][this.frame] || null;\n\t\t\t\tif (map !== null) {\n\n\t\t\t\t\tx1 = position.x + offsetX - map.w / 2;\n\t\t\t\t\ty1 = position.y + offsetY - map.h / 2;\n\n\t\t\t\t\trenderer.drawSprite(\n\t\t\t\t\t\tx1,\n\t\t\t\t\t\ty1,\n\t\t\t\t\t\ttexture,\n\t\t\t\t\t\tmap\n\t\t\t\t\t);\n\n\t\t\t\t} else {\n\n\t\t\t\t\tlet hw = (this.width  / 2) || this.radius;\n\t\t\t\t\tlet hh = (this.height / 2) || this.radius;\n\n\t\t\t\t\tx1 = position.x + offsetX - hw;\n\t\t\t\t\ty1 = position.y + offsetY - hh;\n\n\t\t\t\t\trenderer.drawSprite(\n\t\t\t\t\t\tx1,\n\t\t\t\t\t\ty1,\n\t\t\t\t\t\ttexture\n\t\t\t\t\t);\n\n\t\t\t\t}\n\n\n\t\t\t\tif (alpha !== 1) {\n\t\t\t\t\trenderer.setAlpha(1.0);\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\t_Entity.prototype.render.call(this, renderer, offsetX, offsetY);\n\n\t\t},\n\n\t\tupdate: function(clock, delta) {\n\n\t\t\t_Entity.prototype.update.call(this, clock, delta);\n\n\n\t\t\tlet animation = this.__animation;\n\t\t\tif (animation.active === true) {\n\n\t\t\t\tif (animation.start !== null) {\n\n\t\t\t\t\tlet t = (clock - animation.start) / animation.duration;\n\t\t\t\t\tif (t <= 1) {\n\n\t\t\t\t\t\tthis.frame = Math.max(0, Math.ceil(t * animation.frames) - 1);\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif (animation.loop === true) {\n\t\t\t\t\t\t\tanimation.start = clock;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.frame = animation.frames - 1;\n\t\t\t\t\t\t\tanimation.active = false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * CUSTOM API\n\t\t */\n\n\t\tsetMap: function(map) {\n\n\t\t\tmap = map instanceof Object ? map : null;\n\n\n\t\t\tlet valid = false;\n\n\t\t\tif (map !== null) {\n\n\t\t\t\tfor (let state in map) {\n\n\t\t\t\t\tlet frames = map[state];\n\t\t\t\t\tif (frames instanceof Array) {\n\n\t\t\t\t\t\tthis.__map[state] = [];\n\n\n\t\t\t\t\t\tfor (let f = 0, fl = frames.length; f < fl; f++) {\n\n\t\t\t\t\t\t\tlet frame = frames[f];\n\t\t\t\t\t\t\tif (frame instanceof Object) {\n\n\t\t\t\t\t\t\t\tframe.x = typeof frame.x === 'number' ? frame.x : 0;\n\t\t\t\t\t\t\t\tframe.y = typeof frame.y === 'number' ? frame.y : 0;\n\t\t\t\t\t\t\t\tframe.w = typeof frame.w === 'number' ? frame.w : 0;\n\t\t\t\t\t\t\t\tframe.h = typeof frame.h === 'number' ? frame.h : 0;\n\n\n\t\t\t\t\t\t\t\tthis.__map[state].push(frame);\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\tvalid = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn valid;\n\n\t\t},\n\n\t\tsetState: function(id) {\n\n\t\t\tid = typeof id === 'string' ? id : null;\n\n\n\t\t\tlet result = _Entity.prototype.setState.call(this, id);\n\t\t\tif (result === true) {\n\n\t\t\t\tlet map = this.__map[this.state] || null;\n\t\t\t\tif (map !== null) {\n\n\t\t\t\t\tif (map instanceof Array) {\n\n\t\t\t\t\t\tlet statemap = this.states[this.state] || null;\n\t\t\t\t\t\tif (statemap !== null) {\n\n\t\t\t\t\t\t\t_stop_animation.call(this);\n\n\t\t\t\t\t\t\tif (statemap.animation === true) {\n\n\t\t\t\t\t\t\t\t_start_animation.call(this, {\n\t\t\t\t\t\t\t\t\tduration: statemap.duration || 1000,\n\t\t\t\t\t\t\t\t\tframe:    0,\n\t\t\t\t\t\t\t\t\tframes:   map.length,\n\t\t\t\t\t\t\t\t\tloop:     statemap.loop === true\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\tmap = map[0];\n\n\t\t\t\t\t}\n\n\n\t\t\t\t\tif (map.width !== undefined && typeof map.width === 'number') {\n\t\t\t\t\t\tthis.width = map.width;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (map.height !== undefined && typeof map.height === 'number') {\n\t\t\t\t\t\tthis.height = map.height;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (map.radius !== undefined && typeof map.radius === 'number') {\n\t\t\t\t\t\tthis.radius = map.radius;\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn result;\n\n\t\t},\n\n\t\tsetTexture: function(texture) {\n\n\t\t\ttexture = texture instanceof Texture ? texture : null;\n\n\n\t\t\tthis.texture = texture;\n\n\t\t\treturn true;\n\n\t\t}\n\n\t};\n\n\n\treturn Composite;\n\n}"}},"game.effect.Explosion":{"constructor":"lychee.Definition","arguments":[{"id":"game.effect.Explosion","url":"/projects/flappy-bnn/source/effect/Explosion.js"}],"blob":{"attaches":{"json":{"constructor":"Config","arguments":["/projects/flappy-bnn/source/effect/Explosion.json"],"blob":{"buffer":"data:application/json;base64,ewoJIm1hcCI6IHsKCQkiZGVmYXVsdCI6IFsKCQkJewoJCQkJIngiOiAwLAoJCQkJInkiOiAwLAoJCQkJInciOiA2NCwKCQkJCSJoIjogNjQKCQkJfSwKCQkJewoJCQkJIngiOiA2NCwKCQkJCSJ5IjogMCwKCQkJCSJ3IjogNjQsCgkJCQkiaCI6IDY0CgkJCX0sCgkJCXsKCQkJCSJ4IjogMTI4LAoJCQkJInkiOiAwLAoJCQkJInciOiA2NCwKCQkJCSJoIjogNjQKCQkJfSwKCQkJewoJCQkJIngiOiAxOTIsCgkJCQkieSI6IDAsCgkJCQkidyI6IDY0LAoJCQkJImgiOiA2NAoJCQl9LAoJCQl7CgkJCQkieCI6IDAsCgkJCQkieSI6IDY0LAoJCQkJInciOiA2NCwKCQkJCSJoIjogNjQKCQkJfSwKCQkJewoJCQkJIngiOiA2NCwKCQkJCSJ5IjogNjQsCgkJCQkidyI6IDY0LAoJCQkJImgiOiA2NAoJCQl9LAoJCQl7CgkJCQkieCI6IDEyOCwKCQkJCSJ5IjogNjQsCgkJCQkidyI6IDY0LAoJCQkJImgiOiA2NAoJCQl9LAoJCQl7CgkJCQkieCI6IDE5MiwKCQkJCSJ5IjogNjQsCgkJCQkidyI6IDY0LAoJCQkJImgiOiA2NAoJCQl9CgkJXSwKCQkiZmlyZSI6IFsKCQkJewoJCQkJIngiOiAwLAoJCQkJInkiOiAxMjgsCgkJCQkidyI6IDY0LAoJCQkJImgiOiA2NAoJCQl9LAoJCQl7CgkJCQkieCI6IDY0LAoJCQkJInkiOiAxMjgsCgkJCQkidyI6IDY0LAoJCQkJImgiOiA2NAoJCQl9LAoJCQl7CgkJCQkieCI6IDEyOCwKCQkJCSJ5IjogMTI4LAoJCQkJInciOiA2NCwKCQkJCSJoIjogNjQKCQkJfSwKCQkJewoJCQkJIngiOiAxOTIsCgkJCQkieSI6IDEyOCwKCQkJCSJ3IjogNjQsCgkJCQkiaCI6IDY0CgkJCX0sCgkJCXsKCQkJCSJ4IjogMCwKCQkJCSJ5IjogMTkyLAoJCQkJInciOiA2NCwKCQkJCSJoIjogNjQKCQkJfSwKCQkJewoJCQkJIngiOiA2NCwKCQkJCSJ5IjogMTkyLAoJCQkJInciOiA2NCwKCQkJCSJoIjogNjQKCQkJfSwKCQkJewoJCQkJIngiOiAxMjgsCgkJCQkieSI6IDE5MiwKCQkJCSJ3IjogNjQsCgkJCQkiaCI6IDY0CgkJCX0sCgkJCXsKCQkJCSJ4IjogMTkyLAoJCQkJInkiOiAxOTIsCgkJCQkidyI6IDY0LAoJCQkJImgiOiA2NAoJCQl9CgkJXQoJfQp9"}},"png":{"constructor":"Texture","arguments":["/projects/flappy-bnn/source/effect/Explosion.png"],"blob":{"buffer":"data:image/png;base64,PNG\r\n\u001a\n\u0000\u0000\u0000\rIHDR\u0000\u0000\u0001\u0000\u0000\u0000\u0001\u0000\b\u0006\u0000\u0000\u0000\\r¨f\u0000\u0000 \u0000IDATx^ì}\t|TÕ½ÿ9çÎL2\t\t!\u0000aß°\u0004Ä­¼ZÖjöý[\u0001ÁÌ½3¸Åjm©¯í³­¶¾jûê³TÚG\u0015b;\u0011D¼k­Zm­P\u0004AÂ\u0016-=!ËÌ½çÿù^æ¦CHfî,Y{>|\b¹çå{Ïùßù­ÅDÀDà¢E^´37'n\"`\"@L\u0002`.\u0002\u0013\u0018\u0001\u0000\\Ä\u001fßú !@.]ÊfÏMÇ\u001dÛ½\u0007«««ypDjqq1~×ÿßo\u00035\t@¿Ak6l\"p6\u0002eee©óq\u0016e\"¥ôóÒYs;¥sÎ±\u0017UÎù\tBÈvÆØ®®®®Ï:::\u001azâX]]ÝQ\\\\¬&\u0002_\u0000$\u0002E³\r\u00130\b¬Y³fxJJÊ\\A\u0010¾Á\u0018[Ê9· :¥Tû\t-ªzf_ãïªª¶\u0011BÖ:\u0004ÿÊ~UU·qÎw3Æ\u001akjjN®\\¹²=Ö\u000f`\u0012X3ß3\u00110Ïç»\u0010r\u001f!ä6½zrr2±ÛíÄjµC\u0000\u0002\u0000éìì$íííDQ\u0014íàþï&\fz;ó¿SJß\n\u0004\u0002ë].×?\f\fç*&\u0001\u00055ó\u001d\u0013\u0001\u0003\bx<[\u0005Aø\t!d&NôÔÔT2lØ02bÄ\bí÷§¿ÞdWW\u0017ijj\"---\u0004\u0004A\u0010³zÓDGGþ÷\t!OsÎ_$é3\u0003Cë®b\u0012hÐ2ë\b\u0018DÀëõ~Q\u0010\u00179çÃ\u0005Aà£G¦\u0004§?Îê÷Ö\u001c\b\u0003cøý~\u000bè\u0000àÙéÓ§I]]öoðð¢(+%Iú\b·\b#BD\u0000\u0018ü f5\u0013\u0001£\b]nµZ7PJ'[,\u00162qâD2|øpíÄ\u000feç´×Û;ºì\u0000máºP[[Kjjjt¹ÁNEQ\u001et¹\\4B\u0004L\u0002`ä+uL\u0004¢@Àçóí¥æâI&#G=ñ£húÜ;ü\u0019a!inn&\u0007\u000f\u001eÔÌ®®.iùòåÛ#µm\u0012H\bÏM\u0004¢@Àçó½J)ý2Nç©S§j÷ýhOý(ºûç]RÒÖÖFöìÙ£]\u001fTUýk \u0010Ün÷¡pí\u0004 \u0016´ÍwL\u0004zA ¼¼üó\u0016\u0005÷þlúS¦Lé·¿¯\u000fÐØØH\u000e\u001c8 É\rTUý¥(ß3\t¹\\M\u0004ú\t5kÖX\u0015E\u0019±\u0010ò=ÆØ\u0014Æ\u0018?þo~}'N G\u001e\u0005\u0011Ø\u001b\b\u0004îp:ïõ5}\u0003è§a6{Á#@½^ï<Jé=R7¥Ô\u000eV\u001f?ãÇ'£G\u001e4\u0000 FÜ»w¯¦Eàÿ¦¥¥å»EEEþÞ\u0006d\u0012AûL\u0017wÇÅÅÅ¶¼¼¼¹ªª¦\u0000\tÎy{SSÓûî»¯u¨#³zõjø\u0018cë\b!\u0016Ü¹\b$þ0ðÁæÏ`\u0015\u0010¡S§NÏ>û\fBÁ~¿ßµ|ùò&\u0001\u0018¬/böÛÏçÏ9_G)½$Ô\u0014V?=9ççé\u0019\u0003ù\u0016\u0018·\u0004\u0002Ë/¯\u001b\n0påææþ\u000fcì^\u0019zý¬¬,¡m~\u0010\u0003èî\u0007Bð×'[O©fI¸oß>p\u00018ù¿*âë&\u0001\u0018\n+è\"\u001e,Ëk)¥·ãt\u001c7n\u001cÉÎÎ>k£À¨åØ±cÝ\ba\u0013a3áGUÕ\u001fÖÔÔüO<vïñBíµ×Zî¾ûî'\u0018cÿ±Á°\u0007sHOO\u001fôMßsn°\u0016<rä\b©¯¯\u0007ÆwJ´Ö$\u0000ñ®\u0000óý\u0011eù÷±»`\u0014\u0003\t¹\u0013R·\u0003a8tHÓfuUVV¦\u0015\u0017\u0017wÅ<8^ôù|ÏPJïÞ\u001d\u001b\u001fw}øFæ\u0012G·1½1VWW\u0013\b\u0004\t!¿\f\u0004\u0002\u000f»Ýn8\u0017UL\u0019@Lð/EÇãYd±X^Q\fNÍX\n6ÙöíÛq§\r455¥ô%Ô¥m#ïÈ²ü0¥ôG\u00109AÕ\u0016ïæ\u0007\u0001Ñ­ýÂ\u0007\u001b\u0019ch\u001d\u000bÿøñãhC{{û}·ß~{­I\u0000¢EÒ¬\u001f\u0017\u0002\u001e']\u0010&úØ4ñ\u0014l\u0010\u0010\u0001ÆØ±ÂÂÂññ´\u0015Í»^¯w\u0012cìMÎù48ñäååõéÈ\u0013M»  º-?0\u001aÂ¿º\u0017 \u0003\næ\u001d-q\u0000\u0001y0®TÒMó\"Q\u0014kL\u0002\u0010Í\u0017ê§ºÐ\u001dÛíöé±Ë\u0018c#UUíP\u0014eªªÕ6····ÜyçõýÔý@4KËÊÊFY,g\u0018c_d\r»ôÒK»\u0017v<\u0003Lk×®]hk~Ðé%æ\f½ëõz72Æ\u0016cCÎ3Gö'¢à¾cÇng\u001f´¯{\f+?þ¦{\u0010FC\u0004B\t\u0000!äÅ@ pÛí>i\u0012D|¹8Ú())\u0019c³Ù*222®\u001a9r¤E÷ôûg[[[« \bJ[[[}ggçßN>ý¢¢¢¦8º\u001bW}>\u001fXåb£\u001d;¤¥¥u{Á%b@;wîtû/¢(^öÂµñì³Ï^ìU\u0014%\u000fsð2\u0011\u0005\u001b{ÿþý°áçªª62Æ2à¼ÓÛ\u0002\u001bÿK.ðô\u0001ìä/$©Ê$\u0000øz1¶Q\\\\ÌòòòÞ8qâUÐ\u0015ë¬\u001e\u000bõðÂâÀýíÈ#G[[[/¿ë®»ÎaÝb\u001cB¿¿æóù~¢ªjqNNÆòãKtihhÐ\u000e£ßeX>ï;ÒG\u0003\u001dÖ}8ýñ­áË\u000f»}õÌ±^ÒÜÜ|ZZÚFJéàz@x°\u0014Ji\u0016ÂåççkÜA42'OvkUTUýÏ}ûö=ÑSÚï\u0000öõñKKK¯dÝf±X2\u0003@\u001d¥ô=Îykmmíë©êIôb\rmOåÕcÆ¹\u0017ÒãH\u001f\u0012\u0004vÝ\u000e\u001d:pë­·ÎèÏq%ªmYPJÇÆÜ\bËª\u0007ÅGè\u0018Á\u001aòÉ'Ðu]±b&æî¯RQQñßªª~\u0017÷s8÷Ä[0_\\c*++uK½ê\u0017^xaÂ\r\u001bÎÿ! v $ö>ï.Jé¯\u00117pÞ¼yçÄ\u0005\b7\u0016\u001d×Ã\u000fkîÂs5\u0010\bÌq»Ý{Bß\u001b\u0014\u0002P^^^<nÜ¸\u0002\u000bS\u0002î( î555\u000f¸Ýî_Å\u000böPy_åk\u0004AØÄ\u0018\u001b;¤.Ü4>ÔcG]]Ý÷Nç/\"Õ\u001fÌçÅÅÅüü|?6\n`lh|{°Á8UÁ\u0011éRuü\u001b\u000e#]\u000eÐÕÕ5Éív\u001fîÏyû|¾µªªÞ9Áà'Ö¢oH\u0004ï~\u001e{Ó~¿ÿ[.ëÞÚeù»Ò\u0011B£%\u0000h\u000f\u0018Ó¨ªªÒlhnnB5(\u0003N\u0000<\u001eÏÆ\u001b÷\u00066o\u0004@u©ªªZáv»\u0015ð¡ò^YYÙw333ÿ{Â\t\u001a\u000b\u0017ÊöcáDè¬â\u001d;^s¹\\7\u000e9õ6\u000e¯×û\b¥ôÇ`\u00128|ç#Gt0Æ`ñ7J_\u000f8\u0010>÷¹Ïõ9]X¹á\u0004íêêºÂívoí/\\ÊÊÊ®±ÙlO)2'77W3ø¶\u0004{b¬Ú!WSSÃ»ºº`èØ®(ÊC$ýw_;<\u001eÏBÅ²s>læÌ$%%Å\u0010a\r\u001d#+L5J[[Û¸;î¸ã¸^gÀ\bÀªU«²³³ßÍÎÎ¾\" \u0005\u000bh÷îÝí7ß|³f'~¾²²²#Fø\u0004§·y\"î\u001b>¬~úõF\u0014·nÝºµ®®î\u000b÷ßçPÅ¢¢¢¢.###\u0013l²Ó\u001f\u001bcÛ¶mÎ:Ãq\u00078iÓ¦\u0012\u0004á\u001eÎùC_X½\u0017¼\u001b\u0014\u0004v8\u001c©ýIYYÙ\u001cÅ²s>\u001eæ¾Ó¦MÓL}£)\u0018'qp\n\u0000àÔ\u000f<ï&üJ\u0014ÅpQ{àsus¦\u0007\u00161mè\u0018±ÆpeY0þUUõ«$½<à\u0004`ýúõ\u000b\n\n&\u000e\u0000\bÔÞf³iÀÞ\u0019¡¿Ü³gOÚùà\u001cÒ×¢¨¨¨øhÆ\u0019ó ÆéYô;~eeå\u0001ÅRg³Ù2SRR¦N6íì\b`£Tµ´´\\:5\u0002\u0015\u0015\u0015\u001c§\u001eó.ÜFÁB\u0000LQ:Q\u0014GÖeù?8ç¿¸ì²Ë\"êÚA@(¥+\u001c\u000eGB9ÅÉIII\b!sÁµAfÓÛ7D\fô\u0000\u001d!>\u000fMó2Îy©$I\u001aõT|>ß_)¥\u000bÀ}@\u0010xÆ´?º\u0002.\u0000Þà@\u0014EY%IÒ·\u0006\u0000¯ÈËË[¸h¡\u0005¬Ü\u001d;^MIIÉ²Ûíóòòò¬:\u0011\u0000å<zôè¿8Î¿E7Ý¡S{Ã\r|îÜ¹ç\f\bD\u0010wAÜ[ZZ¦´´´T\u000f\u001b6\fA$>ÉÏÏ\u001fÖÊÃ ãðáÃ÷9Îß\u000eÙýs$>ï´ªªöp\u0016\u0000ûÖÖVí4äÿ©¥¥å¦\u0016}%%%ÉÉÉÉí\u0005\u0005\u0005a=êÐ\u001e\u0016ukkëZÃqg¢p\töÿkBÈÝ0Ê@\u0013/Ú\u0017ã\t~7pwG9ç?óûýoµ¶¶\u001eæPóx<¢ÅbñbÍ@\u000e\u0001\u0019KÏkd¤¹»Ä5\u0000\u001e¢| â&\u0000o.X°à:}s\u0003L8)\u001c>|x{aaá¥\u0018Ì/¾xxÎ9\u0013ô:ðöíÛß^¶lÙµ&8Ô/]ºT¸ùæ_\u001a3fÌWp÷\u000f]< à\u000f\u001f\u000e444|¤ªê.k\u0007Æ¿fÍ¬¬¬\u000f\n\n\n45PhÁ©¬¬üËÒ¥Kû]ï\u001d-º}<ôÔ}¹Fø®ÿøÇ?P§BQÇôy÷Ö_EEEó1cÒ J\f·ñ`æZ]]]%â´hÇÝG}êóù.£~õ§;,\u0019ÑfôÖ\u001eoÐäPJß(,,¼!1 %%%53Æ¬ H3fÌèæ¶¹\u0000+\u0010$UU»\n\u000b\u000b\u0006\u0000ý`öìÙ?\u000fe¡`þxðàÁ{].×ïô?ZPPð ~ÏÂb:xð`çÂ\u000bÏÄQ>Jyyù×rrr6õÜü\u0002\u0016DUUÕ³\u000eãöa=\u001eÏ/F\u001eý\u001f'O>ë:\u0004_YY\u0019X¼xñà9÷yyù<Åò\u0011îÇ=¹»ÕqÕûøã1\u000f{qqqw@ûÞ>«,ËsÎ¿\u0007I¸+\u0005N4¨¹\u0012e\u000f\u0000\u000bÍ´´´­Ò¹0^<\u0003ìs,§?ÞÙ½{7îÝÐç¯$é®X°Î\u0005`O@[+I4\\nW\u0002®\u001aÄ¬°°°[ö×ïBÀM6í5kÖôP*ºk×®¶%Ku1.++{xÎ9\u000fáÎ\u0012$\u0000í\u000b\u0017.<ï\u0004ë×¯ÿc^^ÞWz.^,\n\n§NÕS\u001f9{<\u001fdeeý\u001cT>ô\u0003ã÷={öt,Y²$:)T¬+Îà{>ïQÍö TTá\u0016dð[ø©/¼ð-TçÝ[W\u001eçË±Wuã¾\u0003ýö#G\u0014Ã\u0010ÛÜÒÒÒÜ¤¤$DôÕNXþÅbÈ÷¡Î\n1v<\u0010\b,u¹\\ï\u001bõjà(\u0017/^ÜF)M#\u0012\bn4ã\u001aT\u0002ðÊ+¯ðPÉ0¤Þ\u0007\u000e\u001c@âC¨ùºU8[¶láNm1èmÛ¶ÅÌ:Å\nv\"ÞÛ¸qcûÌ3C\u0013:`>¸8qâ-§Óy]Ï~JKK³ÒÓÓ?5kÖ9\u0012C\bÍöîÝûç¥K~1\u0011ãKT\u001b²,ÿ-;;ûsàtÂ\u0015\\÷0wÎù7\u001d\u000eÇêHýWTTøG\u001aeÁý;\u001cû\rAqMMÍ>Ã\u0017©M#ÏuC&p¡ >á®4}µ§ÛðÃÆ?È=üÕáp|ÞHÿ½Õ\tr%5±\u0011£\u00009\u0000¸éh¸\u0012¬½ Vx¯¾°°°Û ¡ß9Í7?1ôCbc@-qêÔ©'SSS¯W\u0014¥=++ë\n°6úé\u000fQ]]Ý\u001cQ\u0014¡29¯ÊÆ\u001b3g²P\u0002\u0001â\u00076¬µµõTWW×7o>|ÓM7¥tttðôôôÜ\t\u0013&lÃ©\u0013ZtUÒÑ£GWHPiw¼ ú|>Í?jÔ¨>ü\u0002*;B\b²Õ\\'IÒ9ÙnC_eù5BÈ\rp\u001e\n·\u0001ñ\föööß\u0016\u0016\u0016\"÷^ÜÅëõ\bp\u001b¢û\u000bæÕ;Ç;ºÊ\u0010R¯ªê·DQôÄ:8X\"ú\u001061°e´ãÂ:üôÓO5ÏCEQÎò¡èw\u0002PZZúËK.¹äÞîrÐ\u0002è²\u0001\u0010ÐÓÿã?®Z¼xq¢;±â\u001fÓ{\u001b7nü 77÷J¨7{nf,\\¨c*++!\u0019þÈn·Ï´Z­´¥¥%0qâÄ\\|`½èªÂ\u0003\u0007\u000elmii¹¦¨¨èL\u000e¨!R@\u0000ô\u0000\u001f}\r\tß\u0015wÿ þ\u001b\u000bp¹$Ie}Ô\u0010®eÌ1©}\u0019n4²s$I\u0015Då} Ì\u0000AÃ¼¢¹gë&¾¸âAÓÁ9oý½Óéü\f=½ßãñÌ\u0012\u0004\u0001É=lX\u00178ýcQ\u0003\u0000@c\u0003s^ìp8\u001eî^c\u0000.R\u001bÏ=÷ÜÎéÓ§\u0017@Pd\u0004T,\u000f?üÐãr¹\\Ú\u001eÏ½^ï÷'Oü\u0018|àû*ðþ\u0003U×gº\u001dDè©ß\u0011ÞùøñãXH\rµ¹Ê²|$''g|O®¥·qêl(TU}I\u0014Å¯£Þºuë&$''k&v'N¨ÊÉÉi5k\u0000w_\u0005maówuucG\u0010\u000fF°e@ÛcÆÑîÿÑHÿñ\u001eîý8iþûÕ±»ý~¥Ëå:\u0010Ë¸|>_\u0005¥ô\u0016J©\u0000µhÏ\u001cFÚ\fU9x\u0004\u0002/º\\®?\u000f(\u0001@geee÷§¦¦\u0016\u0017\u0014\u0014\bwÁ$aæÙØØ8Áét\u001e52É¡V\u0007A0,\u0016Ë®éÓ§OÀ\u0006ïm!é\u001b=\u001c\u0016øx Ü\r\r\rNËå\u001djóeyCFFÆ-Ý\u0018-°À÷\u001d\u0000cì\u000bªªÚBU¿3´ \u0010võ\r0A;~¿F¬«·ñê\u0004\u0000\u001fD Z\u0002\u0013\u0016é¹pí¡ú\u0019cmó=¢¬?pàÀªââbxþ\u0019.>ïCBÈåºàÏÈáÙ³qà©³ÿxÖÚÚ\u0015\u001ak¢ß¯\u0000¡\u0003òx<ãív{Unn.\u0002bh`-\u001fP|P¨cÇµwtt\\+IÒß\r#5\u0004+âdKMM­\u001c3fL\nôÙÑ,&}:¸ëÁëméÒ¥\u0003úÂYQQñ\u001f_Àl×èâ\u0004á\u000bÊ´\u000ev[?Ùðý±°àÃÝÿaO@\byÜápüÀèXÔ\u0003ÐÛ\u0007g\u0007¡-þÕ\u001dÜ\u0018c]s\u0004åøËåÚkd,A3à­C\u0000y\u0004\f¢]CØüØ[§Á\u001csþë}ûö­\f%D\u0003¾°`ó=}úôGl6\u001b¬Ô?«ªú \bs9ç¹Ýîn;e#@\rå:Á¹>&\bÂÍS¦L\u0016îTë9\u000fl\u0000PîS§N= âô:==½\u000bB³h\\e±0õ¼÷ÑH³u\u0010\u0016s¾ÒápüO\"¿?z2Ærc\u0001C¿Î\u0005\u000f4íj\u0010LÕõjGGÇ]·ß~û\u0011½>T|_ûÚ×º\u0005?@¿üòËµPVTTT\u0006\u0002<\bD£eÿu'$ØI@ø\u0007ÏCUU\u000bz\u0006\u0005\u0019p\u0002È\u000fv¾´åõzG MÓôéÓGõ¼\u0012àCaCèÔ]\u0017&ÁL¸­­­lß¾}pI|T\u0004çõz\u0011*k#Uâqf8 \u0000ªª^-â_¢y/R]Yg-ÁikQ®&\\»h\u0003x°Ä\u000b~çÒ}ûöÝ=iÒ¤¼ääd\b\b'SJS\u0010ô\u0003íIÀOSJa,5%\u0010\bØàc\u0001Ã¤h%ÖQÐNB\u001fÞw~ÓÓôÚ$\u0000VEÃ3Rê\u001d3fÌ|,0,\u0006|PH«««\f\u001b6l \bi¢t477ÃÇ}(k\u0012Ô}¿6#ËòÿRJ ¹ÇÝ9\u001aíÀôH:MMM£NEû~¸ú^¯÷\u001b ü\u0016ÞØtÑ²ÜáÚ\u000e-ëß\u001dwYÒd];Òó]Ýi\u000e\u0012l\u0012¢õGÐ£&\u00059õ\u001d\u001d\u001dß4£\u0002'rµÄÐ\u0016ìýSRR.±X,_ee©ªÚ¢(Ê+]]]PÃpÈ\u000eáQ{{{ÍPSùE®,Ë?`ý\u001cÆ*à\u0006`Ñi4.@¤¶C\u0007=\u0000\u000f9\u001cøÃóôè¸¼¼üR«Õº\r\u0006<P\u0003Ærïîm.ºq\u0010®tq\u0000\u0017]Æ\u000158T|:¯\u001f\n0sÆæl,Z£$=\u001e`ëØ\u001eL\u0013~V$ }&\u0007\u0010Íê3ëE èI·R:Õï÷[à\tiÄ=Ø\b¬Ø0zëÊÊJk\\7Øg\fÇU-\u001aíF¤9`ÓÃ\"\u0012\u0016yÐ\u0012`Óã\u0007ÜFoAbÐ\u001e¸\u001dÝU>Rû=ýð\u000fù\u0018:::îë+tI\u0000¢EÖ¬o\b\u0001Ï÷\u0001cìJ¸\bÇ{Ö­!Î,ÿ)b¿ØD hknn.²ý®\u0006'\u0003Ë;\bn\u0013u\u0015ÐhOßØá®Kw,×)¼\u0003bÐc\u0016ecKKË}}\u00055\t¡ålV\u0005\u0001¨Õð\u001eÂ+Xè`{&ÕÔ\u0005¢ðªÃ¦ñûý_w¹\\/Å2\u0016£ï<ñÄ\u0013ö±cÇ¾M\b¹\u0002ì9T`ÃcÙ}õ\u0019ëÆ6:\u0007à\b\u00032p\u0001±ßûýþ½¥\u0005C{&\u00010ªY/j\u0004^lø<\u001c¬î¬Y³ÎÙH0\u0007a\u000f\u0016-NÝP¹\u0001þ\u0016Ìq_ã÷ûg\u000fP`Z^^~½Åbys\f\u0015'@¬nÁQ\u0017\u0019<\u0011-çüQQ\u0014§¡×b\u0012\u0004\u0000n6\u0011\u001e\u0001Y3ÆÅ)M®\u0017ê\u0010tQJ÷sÎoç#e¸\u0010b¡ÂÅwµßïÿ«ÛíÞ5\u0018\u0007=ð¾Ã\u0018C\\\u0002M\u0002\u000f¡ ä\u0019º\u000eôç|ô ©ss~W0ö I\u0000ú\u0013t³íÈ\bx½^¤B[À9×Þ©ªzÒï÷¿Ýß±ý#ìÜ\u001a0âÊÍÍý)¥T³6ÄæS\t$òJ\u0010ËøÂ½\u0003a#\u0018cïuvv.¿í¶Û\u000e\u001c@¢Q6Û»à\u0011À\u0015fÑ¢EpÅ\u0005'`\u0002W\u00028yáß ÓOBå\u0003ñ1Áý:è]û¤(ß\t×¦y\u0005\u0017qóý\u000b\u001eÒÒÒ¹IIIe\u001e\u0004xºÐ\u0012á¹ .ìéö=èÁ?)¥H'\u0000,Ï\u0004`0¿Ù÷\u0005\u0000Òu1Æî\u0011\u0004áqJ)®0\u0014§,4\u0005ðÓO´¦ ZÐ <E¼I\u0007M=¢(Ft§79h6ë_ô\bx<Û\u0005AXI)¤(Ê0p\u0002Â¢õ7hÁ 3s¾Ýáp ³JD÷c\u0000ô÷1Û¿`\u0011@à\u0017A\u00104£$\b\báE\u0018K\u001cÁX\u0001Ò=þô@$Aû£¢Üát:\u0011Z-b1\t@DÌ\n&\u0002½#PRR2&99\u0019ñþ¾\u0004­\u001eIHOó\u0016-nº\rD_\u000eBhOAàú (ð4ß@Ð\u0000¹&~&âF£aÈL\u0002\u0010íW2ë\b \u0010Û\u0007oÈ«a¸ë\u00008\u00018CÆ¹\f\u0007!\u001bBx\u0007*G°òø{(G\u0001Â\u0000#\u001f\u0004\u001c\u0017imm­h4èYúZggç½A\u001föµf\u0019©\u0004 \u0012Bæs\u0013\b\b\u0004ã\u001a®bÝ\f\"\u0000ß}üÀf\u0000BÂ¾t`°ðÐÝë\u0004\u0000Ñ² YõaÏ\u0002G\"üÁ°c¸ï#ÁæææòXÜ£M\u0002`.o\u0013\u0004 °víÚ\u001c»Ýî¤\u0016\u0013Bì8­aþ\fN\u0000\u001a\u0019Ï±aµ\rS½§ûtoÆF!\u001cÁ\u000eÎù¦@ °9\u0014é&\u0001HÀÇ70\u0011\u0000\u0002ÅÅÅ¶\u00193fLbÁðV}\u0003÷dåu´tC¢àÿ«8ç?RU\u0015¹\"Ç2Æ\u0004æs=¢\u0005Æ¦ç¿¯(J}UUÕ±âââ®xÐ7\t@<èï\bôÀÚµkÓÇpÎ¯\u0010\u0004ákó/1ÆÎ\u0011Í$¤óÿã¿ÛÞÞ¾ãèÑ£zÀNÄV\u0005²ÍfëÞ£]]]¸ó·õ\fë\u0015ÏG0\t@<èï\bA\u0000ñ\u0005\b!ÚÏ¤I4ÿ\u0007½´´´ð¤¤$õ7ÞP7lØ\u0000}½!¡]¢\u00017\t@¢\u00115Û3\u00118\u00100\tÀyô±Ì¡\b$\u001a\u0001\u0000$\u001aQ³=\u0013ó\b\u0001\u0000G\u001fË\u001cª@¢\u0011\u0018p\u0002ðôÓO\u001e6lØ\u0004Îù\u0017\b!3 éì1©6Jé^Î9b§W¢\b·F³\b\bô\u0003\u0002\u0003F\u0000<\u001e\u000fT\"Hq5Rªe\rW8ç¶rÎ?å¯¢v§ED\u0019Îù>£\u000e\u000fú2\b\\¬\bô;\u0001(++»ÜjµþRúy\u001ddè@a\u001cÑ3\b$Ã\u0012\u0016R0¢0XBUÕJBH\tçü5I>ºX?¤9o\u0013X\u0010èW\u0002àõz,\bÂ#úÀ°©a\u00169~üx-J_\u0005õÐ\u0010±ÍA\f\u0014UUUJé#\u000eãa#õÍ:&\u0002&\u0002ý\u0018\u0016\\O´\b±¡f\tRp0â%¥»=\"Í2¸Ð°Kx¬) \u000ep¤@\nä\u00107Idvù$I^ó\u0003\b\bG _8\u0000YÈ\u0018ûÞ5B*#bDRÅ5\u0001Î\u0014H\u0000o*½\u0004\u0002ï;Î_\u000bÀDÀD o\u0004\u0012N\u0000¼^ïÝ hYm±9gÌ¡yDõÇæ\u000f\u00168\u0000\u0004G@î5½/EQ$é.s\u0001\b\bô@B\tÀºuë¦Úíö\u00034è³¨çïïÍ¯O\rÝâ:Àº\u000f¶ßïÿËåú¥¹\u0000L\u0004L\u0004ÎE ¡\u0004Àçó¢f¡\u001bDJÅ½ 6(\u0011oõ={BÓår2\u0001s\u0007\bô@ a\u0004 4ýSVVOm 7èÜ\u00102\t@P\by²ººzòÊ+ÛÍ\u0015`\"`\"ðO\u0004â&\u0000kÖ¬\u0019¾s~\u001b|¡ß7oÞ n~L\u000f×\u0001\u0004KD¢\u0004ü®(ÊÏ$Iú±ùñM\u0004L\u0004\u0012@\u0000dY^B\bAÚ¤ëôæpâçäähÑQBÁx>ùänÃ¢®®®ñË/?6\u0014Æ\u000f å[-\u0016æ\u000b®(JÛí®\u001d,ßð¡9E j\u000e\u0000\u000b×f³½-\bÂ¡÷nü\u0000H\u0000c¡R`GTÉÐH(òSI\u001e\u001aÌ±=ýôÓSÒÒÒ6ALB\bAªÜÐol®Íó×\t!¯rÎµgû÷ï.ÞÐO9g³ï¡@T\u0004 ¼¼üj«Õú2özðn­öH\u0000ÁDCj¶\u0018Ó\u001d;´4Ôªª¾#â51À²²²6í÷ó\u001bÁ b,Ô£¡±à\u0011ò\u0019×\u0016üÛ³PJk9ç/«ªz¿Óél\u001e9}^x\b\u0018&\u0000Á\u0004\bX¨\u0015,^èø1É,2¸ÿÃH\b6\u0002ªªúEQ´\rô`KKK³l6ÛQJi24#\u0010ê!¡{\u0005ÑcaÝ\b?\t\u0014]µ\t³hX?x¨ªº\\¤²Ùß!\u0002°víÚy©©©ï\u0013BR°\u0000ÁæÃ²o Ó Å\u0003=ò¦\u001d<x&Ez \u0010ët:?§½hÞ]·nÝ(»Ý¾KUÕìÜÜ\\Í\u0007\"Zí3\b\u0000æ\u00015§¢(«$IúV4c1ë\bÃYF¤¤¤$#99¹\u001a§\u0017\u0016.\u001cyÀö÷ì R{ñ\u001c¦ÂûöíÓ6ßï\u0017].o Æ!Ëò\u0016ÆØM0FÆxq\u00031¨¬¬ÔÌMsçú\u0017n?a9\u0000\büwPJs\u0001\u0001y åOté\u001dM$sð\u0000\u0000 \u0000IDATNT?ºaP}þ(&ªípíx½Þ\u001b)¥¯[J¤]\u0004æ\u0001C§ÎÎNÞÚÚ:òÎ;ï¬\u001fù}\\x\b%\u0000^¯w© \bë±àÒÓÓµ;´ìk8È ?ÀÝ\u001cæ»¸ûB\boÁÐ>tö7\\ÂÄHe\u0000\tÍãñ,dÝJ),\u0016åÒK/Õ,ðüè#-üÁnQ\u0014ç$²m³­\u0007°\u0004@eMÍ9{ölC\u0001:¢\u000e\u001bóã?Ö3j¯¢/\bÊÙN5Á\u0017þ\u0006\u0015#$ç±\u0010 \"\u0000\u0003{16\u0019¸á\u0007\u001c\u0013,#\u0013]@\u0018«««µ\u001fEQ®$éD÷a¶wá#Ð'\u0001ðx<÷X,ßõ§q\u000fôóÁ\r±\u0011:Ü½mrü­  à¬¸\u0000F?î 6\u0014E©$Éaô]£õÖ¬Y2|øðZUUS $\u0005±Ò%ù±\u0010-#ý\"\u001e\u0002\f\u0014Ey@\u0014E[3@T\bôE\u0000¨Ïç{Rz\rV`a\u0013-ñÇ©Å\\g{÷î½&77·Rz#!¤[UG)EÔ$l\"HÑÁ\tD[Ð\u0017\u0004gº\u0000NUÕ«EQüK´íôU?¨æ;I)\u0005\u0007 ±¿6}è\u00180]»v\u0000\u0015\u0016\u0016.OÔ|Ìv.\u001e\u0004z%\u0000Aáß~JéxÜË§M\u0016·ôºçÂÝ½{·v/æûUUÍ$©\nu.]*,\\¸P4ÚívXÆ}1öØPsæÌ\u0003Ðué 8¸Z¨ªºW\u0014ÅüD}æjÎùéÓ§k²hJ¨#÷S#\u0000@à½ÂÂBDY6@T\bôJ\u0000V¯^=,33³\t1=°ùA\u0004\u0012q¢a±cÓC\r¶\u001c%\u0010\b<ët:Wô5jY×2ÆnGÿsçÎí5gº\u0019£o\u0004\u000bAM°ßo:ÎÕFÞ\rWÇëõ>È\u0018{\u0014l?´$Ñ¨ù #\u0000!ÄØ@8ð¿\u0001£äädÍ¤:\u0012î¡øýþ¿8\u001c«ãË@¾_ZZz%cì6Å\u0019\b\u0004ê(¥ïqÎ[kkk_7½6\u0007îKôÅ\u0001\u0014ØíöX3gÎLm?ÚAÎ§~Ú-\u0011WUõ\rQ\u0014o\b7]Yÿ1ö\u000bl\u0004Ån·Ç\u000e6'$çAµcõÞ½{'Çcc¿jÕª¤ììì=V«u\n¤Ñ^@N8á§¶\u0012B#Ü¹>9Hù¯¼²ÛÝ¢×9ëW@ pØápL\u0019\u0001~±¼¼¼xÜ¸q?\u00197nÆàam À\n²¦¦æ\u0001·ÛmÊ4\u0006à»C\u0000ÊÊÊ¾`µZßÕlÎ5+&¶\u001bcÇ\u0002];îà°qÇÇ\r±}Ýï÷/r»Ý§Ãy¿É²üÿ\u0018c/\u0000ÄÂbb¾\u000f\u001f>¬©\u001e\t!þÎÎÎù·ÝvÛîXqey$¥ôDvv¶\u0000\u0003©h\næ³sçNÜß÷8\u001cYÁ¼\tS)¥\u001dóo«ªzíe]\u0016¨Ô××k\u001c\u0015c¬T\u0014ÅÛ¢\u0019Ã`Ôõx<_\u001a7nÜ\u001bØü½q7zh·ªªª\u0015n·ûÙÁ\u0018ãÅÔçY\u0004 ¸¸89//¯\u001d\u001f\u0001\u0017*¬±cÇÆ\u0007(;UtV?´@ ðÓé4Lá+**4wYXÒE»Ñz\u000e\u001enûöíÚÆ\n\u0004\u0002·9ÎÒ&H\b \báj\u0012\u001aµ8\\{è\u0017\u0004qïÞ½ÚÉç÷û\u0017º\\®WBßñù|o¨ªú¥Ë/¿<âÐ@Ô\u0010ø¤¹¹9 (J.Køâ\u0000W\brKïfgg_Í\u001f®\u0004¯Fí7ß|sÊ\u0000\u000fó¢ë®\u0000¬Zµ*}äÈG\u0018céØ$S§NÕTYÑÜiCÑ\u0003K\u0007ó[]g¢¬å?át:Ïÿ\r\u0016l\bJé°É \nuLzw\u0010\u0006b\u0013ªªê\u0013EQ48³ªAN2bÄzøóCKb$\tÔvAÔÖÖê×ë\u001d\u000eÇ=û÷ù|rÎ\u001fD`\u0015Ø@D*P¥\u0006MÝ$Gª?\u0018Ï×¯_¸  `B(NºL\bß5h¥Ù=4\\öìÙvß}÷áztÁ§z*köìÙ>ÍÝÙÙy°±±qÓâÅ\u0007ÜÁ«\u0000ø|¾ßRJ¿\u000f\u0001\n\r{ÿH\u0002¨p_\u0005üÈ#úI\u000b\u0017ÖßÄú\u0015ËËËo¶Z­/b<\u0018W_ì£ÑöÁ2@©ªºS\u0014ÅyFß\u000b­'ËòVJée}hÄ@\t6\u000fº÷äë@à[n·{Oo}{½Þ+\u0005AøÛ)S(\u0004°\nìÖ­[1\u001f(®Hõ\u0007úyyyù¼¼¼u=Á´··ÃUûÕ,»Ý>///Ïª\u0013w\u00188\u001d=zô_Nçß\u0006z¼ýÝ_IIIþÔ©S·äääLÆ|uB¸cÇ¯;\u001cú»ÿÐö5\u0002 Ër>cL[ºÉo¼§ì¡C´\u0005RXX\báÆÆÇR<\u001eO:cì(c,\rïC\u0016\u0000áX\u000bÂáîü\u000eC¶\u001d¯×û\u0014¥ô>l~XùE\"x\u001eä:ö;\u001c\u000eÍ¯\"\\Y»vmZjjêñäääaÁDj\u001f§*®\u0014ÍÍÍ¢89Rû\u0003ý¼¼¼üÍ\u0005\u000b\u0016\\§¯)Ì\u0007ø\u001f>|x{aaá¥\u0018Ï/¾xxÎ9\u0013ô:ÓöíÛß^¶lÙµ\u0003=Þþìï\u0007\u001eH]¶lY+\b;æZSSS1\u0016ñ4\u000e\u001e<¸ú¦núföß³m\u0000¼Ç\u0018Ór÷åååiÁ=â)!Î*`û÷K\u0014qÑGêOåe±çP\u000f?\u001e¿\u0004\b\u0002z,H\f¹Dëã{öÙg§%''ïMOO\u00170\u0006#\u0012u ð\u000b\u0004\u0002/HPj\u0011×ëý>cì1¨\u0016!÷\bG\u0004°YÀÕ@Èêp8¢OÄÄY¡¬¬ì\u0007³gÏþy¨\u0001\u0017°?xðà½.ëwzóååå\u0016\u0014\u0014<¨kyp*\u001e<x°sáÂ=³GÇ9¢Á}}óæÍççç\u000f×Á}ûö=¹hÑ¢ï¼ûî»eggOlhhhZ°`Ad/S \u0010dY­VÜÉSÁ¢\u0019]Ô}\u0001\u001fN\u000fÃ\u0015\u0014&Þ#¢($Þ\"Ë2L3â\u0005ÄC\u0000¼^¯RZ¯\u0005ET°9q\u0015ÂÝ¿³³sQ­CyyyÅb©\u0004G\u0006ëÂpF'\u0000õõõª(Qs4æ\u0010ÏóM6í5kÖôÐñïÚµ«mÉ%gt=<gÎtL\u0004 }áÂñFñ\f¾\u001fÞýà\u000fº222¬Ç\u001dë¸îºë4ö;ï¼S;zôè\r\r\r\u000b\u0016,è6ïîÏiz½Þë\u0005Ax\u001d\u001f\bºl\u0018 ÄS ÙF\b® °§Ýï÷Os¹\\Õñ´Y\\\\lÉÍÍ=À\u0018\u0010F7Ð\bÄZ`Ó\u0010ÒTXX\u0018\u0015ÅeY¶X,\u000e\bþ «Tp\rªªªÂ\tnXÞàóùr(¥\u0007,\u0016\u001d\u001a\u0006#W ÆåSÃXC¦¼òÊ+\u001c\u0002e}\u000e\u0010X\u001e8p`WWW\u0017Ô|[õnÙ²ÃèL¯õ³mÛ¶7\n\u000b\u000bÃÚ\f\u001a\u001cÈ{ï½whÔ¨QAà\u001f?^gµZ-iiiÃ±ïvíÚõÐ¢E~j°©T\u0003\u0001ø \b+á¸\u0002SÛxJh°\n´(¡×ëý© \b?ÂâÀ\rwïH\"Ü< 6CÞ\u0000UU?\u0012Eq~4söù|'ÓÒÒFáª\u0014ý\u000b\u001b\u0010r¢¹¹ybQQ\u0011|#ÊBdYþ\u001fBÈ·aødä:\u0016Ü,Àäw\u000eãÞhæÓßu7oÞüY~~þÄP¬ ´ÖâÔ©SO¦¦¦^¯(J{VVÖ\u0015º\u0017ë\b2¤ººº9¢(Æl§Ñßs¥ý \u0000ðõñº\u0000\u0010í ÀËûï¿ï½÷î¥ÝXß¡²,¿Í\u0018ûW°^`5c-8ùñÑ@á¬ÿû¢(^\u0015k{ú{Ï<óLfjj*LEµÍM\u0011iãEê\u0013æ·¸©ªú\u001bQ\u0014ïT?ô¹Ïçã B8ÕÂ\u0003ã=qâ\u00161Ö¤ªêÿ8qâ.#f®°{À5\u0007j@#q\u0004t.Rº¬°°pC4óéïº¥¥¥¿¼äK\u001eè³\u0004Ôe\u0003¡\u0019£AÐ>þøãªÅ\u0017Oëïñ\rVû[¶lñ\f\u001f>üê­1Ë±cÇ~#IÒ\u001b\u0003=\u001eª\u001bÙèÁ*c\u001d\u0000¤º®\u0007Oþc§OH5²,o`Ý\u0013\u001fòx¤ÿ\u0018\u001b,\u0013!\u000bF0¾E\u0014ÅÑÌ\u0019\u0004\u0000X\u0019qÂqÕÐ\u000br\u0011A\u0010\u0002@à¿NçOúê3¨ñhÒí0\"q:ºÁUkk«?\u0010\bL÷º\u0015\r\u0016Fë>÷Üs;§O^\u0000\u0019k\u0013æüá\u001fz\\.×Si\u001aóùR¯\u0000@¸u±6mO)ýDQ÷ïßÿx¬ööeee©V«\u0015^cá\u0018+J<§¨´RÚ®(Êh-ç|>ßGÐYC^bt,0æ\u0001g\u0004Y\u00008@  9\"É²<\u0010\u001f]ðÓA\b·Ò\u0016Ì5R~\u0005Ýl6HxWK4 *¤hÖJYYÙý©©©Å\u0005\u0005\u0005#Â\u00115\u00104¸n766Np:G£éÃ¬\u001b=\u0002\t!\u0000è\u0016&¿PEe\ruá+@\u0000æ®Hv\u0011U\tÆÒ¯äÛ\u0013aÍ\u0007÷Ù 3PL\u00023Y¤~\u000bfºF\t>iÝþ?Èî¾F\b¹\u001e\u000e@¡\u001b\"è®¬q\u0018«êÑUUý@\u0014Å\u0005Q;\b=\u001eÏx»Ý^kÕÕ}X7ø\u0001±\u0003wvìØ±ök%Iúû \fñ¢ë²\u0000à^tÞ±\u0016l*l0|D\\\u0007ð\u0013J\f\u0014EyN¤ÂhÚ÷x<³,\u0016Ënl\u0018¨Ýâ\t´ñAúq¡(òUIä$ªâóùn!lÐ³\u001fGó2Æ{/\u00106=ól\u0003ÏÀ\u001eãÊ\u0000\u001c!\u0010\u000bç]gzH0¿ßËåêÎÙ\u0010Í\u0006º.4:Ó§OÄf³`©\u001d\u001d\u001dVUõ-A\u0010ærÎ?s»ÝQÃÔ\u001f\u0010B\\Í;v\"nï}üøqM\u0010¦p¢<#IÒ]¡}¬Y³fdZZZ¢(Ý\u0006,ó.¿ßÔn·\"\bÀüùó\rÙÛ÷6~Ý6\u0001ÒÿàÝ(=mziLåÑ±ª\u0014\u0010¥HwôÞÆ\u001f#þþ}}\u000fý±³³3oùòåû\u0012ñíÌ6..\u0004@\u0000<1\t\u0011f§.Po`ããúOQ\u0014\u001fóx<ÿf±Xþs\u000ewC;=û¸C$ ¸\t«Ò,¼\u000bµ[ÏÁFÇ\u0013\u0015ê8}\f@àJ§Óù¡Ñ÷{Öe¹Rú¿F±ö\u0013î=\u00102È\u0014À1<yrøý÷ßo¦\u000bë\u000f /ð6a\u0007p \bÏ`0:\tõÞKÄÜu¶\u0017\u001dý´äÿRªÝYñ·¾üÂu\u0010\u000f\u0001À\u0004_>+òmI~\u001dïÜdY~1v=d\u00130×\u0013g\føNÛ¶mC¿ÂÂÂ3yÄÌb\"\u0010%\u0002 \u0000\b°s.$BÐÖ\u0017\u000b\u001e¢\u0013ï®Mûovvvw\u0004]<ì\u0000wu¨Î@\u0004 C\u0006»\u001dîNÜ×¼¡#\u000f\u0006Ì\u0000\u0011ø½$IEQbÔguY3Æ4G\u000ep(\u0003Yôê¢8ÜnwÅ@ömöuá @xâ\t{NN\u000eLuc\u000b0âÛ\u001e\u000b\u0004°þäZwë9/\fz¦ë.È\u000b\u0000q,\u001fcÄû\u0010ºáÄT\u0014e$I2£%\u0001ñù|\u0011B¾¯ç3Ðz±à\u0013Í;AïÂö®®®Qn·ûLE³\bD&xC`KA\u0010´tY\u0000\u0004ûþ*\tèV}\u0003Á6Cê\u000eË?\u0010\u0000Îù\u001d\u000ec]¢çVZZk³ÙÞ&d!@\b8\u001ahT¢U\u0013\u001a\u0019\u00173b-@÷Ï9?/Â\u0019Ygp\u0010\b\r\bò\u0019¥t\"6'\\ô¤\u00163¬Äõ\n!\u0019eØ8¢ÜÐæp\u0015NJJú\u001eçün\u0010\u0000p8$rà2 õG´\u001cJévÃ¡ùÒÅD V\u0004º\t\u0000òÙY,\u0016M\u0007ÍÐ[ýu\u0015u°Ñ¾§[(Bþ\u0010\u0014FÎ]±bE¿¦\u0006Gz°¼¼¼#ó\u001c\u0010\u0001p\u0003F8\u0001`Ý@\u0014Ïp\u001b3d\u001a ü£©©éº¢¢\"Hþ#:\u0017EYÿâAà¬à\u0011²,3Æ~<·¡\u0004\u001f4\u0000Ø<(\u0003\u0012,#Xå\u0000¥tîÏß\r|Ð*QS\u0002sÈ\u0010 ó\u00001À3XÉÁà'ÄÉj(ß07þPZeçïXB7&Ôeù}ÆØ¿`\u0001Â#\rÆAXde\u0007\n.h\u0013¹óÀþ¿*IÒM\u0003Õw0W  \u0016\u0002;¨\n¡-\b\ròñÁ-\u0019aÊu\u000e\u0000ã\u000bÅ\u001aD ø³9\u0010\b<ît:ß\u001b¨9ý\\ø\bôz\"ÂáRÚ\u001d,\u0013\u00018`¶z>\u0015l\u001aýþßý~ÿ\u0017].×\u0007z\u000eÈc³Ù6Â sh+¡+ÒNÎùÑæææ«NÉ²|3¥ta\u0010XÌ4\u0016?§Ùßù@,±\u001e%X?`\u0007\"\u0000\u0001m\u001dê\\\u0001²\u0000\u0005ïÕÇ§\u0014\u0015\u0015ù\u0007ë3INNFD£î8b¢42Æ\u000eI¤'2À@#\u0010öN,.\u0016å\u000fîømØP\u0010lÁ·\u001bþ\u0003±êçû{¢\u0010!\u001bQÐÉf$Ißêï>ÍöM\u0004Î7\u0004\"\nÅprÙl¶û\u0018c?Ò7»~ò#hE$Õ\u0006\u0004wi=(i{©u8\u001cÙ\u0003=\u000e³?\u0013ó\u0001\u0004 t\u0012\u001eç\u001eA\u0010\u001e £jÑCûÃ \u001eà -Gü O\u0003onnÎ¿ûî»MO¹x@5ß½`\u0011\u0000è(x½ÞÛ\u0004A(Áÿ¡!@¾Á.8ùu¡>\u0016EQ\u001e$©x°Çföo\"0T\u0011\u0000`2²,ÿ1öE\\\u0007àJl=BXõ\u0007\bºÏ\u0000,äpç×\u0014E\u0019Ò!²ú\u0003\u000b³M\u0013h\u0011\u0000 ^ÍfCB\u0011- XnxìÅ\u001bä\"\u001a\r\u0003ú\u000e\u001d¦±¡6~¿ÿ\u0016Ë\u0015U°Ïh3ë\b\\\b\bÄL\u00000yd\u0014ÎÊÊzA\u0010/\u0005\u0005nZ(+h\tôl\u0004$ÚÁxp\u0000\u000fÚ\u0005h\u0019p½è-í6\u001c|P\u000ff±pÕO}UU+\u0015E¹Ãår½o¤_³ÀÅ@\\\u0004 \b\u001eb\nüQ\u0010\u0004ÍxE/-\u0000B\u0010©ÀN\u001e¡Ã:+\u001eß\u0003EQ~ IÒãú3\b\bü\u0013D\u0010\u0000­5¯×»Rº1¦¸ÆÆ\u0006\u000e»v\\\u000bznn°ì8½á\u001e\u0012\u0012ýç$¬a\u0019c£#}(Îù.UUKO>]~×]w!¶YL\u0004L\u0004¢@ a\u0004@ïÓëõ>)\b\u0002\u0012:\u0010\u0018m\u001fIö)r¿$IÐÖÚµkóìvûW)¥ÀÇ>dN\\QÍµµµ0e'\n,Ìª&\u0002\u0017\u001d\u0002F7hTÀ@@\b_\u0002A\u0010¾B\b¹\u000eÎE=\u001bP\u0014¥RúWUU_¦¾'I\u0012ÂZ®­Q!mV6\u0011\u000f~!\u0000ñ\rÉ|ÛDÀD` \u00100\tÀ@!möc\"0\u0004\u00110\tÀ\u0010ü(æ.\\\u0004~úéÑÃ\rÀ9ÿ\u0002!\u0004x4úÒF)ÝË9ÿ\u0007!¤J\u0014Å~\u0015n\u0004àÂ]kæÌ\u0010\u0002\u001eç\nA\u0010~E\bG)M44Î¹J\biåÊ9_E)MÒß\tæÜçt:_2®b\u0012¸à3_6\u0011\b@YYÙåV«õ×ÒÏë5u\u00159\u0002ïö¦\u001eG&+Ø\u001b±ñ\u001b!¤sþ$I\u001fEû=L\u0002\u0010-bf}\u0013\u0001\bx½Þ\u001f\u000bðHÈÉ­ÙÄÀZ\u0016®}\u0015lþºº:Í8\u000eÄÀHQU\u0015iô\u001eq8\u001c\u000f\u001b©¯×1\t@4huM\u0004\f\" Ëòó±%¨\r¸\u0019\u000bÈZÁôða[ÒcAÂä\u001dFs¡&ñx@· \u000eðEàX½¾ªªG9ç°õ\u001a\u0019ªI\u0000 dÖ1\u0011\u0002\u0001YÈ\u0018ûþÊÄ\u0013µpzý\u0011B\u000f×\u0004XÓÂ\u001b\u0016±0ô\u0012\b\u0004¾ït:\u0011iØ&\u0001ùÜD \n\u0004¼^ïÝ ¬Á+Øªôwý±ùC¥§g¬Þ¢(ÏHtW¸á\u0004 kV5\u0011\bÀºuë¦ÚíväÐö\u0015\u0012Ã ÏCoþîû|0\u0004rLèÉhü~ÿ÷\\.×/û\u001a·I\u0000Ì5m\" \u0004|>ß)GsS¦L\u0019x =p²CB\u0010\"àt¹\\½Ê\u0004L\u0002 o6sq# ËòrÆØ³8íqêO<yÀNþÞGÂ\u0019p\u0002(óÕÕÕ{s3\tÀÅ½nÍÙÇÀ5kÆ¦§§¯äßÆ\u0018\u001b\t\u0017øyóæ\rêæÇÀ\t D\u001e²H\u0007CãÿL¤\u001f÷®I\u0000â\\\u0000æë±!ü «·ÅbÑ¼@\u0015Eir»ÝµçW¨,ËPñÝË\u0018»NG\u0000§NN\u000e\u00193fLl $ø-\u0007©ñtÃ¢®®®ñË/?vð0Á}Í\bEàé§\u000fS\b!ópVª4Îy3çüuBÈ«síÙþýû+..6f\u0011ÓÏøpÙl¶·\u0005A¸2Tøß\u0011Ê\u000eiô\u0006#8n_ÓÖsd@#¡(ÊO%IzÈ$\u0000ý¼HÌæÏE ¬¬l¢Ífû=çüFLH1\u0007õnî¿!.$ØVü{\u000e«Ji-çüeUUïw:H>à¥¼¼üj«Õú²)\u000bcÆi¡%~Å\\¤\u001fÈcL;vì HD«ªê;¢(^c\u0012ü\u0002f_¤´´4Ëf³\u001dE2\u0019XÄA@ÖWÐXdOu\u001bìäQô\u0014é0õ\u001b6ªªË%I*\u001bHhKKKç&%%!hV@¼ ã\u000fÍê\u001cÍxxÀOü'\u000e\u0010Õ&u=µ&\u0011ë¨É%¥DÓLÄºÀ\u000fFB­ªª_\u0014EI\u0000\"ÂfVH\u0014\u0002ëÖ­\u001be·Û\u0011»1;77W³V/®Ç\u0004\u00018xð ¦æR\u0014eÀò=®]»v^jj*\"M§`ìz¶ìXòbv\u001dßKê_|øO\u001cÔ.?,\b4 \u0013BSIÊ¬/jb\u0010jK!öW\u0013ëéDHéÛw Ò·jnnÖpC\t\u0004\u0002sNçÇú;¦\u00100\u0012zæó¸\u0010ey\u000bcì&Ã\u001a5*n\u0016\u0019®²²R35jî\u001aÏ\u0004JJJ2«Á½`óÃ\u0007l,¬~Ý\u000bÿENôGbaIa$+vÇÀÃF¬ïPIÍé³£â)\u0010E%$ýú»IÚç\u000b\t³v{\u0005\u001b\u0016°Ú·oFxý~¿èr¹|&\u00010\fY1V\u0004¼^ïÒW`\u0007H½8\u00162\f]:;;ykkëÈ;ï¼³>Ö1{\u000f\u0002¿äää\u001dÒ\\Ô3\u000f¤ü±º?<FÚÿ±\u001bÆÈ¤nüHm1JHc''GZTB,62îÁ×\bµÆÈÔ\u0002é6\f\n^~$â£&\u0001Y#z\u0004pqÇ³1v+¥T²X,K/½T\u0013B%²ÀCî£4÷÷Ý¢(ÎIdÛz[\bu/\bÂzlôôtíÎ\u001fíõ\u0005mµíþ3ixîÚæÏHéÆõ`w½B(\u0013È¸\u001fÿPÁbxÊºe I\u0000\fCfV\u0005ââb{16\u0019Â1üàÄe\\¢\u000b®\u0002ÕÕÕÚ¢(×HôN¢ûe\u0019ù)\b\u0004³gÏ6\u0014 £ç\u0018Ô6rü¿¾¬ú9Ãô\u001bl#U9!\u001fRHRæh2vå\u000b\u001b1\ta¨Ì±\"°fÍáÃ×ªª\u0002!\u0019Ô|º$?SÓÈ8`à\u0002C\u0017EQ\u001e\u0010E\u0011á¶\u0012V<\u001eÏ=\u0016åw±\u0018÷h'm[\u0003©ÿÃc¤ëÓ\u0010êo'³³\u0004\r\u001co\t¨ìmPÈ¨»~O&Ì6Ô\u001câ\u0005À,\u0018ãR\u0014¥B$y\u00050\u0004YÉ\b\u0002A5ßIJ)8\u0000Í ¦¿6}èx Ûµk\u0017\u0016uYaaár#c5Xú|¾·(¥× \u000f\\a¢ø7½õ,iyëi\"PBF¥0j%$\u0019ÿIPÙ«Àø¹dô]¿3Ô\"8\u0000\bNuÁ¥ªªW¢ø\u0017¼¸Q\u0019\u001aYéBD ¢¢¢s>\u0006)âqW¦è\u001b+\u0016w@\u0000\u0002À{²\u0012\u0014þí§Ï´iÓ\fKýþ´4½µd§PÊ\b¤ø.MA¡à¾g¨iÝ\u0002Ü\u0012|\u0015TUÝ+b¾I\u0000\fÁ×?JKK¯dÝf±X2\u0003@\u001d²#qÎ[kkk_?Ry½Þ\u0007\u0019cíÜ¨z¬óènÒ¶}\u000bi¬9BT[\u001aIX@RÒ3Iò´ËB\u0005-3´Tó\u001fü1T[q8\u001cW'êK­^½zXfff\u0013bz`ó\b\u0018!P§w¿Eêû\u0011\u00197¬dfå×OàhèDÂÉþFýÞf\"\fË44m\u0010\u0001\u0004\u000bA\u0015J \u0010ø¦Óé\\mr\u0000àKl¥òòòâqãÆý\u0004\u0019A!!±\u0006\n¬àjjj\u001ep»Ý\t½Ó&v\u0006gZ[µjURvvö\u001e«Õ:\u0005B2£lrÃÏä¿?«éÂ¡æÂÝ¸¥ëÌ\u0016hìâäÈôE¤mÊÕäÊ+»Íí{\u001d¾~\u0005\b\u0004\u0002\u001d\u000eÇ¤DÍ±¤¤¤Àn·ïÄ|fÎiÈ¶+\u0001rìákÈð$J&\fcrÜaî6+ÄÂ(\u0019LÀèhÀj¸ôU\u0002*'{\u001bT2fåFbÉ0îx\u0004¼ 9\tZaVïÝ»w²I\u0000\u0012µj\f¶ãñx¾4nÜ¸7°ù{;UôÐNUUU+Ün÷³\u0006\u001dj²,¤ÈÎÎ\u0016` c¤´\u001füÐõßÑ6o§\u001e\u0016ä©vìÉu9îHTêëë5+7ÆX©(·\u0019\u0019C¸:eee_°Z­ïêA6gÍuV@Î¾Þm|ãiÒüÎ³dv¦\u0010vó¾_×ÁIuÒA9m!B\"\u0000ítV\t?Jès\u001d\u0001N\u000e6©dÔÝÏ¤ñ3\rO\u0019\u001aÃ\u000fkfÁ\u0010ggç|\u0000\u0018/¾ÁÓòÝììì+°ùÃ\u0015|¨Ý»w·ß|óÍ5\fo\nç¼\r\u0007\u001fA\u0010>;wnÄMÂ\u0003]¤ví7HZý^mó?%¤²Ñ?þsÄ\u0011\u0003+H¸\u0003¢äIT\u0015ñ¥>*\u0014\u0017\u0017'çååµcóã´\nsìØ±;öó\u001bIºÒJÆ§õ½qC\u001b\u0002\u0002;O!)6_wýúº;\t±,X2\tÉ÷\u0010Ê\u001e;²ïv°i!\bô\u000bIdüC24>½\u0012\u000eíÛ·k5\u0010\bÜ6h\u0004à©§Ê={¶Ïf³ewvv\u001elllÜ´xñâ\u0001uð\n¹8+¯_¿þpAAÁÐd\u000fÁ m Fw/¸¯íÙ³'í¾ûîk³ë~y\u001d÷ä\u0011#FÔÃ\u001fRòHI,Nüj\u0011a©ë¶}Ç °ø\u0002\u0010pÆ\u000e>TMv¢M%Â··\u0010[JZÄñ#\u001anÐÔÕ-IRyÄ\u0017z©°jÕªô#G\u001ea¥ã[L:USe\u001ai\u001c}è*2=$\u0003Ò~ð\u000e¯¨¼î\ru#CóêÒÿA)ùEÁH!¢\u001e6\u0001Y\u001e$©~5ª)C\u0018\bÍªª¾A!\u0000%%%ùS§NÝ3\u0019\u0000ë\u001baÇ\u001d_w8\u001c/E5ó ryyù¼¼¼u=A´··ÃUóÕ,»Ý>///Ïª/8\u0018¸\u001c=zô_Nçßâ\u0014eYÞJ)½\f±ï°QÂ\tÉZ·ý\u001fIëqf={¹ÝS§¼l%YÉ\u000275C°\u0010 <ÍIë×½ÇÛÙ\u0000\u0000 \u0000IDATI²f-8}ÈQ¶nÝ\u0005í\u0011EÑ\u0015ñ^*ø|¾ßRJ¿yC½¿\u0011Á\u001f:úðµD\røÉ,\t\u0007znÁ´(ät.ðú*ÿÓÁªº¶³|K®%É\u0013FlÏ\u001f!h>\u0003}\u0015´WÕ¤\u0012Rð\u0015¹èÁ¨¦+\u0013dNªªî\u001cp\u0002ðÀ\u0003\u000f¤.[¶¬\u0015U,öê±ð§>xðàênºéQÍæ<¨\\^^þæ\u0005\u000b®Ó77\u0016\u0016î®\u000f\u001fÞ^XXx)¦ðâ/\u001e3gÎ\u0004½\u000eNÔíÛ·¿½lÙ²kÚ\u0014½^ïSÒû°ùD½=±ö$¿m§vÊ£àÆ\u000eNV·©â6ÿw\u001dYó2-\u0013t.\u0000B°Ø42ùß¸\u0011ÕÞ½{±¨?\u0013Eqr´xÉ²Ï\u0018Û÷t_£'ýÿENoÿ#Ù÷æ×æÌ\tÙU§\u0010J?vÓÝ®Å=Çûæ²¬æQ),mt\u001fr\u0012½~ÍiÔ'!9+jÊ\b\u0013õü\u0003N\u00006oÞüx~~þ÷`Åµoß¾'\u0017-Zôwß}÷³ììì\r\r\rM\u000b\u0016,Èj6C¼rYYÙ\u000ffÏýs\u0018Çè\u0005i\u000e\u001e<x¯Ëåê¶ä(//´  àA»Ý®U\u0003WtðàÁÎ\u000b\u0017öÌ\u001e;¨3~öÙg§%''ïMOO\u0017`\u001b\u001fi£4¾]NF~ø{\u001arú7trr¸Y¹÷Æ\ruÝóå\u0011ægÙ\u001eL\u000e^}±0?kc¤u¹WóÀ\u000bw\u001a\u0000àT\u0006ÅápD½¦eY~1¦åîËËËÓ{\u0018)]ÕûIÍïn#Ò\u0018I³ï\u0016ö\u0000õ\n9\\sÊ¾âÏäL\u0010>Êk·x2á{¹#Â_)êADÛT2á\u0011cö\u0000zw\u0010\u0004b\rjëÌÈD\u0013Yç\u000f>èÊÈÈ°\u001e;v¬ãºë®ÓVû;ï¼S;zôè\r\r\r\u000b\u0016,\u0018Èþ\u0006»­M6í5kÖôÐ²k×®¶%Kü\"\u0010BÊÊÊ\u001e3gÎC\b4\u0011B\u0000Ú\u0017.\\hl5\u000eÐD½^¯RZ¯\u0005ÅT\u001aºLU«ÏºßïmPÚ®ñ:kþ¯-Í|xÆ\bëCö \u000b\u0016æ¡6Ô-{Àº0\u001c¡Ñ\t@}}½*¢1)\\pà\u0010dZ­ÖO\u0010ã\u0003W4#DMsÓ\u001bÿKÚÿRNff7óÕYJ»Tµþ¹:Û2B ý\u000bC\u00002¿L\u0019{\u00152\u0005»¥ï-ª\u0011ÓLxøÝHá¬çJ\u0000Þ{ï½C£F\u0013îøñãuV«Õ6\u001c\u001f»vízhÑ¢E?j6C¼ò+¯¼Â!PÒO0\b¬\u000e\u001c8°«««\u000bj¾­úð·lÙÂat¢×Ã¢Þ¶mÛ\u001b7\f¥)Ê²,[,\u0016\u0007\u0004ðÈTö\u000521í*¿6?'6)»\u0014%°âË\u001bºçÿw×(TW\râ\n°Í Sþ}¡+\u0000ÜÛÚÚ>u8\u001c5h¸x½Þë\u0005Ax\u001d\u0004\u0006¶\fXFKÍ;É°ºJÍâ/\\;ï±Vø\u0003Ê7oÚØ°:Rûo.ËògÚ\u0005Þáü\u0007´+}\u001cÉùös<ëù§~ªqK¦\u0001ç\u0000\u0002À×srrÆë\u0002@\u0004A\u000bÞÿýü{ï½woT³\u0019â7oÞüY~~þÄÐ\u0013\fB+H­O:õdjjêõ¢´gee]¡ëÒA\u001c\u000f\u001d:\u00046m(»Ò\u0014}>ßÉ´´´Q`#±ÿ\u0010r¶>µä&5µ±¹\u000f5©¤¡CyÒn\u0015®WUµ}]¡«\u0007Ï\bÌTÂ]¿'éfE~XPüÎápÜ\u001bñ\n^¯÷W ¬ãÒ9Ñy\u0015\u001fyè*ÂH¦½ïmäWÏ°þ+\u001fuV¯û·?6i;¯¯òÚÒ¬×(¥7Ì \u0005@°\u0005`óo&#þß\u0003ÑLYS\"oªª\u001f\r8\u0001\b9ñ<Ã\u000f¿º££c+cÌrìØ±ßHôFT39\u000f*þòK.y ·\u0005\u001bD\rfÅþøã«\u0016/^<m¨MÑçóqHýÁÕ#\u0000 b'N õ[\"óëß&I½0æ\u001d\n'©A\u0016\u0017']èéÿI×\b2á\u00074\u0014G ±±TUUAn²¬°°pC4É²ü6cì_qÁU#\u0002\u00020.\u0011É}o#Ì\u000bÞ{\u0010\u0002b~ª\u0012X~Ãó}©»é\u001b·l\u0019e§©}\u0019JéãC»»ë\u0014µìaZp}4Ã\u0016*\\UÕß\f\u001a\u0001jÄçyåç{nçôéÓ\u000bpÇ4Â6ã\u001aðá\u001fz\\.WL*­þ\u000b\u0004\u0000=8È`\u001eZúêg¿A¦ðã$ÝJ\r9Ç`£TüW2ÎùhDö\u001fÜ\u0014ØÿÖÖV \u0010är¹ª£EEFwô`¥Ñ¼{ì_'#\u0003õãO¤\u0002õ`MJjÛ9QTþÒ7Ô}\u001dï¼úõÌ\tÜB4\u000fªæãõU\u0013²Zf°\b½\u0011ÌÐ>`\b¤$¥q\u000f¾\u0012©ë³#âòÎ;õ\bÆ·D\u001eyTÍûB ¬¬ìþÔÔÔâ\u0011á$ÚXÐpÝlllàt:\u000e5D}>ßG°YÀ}9Ò\u0015@\u001f;\u0002jÔ¼YJ:ß]Gf¥ùÃÚÉÃæ@£J¿á#)£&¾n6\rµ\u0016!dµ$IQ«u\u0002\u0000u&â\u0016FSNUüXö¿M&¥\u001b\u000fôÑîçä`³JTÿQò\u0005B¨\r\u001a\u0002lDÆÎü;>\u00189¨/\u0007¡ª&´\u0007\b\u0019ý­\nbÍ\nQè|Bµ%ÒvEQæ\u0004 /\u001eg]Ç3Þn·WåææZuu\u001f5à\u0007o ÎÇ\u001dkïèè¸V¤¿ÇÙ]¿¼.ËòÒo]~ùå\t>@ã\trêÉ[Èáèê>,äÓ~N,ÀÉ¥º¹LºüK\u0011kêÑnUUý@\u0014ÅÈ\u0016C½ \u0012\u000f\u0001hù4½ö[\u0002«=£Á>Î\u0018ð(¤¡ñid%qB\tpNZ»8ÉHfaÕs`ýS¯È\u001b£\u0012whl?Ü§Î@ÀÔ$\u0000ý²Mún´¸¸Ø2}úôGl6\u001b\u0016¬ÚÑÑñgUUß\u0012\u0004a.çü3·ÛÄ\u0013C¶ø|¾[\b!\u001bôì·Ñ\f\u0014\u000bït[+9ôü/½ñ\u0010±ÚuòedXîÄ_SEXÆ\u0018Ò9][¨\u0010ó.\f\r\tæ÷û/q¹\\}\u001aÖ\u001b£N\u0000 ×@:ïh\nWüähñµg<\u0000Ós\u0001¸\u000e Ò/¸hÜõ±\u0000¤ßøï$ýªBÃÃ\u0005^þÃ\u0000\bEQ¯Jô²I\u0000\fChV\u0004\u0002²,fU¥¤¤¤À\u0016À¨¹l(zàÇ¿_¨ëì?^tvvæ-_¾|_,_\b&Í±Ë \r@´åôî?:-à'%#\u0013hû\t­\u000f\u00020êß¤Ió\f5\u0003¬\"\fÒÿ`ö¢m¢(^M\u0002`\bB³R(\u0002²,\u0017QJÿ×¨0°?ÐÃBä\u001fBÆ'O\u000e¿ÿþûcJ\u0017&Ë²1&\u0018Áõ7R¿éqÒ¶í%2&j!ÀtçXÚôNBÈÁFýÁË£ TÙ\u0004\u0002+Nç&\u0001¶ù¼O\u0004dY~1v=\u001cg\u0010\t(\u0016N \u001ex!,Ý¶m\u001bú\r\u0014\u0016\u0016F\u0017(?¤c¯×{ \bÏàOpkF»±æwÊHó\u001bk\b,sÒ¦ÞìË1(öõwà\u0001\bÁßØoW\u0018j\u0006r%l~]û¤(Ê·%Iúµþ²É\u0001\u0018Ñ¬Ô\u001b\u0002²,\u001fgi\\0\f\u001aÈ\u0002wV\u0003S\u0014Åáv»í^\u0006èõz/\u0011\u0004a+ç\\Ö\u000b°gsª¿Ô¬v\u0013¥±\u001aVdV&#6\u0003îÁFpÃF­nS\t+~GË\u000f`¤ÀF\"\u00180\u0005Xý^¤¢Ð÷L\u0002`\u0004E³No\b`ípÏ÷\u0018!äûPõáJ\u0000uQgx`\rú´·wuur»Ým±¶õÄ\u0013OØsrr`;0\u001cwep\u0001b\u001b\u0018é«ú×\u000e¢Ô\u001dJCÐW»à$êÛUr¼H]ú\u0015#CÐê \"$ÿàl\u0014EY!IÒYQ¦L\u0002`\u0018J³b_\bæÚl¶·\t!Y\b\u0010­IÔÚ\tD,6gmm-îs0`\bl*\b.\u000b\u0011\u0010\u000b \u0011\u0005ABPffBÕ\u0017~«\t\u0010U=[+7`J¼¿QÑÔÿ\u001aÕÐ`m\nË?\u0010\u0000Îù\u001d\u000ecÉ\u0001D\u0005¡YÙ(\u0002p\u0015NJJú\u001eçün\u0010\u0000$\u0003M¤l\u0000\\\u0006¤þD)Ýîp8´X\u0002(>ï3JéDp\u00010rÒÄÓ6÷wcÿ\u001b!]§I²¼\fFô¸z»\br¨YÕâ\u0000\"\u0000Hh0P¨\n\u00111YSÈØ\u00076\u0012f.ä:ú\u0014ÂR\u0010NEQnèinor\u0000ñ|aóÝs\u0010@z°¼¼¼#ó\u001c\u0010\u0001p\u0003F8\u0001,P\u0010Þ\b\u0006\u001b+î´ ü£©©éº¢¢\"HþcQ¥3nä3´X,\r\u0006ú+((HÈU\u0000ó9½ëMÒ°á'v\u0000\\g\u0006pªc[²Æ\u0011~HüÕûHëWá0 Ýñ]ö5-\\ºeÔäÁQ{[z(pødà÷ööö¹+V¬èN\rwL\u0002`nâ#\u0010L¬qR:\u000e\u0011vàdÓ\u000fDÐ*MÓQÃa\n2\u0004XIbãè\t-\u0010\u001e\rnÔÁ`kDQüF¢6~èäeY.g9ñ7\u0005v\u000eFC\u001b\u0001±ëX%é:º\u0010~\u000f )#HòùDHK|îD}<Ð\u0000x¢\u0014\u0016\u0016³ßM\u0002`äËu¢F +p-ç¼\u0010\u0019ªB\b\u0007ÁÆë\u0005ù\u0010à0Õ:\u0007g¡\\\u001eRº9\u0010\b<ît:£\u000bc|äPSå÷\u0019cÿ1 X+@\f\u0012y1>¤øj\u0002ß`îD\u0010àW%Iº©g&\u0001\u000fcóí\b\b \u0003ÍfÛH)\u0010Ñ6B×B)íä\u001fmnn¾ª¨¨è,Ë7SJ\u0017\u0006\t\u0005É,].×ë\u0003\t4\u001c(¥ÝfvÈz4räYÁ{\u0007r81õ\u0005Â©ßÿñ»ßïÿ¢Ëå:'ÎºI\u0000b×|)Z\u0004JJJÆ$''OâwÇ\u0011S\u0014¥1vH¤°A2¢í+\u0011õõ(Á:G¦\u0011\u0001ø\fè×¡Î\u0015 \u000bPP®r¬¹¹yJQQÑY\u0011µkH\"À2Û0\u0011¸\u0010\u0011@\u0016'Åò\u0007BHwüBl(\b6\u0011Û\u0001þ\u0003\u0011$\u0012C\bLO:¥OQU$}«·öM\u0002HÔÍ¶.8\u0004À¹Øl¶û\u0018c?Ò7»~ò#*\u0012\u0012'\u0000Y\n\u001c\u000e\u001c8 }\u000bÎy­ÃáÈîëÃ\u0004à[²æú\u000b\u0001Çs \b\bÀ7RªE\u000fÇ ?Æ\tm\tr$\u0004}\u001axsssþÝwßÝ§§¤I\u0000úã+m^Ð\bx½ÞÛ\u0004A(Á$¡!@\u0006áÁ.8ùu¡>\u0016EQ\u001e$©8ÜØL\u00020Ø_Îìÿ¼D@å?1Æ¾\bö\u001f®ÄÓ§O7F<ÑÕÓêÁB\u0012w~ÝAQ\u0014C!ÒL\u0002è/b¶wQ PVVj³ÙPD\u000b$\b\u001bCñ\u00069FÃ>aC\u0001ÓèPC+¿ßËåÚhäC\u0004À\bJf\u001d\u0013^\u0010@Fá¬¬¬\u0017\u0004AøRPà¦2@ßÈFÃ©\u001d\u0007©\tð ]\u0001×\u000b\u0018#õ,pðA=EÃ-Z?õUU­T\u0014å\u000eËõ¾~QÇ$\u0000F2ë\bô\u0000õz½\u0014\u0004A3^Ò\u000bb\u000b\u0010D*ð8~ü8äÆå{ (Ê\u000f$Iz<R=\u0004 ZÄÌú&\u0002½ àõzRJ×0Æ´ÜØØ`Ñá×kAÏ\u0018\u0003`Ùqz##v\u0012\u0007=TU=\tí\u001dclt$ 9ç»TU-=}útù]wÝU\u0013©~oÏM\u0002\u0010\u000bjæ;&\u0002} àõz\u0014\u0004\u0001\t]@\bî/$Y<¦(Êý$mBÓk×®Í³Ûí_¥^\u0018\u000b!ÝqEQ6×ÖÖþaåÊíñ~\b£\u0003·\u001fó}\u0013\u0006\u0001\b\báK \b\u0002B÷\\\u0007ç¢W\u0014¥RúWUU_¦¾'I\u0012Â'Äµ9\u001a M\u0002\u0010\rZf]\u0013\u000b\f\u0001\u0000\\`\u001fÔ@4\b\f8\u0001ØôµÔÑv«}\u0002å/\u0010&Ì Ds\u0011\r½â´qNö**ýGÒYõõÚb\u0012nD\u0003Y×DàbE`À\bÀÅéWX\u0004áW±yÐÁÍø°)­\\U?U\u0015u\u0015!,IÿH\u0012æWÔ}_ùCÓk\u0017ë3çm\"\b\u0004ú\u0000üqÉðËðkÊØçõ\u0001#\u0016\u001a\u001fZ{\u0004AÄsdJõC&ª©F\"OQQy%áj?À_ûê\u001f\u001a?üYÃDÀD@GÀÀ\u0016\u001d¬×nÉü± °Gô\u0016 â´1BÆ¦2fë»kÔkèPÉ©v®E6R8WU\u001eP\u001f¹áÆÔ7ë\b\b\u0018×SFÕëË²g.Á\fª#í¤Z©öÿHú\u000e<P¢¥K\u0006W\u0000n!ju*ÎIc'×r¥[À;*W÷\u0004TõG\u000bo|!êA/\b\\d\bô\u000b\u0007ðê¬\u001fZ,ôg:ã12\"FÜô±`ØêÕm´ùÿIVü]þ»oz±ééXÚ4ß1\u0011¸X\u0010H8\u0001xuÉð»-\u0016ë\u001aý\u000e?%à©ß b\"u\u001dªF\bô¢\u0004ÿýòÆ\u00066@/\b$\u0000üßW§&§¤\u001e Á<Hýyò÷ö51ÓÁL+zæ@§¿èÆ?4ýÞüú&\u0002&\u0002ç\"P\u0002ðÆ²¬S\bÿn&¤12ÜÖ?l¸\u000f\tuªgr¨CÛ\u0012\b\u0004\u0016Ý¸±\u0011Á\u001dÍb\"`\"\u0010@Â\bÀ«K²[,ôYì9Ü÷Ç\u000fcýrç7úõ:Ur¸kêFNøñO¶ÕM½ÿ\u0000é4ú¾YÏDàb@ n\u0002°ñF2vXÚ\u0002£·QÊF\"\u001dúÌLaP7?>\u001c&Vß¡cm\\û]Qò/ohp_\f\u001fÕ£Q\u0004b&\u0000¯,\u0019¾ÄÂ,÷RF¯Ó;Ãé?:Qö\u0010ÑôC=ç@£BºEm§ýS¿¶¹éP?te6i\"p^\"\u00105\u0001(¹$O\u0018ñ6e+CgR,ä\fcÄ\u00066`ÆN\u001c\t^\u0005\u0002òàÏ7ü|\fÍ\u001cÀ #\u0010ÕN}åë#®¶Ø);)\u0005öQ)¤Û(±[¨f£Kß\u0007}fÁ\u0001@\u0006PY¯h\u0016\\åï_¿¡îª¡26s\u001c&\u0002a\u0002°åk©s­öä\u001d4\u0018äÄn!dJº\u0010\u0014²\rö4úî\u001f\u0013¬nSI]{Þýúºs£,\u000eÂðmyyysUUM9CLy{SSÓûî»¯u\u0010cvy\"`\u0000lþ·Ôyö\u0014ûû\u0014Ü«Ç¦RÌ\fÇ;\u001allaNüYË\u0019§®ööy\u000b_jÛ9Xcòù|ó9çë\u0010êIO}\u001d$\u0000z\"ÇFBÈóRÊ9oá¿\u0014\b\u0004v._¾¼n°Ælö{á\"\u0010\u0000¼xsFÆ0¥Q¬o~\bùt\u001dûù\u0000M;TM3\u0011èP¾vã¦Í1nY×RJo·Z­D\u001a\u001bW®®®Nñ®\u0017<CðHü¨ªúÃÿID\u001c¸Á»ÙçÐD ,\u0001Ð\u0004~£Gî äbø£)ÉNM¼\u001fä\u001c\u0014\u000f|]\n'\u0007\u001aÏ\u0010\u00005 üè\rÆÓ^,ïÊ²ü{ÆØ]\u0013'NÔÒL\u001bI(\t\u000e\u0001ÑdA\u0018\u000e\u001dÒ\u0017]iÅÅÅ]±Á|ÇD '\u0002a\tÀk·d.\u0015\u0004¶\u001e\u001bg\u0012Øõ'r£BhXß®Ó\u0001B,h.Âè'´nâ`À°¯Ï;Ø\u0004Àãñ,²X,/L4IË/\u001fK\u0001ÁØ¾};ÂG\u0007RzËõ\u001eK»æ;\u00177\u0002a\tÀ\u001bK39eLÛ¹\u0019¡\u0000\u001dÑÀ¹·AÕ\u0004z\u0006\u0011®Ãº&±3À Pj¡$#FÂÁ$\u0000\u001e']\u0010&ú8ýã)5\u000f\"À\u0018;VXX8>¶ÌwM\u0004@\u0004à%#ï±ZÈïúÓ¸çÓfUsáU¬v\"øÿ\u0019â¼7.\u0003êÅüLF¬¡ÔÂà7<íçäPó\u0019! ¢¨\u0015_~¾ÞaðÕX«Ñ²²²Q\u0016å\u0019$d\r»ôÒKÏÊß\u0016kÃH!µk×.´5_¤ó2\u0002Ò5k¬v»}:cì2ÆØHUU;\u0014EÙ¡ªjµÍfãííí-wÞyg}¬\u0018ï\u0019G /\u0002@ß\\õ\u0016aô\u001a\bû\nF\nÆ[4X\u0013§òþÆ3²cøÄ@Ëµß\u0015R?,¥Éµ{\bU¦{xÈUBÕv-À\u0015\u0004\u0001E¢-°\u0004<ØôOç UU®¾aCÃ_¢mÇh}Ï÷#BÈO-\u0016\u000b\u0019;v,IKKÓò¼%ªìÜ¹\u0013¹äþ\"âÕjs Ú)))\u0019c³Ù*222®\u001a9r¤%Ç^Ëu×ÖÖÖ*\bÒÖÖVßÙÙù·Ó§O£¨¨¨i Æv1öÓënðobvæ~BÙøá6B&¦\u000b\túã4ßÛ h~8e¤áêëë-#V¤¥¥m$\\cio\u0012\bå*'=ùÐ;Ãö¿®\u0011ÜØ¬\f57a?'\u0007Ô3ÆJ*ß{ýºüþøà>ï'ªª\u0016çääh, \u0010Hx7È\u0003\u000f¡ Ãá\u001a&|4Æ\u001b,..fyyyïL8ñªÑ£GÅ\u0011é*QÈ: ø<qâ\u00049räÈÑÖÖÖËcM{e|d\u0017oÍ^\u0017Ðú¥dX&Ëj\"²Iiáã÷E\u0003\u001d:\u000bpB>kV´0^(§sæ·\u001dÍHÛ°aC÷±Ì*n·»ÍçóÝeßêù]ÚÑ\u000f3W\u0000AGÄZjN3â\u000f(ß¼icÃêXÛêí=YPJÇÆGbHÜÙ#\u0015='\u0011­Þ\u0016rÊ}òÉ'¤½½}ì\u0015+NDêc¨<eyõ1cîE\u0006ÝHó\u0005.È~{èÐ¡\u0003·Þzë¡2D£´´ôJÆØm\u0016%3\u0010\bÔ!;\u0010ç¼µ¶¶öõTõöJ\u0000þøõÔädûN<\u001eã©Û\u0013(¼­°Ëo=\u0013ã\u000f¥#sRÿù{ïq¹\\Ïô±¡¾²ïÍÇÒöl²àéÃ\u0019I¶Ä~èá:óI¢,W×ï>5yÙn\u0010Zqq±%??ß?bÄ\b2eÊ\u000b\u001có\u0005û»ÿ~«\u0002NDü\u001f\u001b\u0003ÿöL&\u0019.\u0007èêêäv»\u000f'jQöW;²,_#\bÂ&ÆØð9sæ\u0018Î\u000b\f\u000e\u001c8\u00005è÷Nç/úk|\u0003Ýnyyyñ¸qã~\u0002[\u0010|kpÍÍÍÚ0ÀÝÕÔÔ<àv»5\u0010ã:g7mYö\u0005«Õö®~2í¶ÆèÜS\u001b;\u0011À³¡¦®3þùÚæ\u001f«6_¾üÇ\u0015EºsÎ9²?Ç³0ùÄ®\u0017F|øf\u0014/7¾·ªäT\u0007\\¹ß\u001fàóoÚX¿;\u0011@{½ÞG(¥??¾á\u0005~òäI°¹\u001d1XüÒOE,Ï}îs}\u000e\u000bùá+++IWW×\u0015n·{k\"Æß_m}733ó¿'L@RSSÏ\u0011bõÅ\ràYGG\u0007ÙñÿÛ»\u0016à¦®3}Î½lÉo\u000b\u001b­\u0013Áoc\u0007B\u0012JvmàaC\u0018X$Yn\u0012Ò¥M²ìn&éL¶¥;móètºKlÓÉ`Ë1qRBKx$M2Û6/\u001cpØ8Æ\u0001`\u001cümÉî=;ßµ®W\u0018?ÄäÚAgÁà{þóÿÞóÿý74\u001c¶Z­+#ãtÂµÙlw]wÝuoáð·oì\u0019ßEkkëý\u0015\u0015\u0015¯D\u001a·Ë\u0018ÀöL\u0012{û2½\u000bW$\u000eoºt2\u001b\rUyàã\u001f;¹«.\u000e\u0015¬~Òl6¿ì÷D\u001b^°sçÎx½^!íõG\u0012\u0000C\u001fK!Ä@$,tªsD\nðù|÷­¬ëÝ\u001d\u000e\"×ÔÔt%''§.\\¸0¨Û\u001f/º¾¾\u001eKï2L!Adee¥ñ<ÿ\u0003ÆØo¹å\tÑÂ\\¿!pÈd2Å\u0003ÿHÀ¨¬¬,HIIù,7W#»bàw:D§ÓJ?ã\u001d£G\u001eíêêúöÖ­[gmA\u001d;vÄ¤§§ÿozzú­8ü\rÐåÔ©S®uëÖIy\"\u001c£\fÀVJ\u0012ç&è¿äèH×\u001eôß]iÈ/âïázo|F\u0018\u0019º~Ç5ÿ[{}sr~m±X¤¯ªáp8ÞOúÓå1K¥Áa\u0007P¼Öç=\u0002ñà(yµÇ<\u0015\u000eÁü¾¦¦\u0015\u0014\u0014\u0004eí\u000eßØØÛ°Ël6Ï\to·Û\u001fg=wóÍ7öh}0\u0010Jéý&)â7E04\u0018ûLMMÍñÅññRòèeCÖñZT*UF£IÕét\u000b³²²®p9Õ××·:Î¥³Ù#P[[ÛV\\\\</Pµ\u0003\r íi4\u001aéÒ\b´\u0019!$¼±±1!ÒÉa£\fàQÿ\u0002ÇÑ\u001fâæ\u001bGIº6´¨¿n7#\u0017\u0006E)Ð ¿ð^WNÉ6¯×ûÎÀÀÀ«ÙÍf3k;NV'ôÒHú±vD\n\b%\"ñ\\¿H\u0006¼øDñÓ{»\u0017+ù¸\u0003ç8\u001c!Q\u0014µ\u001dZ¼lXî\u0007\u0006\u0006 ºãÿÑét®\u001a\u001bÑ÷òË/ÇÆÆÆº\tr\u0006&\u001awúôiÀû\u001fÉô`¨{Äü½{÷²\u001bo¼qÜhhH²8Î\u0005N§³=>>>}Î9åççÇ\u0002:::H[[ÛÃååå/D\u0002ÏHÃ¬ªªº?//oWRRÒeKAkhh8¤ÓéôZ­vq^^Zf\u0002íííäüùó·\u0010Iü$\u0006°ÿ|.¦\u0011?K!¿I¡'ûwÎÑqï·Ìfsà@ÄpbÿCÿ®æ\u0011{]¦Âx\u0000yý¯\u0006D©¡\bú\u000f®ØÓ\u0015RÃáxRºyÉ%ÞØx±|ò\t©\u0011\u0004á\u0019«Õ~ðã~Á\u0000WâdÖò\u000b\u0017.öööV³Ù¥¶c4\u001aùuëÖ½a0\u0018VC÷\u000fÜ\u0003\fmmm¾ã¢(>(ÓáÅ\u0017_Ôéõú\u000fÆâ\u0005ÙÔÔô'£Ñ8ëâ\u001e°ªªª·/_~§|¸AîînÐáØ¦Mâ×_½­¨¨hü\f$cÇ½·qãÆ;\"õ\u0000Wb\u00007èÿÌóTêÝ·0{2¤R\\~1Û«M#]%O½d±X¾¯\u0014&¤\u0000]{CuÒQ\f\bS\u0013² \t\u0016se\u0010e\u0006ÙwíéT¼ÙªªªÅ*êxVV\u0016\u0019ËÝÇb\u0006QïÄ\u0013øµÛ·owO¹Ýn1ö#XÌ'\u000b êììÄG4ãâ\u0001ªªªÖfddì\u001b{ø±g¸öZ[[_1L\u000fÍ\u0001³ÙlÏÍ;÷ñÌÌÌËÄadC655ùÊÊÊ&\u0016}\n\u0011UYY¹mÑ¢EO\u0007ªAHî:sæÌCV«õ¿e\u0004ªªª~^\\\\ü¤V«þ\u000b\u0012Þ3gKKKÃ\u0017A6Îné~cÊ|-Çs ¦$3S|°dâô20_Iü/*ë\u001bÈ¼}µÕjýRjãF)++\u001bÔÿþG1¼Ï\u0015²- \\\fÀápü\\£Ñ<¹xñâIÃ|ý/\u0013\u001f¿øÚk¯i\u0002c\u001eÆ£Íf»ã¸Cùùùå|¢qéÒ%x\u0011\u0004É¤RJÛHÌ«­­ýC^^)r\u0018#\u0000\u0000\rõIDATÞê±Ì\u000b7_kk+éìì,¬¨¨$ÎÀa³Ù¶éõú§srr.£'\u0018@cc£{ýúõ#§c\u0016}ûö}^XX\u001d¨ß<yrpýúõ\u0019F*++ZTTôcù}û¿\u0019WiiiD\rô­õI+¨J}\u0004µÜ\u0014Ä(tùÉïD\u0010\u0019ù¬{ÄøÇ85é¾ë©ú\u000f><±I{¸ñø¸\u000eýá¦¨Ü=î\u0011ÇÔXÅ\u001779? ¾aFDÆúJj»~Ov»ýôôôoá¦l@Ü;wî\u001cDáGL&ÓÁG555Þ´´4\u0015\u0002&\u000b&¡¨£££Ùd2å)ÝC$æÕÕÕ¹\n\n\nbå0_¬\u0001\u00164¸xñâ;ååå£dåõwïÞ­OLL<[XXxÅ\u0010FÓÓ§O¿k4\u001a¿\u001b\t|#\tóàÁ,Ð3\u0004¯GKKËIÇ\u00037ß¨\u000b÷Í7ßd$eu\tôª¯¯kÓ¦MTç`÷D\u000f\u001bÅsªG\u0011a\u0012:,¹ÖP×íwý\rf,õ\fÜzßf³Ùl\u000b\u0016¡±Ï!z,¾ñ÷\u000fÅ5\u001f\u000e²J\u001e\nÒ¿\u0004^NBòâñ{»oRÃá`8üiii\u0013þ\n\u001d!\u0004;wZ,ÉÖ³Ûí\t!%H\u001ec1Æ{\u001e¿'Áår½°iÓ¦î!\u0012óêêê\u0002.\u0001\u0000_|ü0n\r\f\ftz<eû÷ïo[µjÎív³ÄÄÄÜyóæÕ#w\"p`ß v¿ÅbÞÉh¸ÿþsùùùó\u0003\u00199èÒÜÜ\fIè?ãââV\bàÒëõ·\"B\u0012C6\u0018wuu\u0015Íæ°Ä©L#=¼1õ=r¾Ð«\u000eA$¤Í)AïH§ÞáÄùB÷w\u001eý×òòòç'óõO¶Íf+TùÜÇæ\u001cØ¦\u0001LÔ!ÌN\u000eÝ\rØÜ3R$TdÂó%µ=[î\u0019\f@.ð1\u0011\f¼xèþàìþ\n?ß³X,\u0013<O\u001d\u000eÓ`0ÄM\u0014(\"ÏM¡¡¡\u00010M\u0016¥Fé\u001e\"1¯®®îÃÜÜÜepo=Ìø¸\u0011õÖÔÔt1v\\«Õ\u0016¨Õjêt:}óçÏÏE\bµ<dWaKKËQ§Óù-[¶\fE\u0002ßHÂÜ½{÷/,YòØx¶\u001cx\u0001dÛ\u0000¾ÀÛÿÄ\u0013­eee\u00117îÒ·ÿat¢×õ\tÊ~0\u001fVuèÖ\u0018>M\u0002é¾óÉ\u000eªMxÐëõ6Y­Ö\u0016%Dv8\u001c5\t\u001f¼´Q{±\u0002IXÿá¥\be\u0000ÎÉNARQ¼>ïUu}uJáÙíö/322®\u001f{k\u0007\u000f\"\u001dDv$¹¢øÙl¾\u0017ÏíÚµk^ll¬\u0014{qñâÅÖ\fgaa!\u001f\u0013\u00133!ZÃïñx®#PºpÎ«®®þ·ÌÌÌgP\u0003a¢ì?ìC6Ê~ð@©\u0007??\\¸páòòògÂãtÂÚ³gÏ§ÙÙÙÅØ+ì\u0019S\rÐâã?¶Y­VëTÏúûQ\u0006v^¨é¯t\u0004&Ú\bª\u0018\"ÆÍeÃÂá¡ã\u0002å÷´´´ìØ¾}ûÔÙ1\u0001\bÔTíªO=ò³¥üp?Ñ@E\t1\b\b¾­_ ½\u001eB(#.à-úûº¾V¥{¶Ûí{7@w\u000bvÀÿ0^Ä\u0001p\u001c÷mQ\u00145®\u001f\u001c\nXÁQ9h\"\u0017 üÿãõzs2×`ñUò\u001c ¨TªÙÙÙóðÑgÇ\b&\t\n´À^{zzÊ­Vkµ\u0012\\fÊÊÊÊ­qqqÛS&síB=À÷ÑÛÛ;¯¼¼ü|¤ñ\u000f\u001b\u0003@ºmS²ý\u0002ïh\u0018\u0017ûÿö!gnAÏçûÕj=\u001dÌ¦\u0010\u0006\u0016#6¤¾ýDô\u0012\u0003:\u000eéBóPøDBz\u0004\t?FØÙ\u0015{º\u0016\u0004ËDÏÔÔÔ<N\by\u000ea»ÁpvÀÁï×ÿ¤\u000eû¬+ÃG\u000e=\u00192ý\u001fñ\u0004gM&Ó¶Pðä\\H6qqqM\u0006Ax`2#Çâ\u00035\u0007YF£14±/\u001b½\nØ6íz­VÛ(ÒÌÁÁAé\u000f$>¼ÿ¯¾úÊåv»ï°X,\u001f]\u0005hÅ2\u0000ý¢·Ò7\u0004½\u001aÉ?P\u0007ð\u0007Yòse,%ý·ÞwÈívÿ\u0007\u001eøR^\u0007.¾µk×*~>\u001d8pà\u0012\\eµ¿ùe«þg\u0017Àßø\u0004]\bâ?ðû\u0003`mÛ³¦t_ÿ\u0001¥ûÅ<x(\u0012\u0013\u0013=ÉÉÉ\u0004Þ`\u0007n6|Ürö_°óäçP\u00161ö¨ÉdúõÕÎÎçßý\fÏóë\u0016,X5T3\u0016/0À³gÏÂPöÙlÌ¸é &ÿ¡Ñh£F­Ûí~W\u0014Åwx¿1v®¢¢\"¤oòj÷@\u000f\u0019õGU\u001c½\u0019v ccÀ`\u0003\u0007µàÒ\u0010\"îFÆàüÛÈÀM¦ÝÍÍÍÿxÃ\r7äÅÆÆ>OÝý\u000b9W_¼\nnfFxÎ%Äê\u0007yw¦þ?SCX¤\u001fiB¢t¸¼´ô¸'\u0005Õß½·K±k2\u0010êêê2ãêPðS¯:£G|\u0001¢x»ÙlXU£pn¢ºº:çùÓÙÙÙicU\u0002¹ò±,!àß¸\t\u0011&<88XÙÜÜD©ðWU\tç\u0006g1,zdÞÆñÔ¢á\tÉIVî\u0005\u0006¨É¶O$²òï,XK\\y%¨/|Z\u0014ÿÙï4¼ÛI¨?Äw\u0014\u0006å\bãÕ¨GB8Ï \u0014\u0004\t\u0000LJûoX`ä¿,¸tû{=ËJ_ëÿ8\\ïÍn·ÿRº\u0005{Á\u0010T6 Òµ\u001e\u000b÷____Ú-[:ÂîyÈ\f¤V\u001b\fP3\u0001R\u0010taäF´··\u0019\u001f\u001f\u001fÏó| \bîþþ~Ô8Øa6_n<¯µõè!cÒf\u0015§\nr ­w(·ìxÄÃ¥íöã\u000fïpÊ\r$¦çÜèã8àcKC/|H\u0000Y\n\u0019\u0000T\u0012\u001cþÑ\"$>ß¿¬©ëý¯p¿h»Ý¾ã¸§À\u0003i\u0000\u0011]\u0015õPº¾?\u0003ð\u000bÉ\u0014¼Î¡t±0ÏC¼¿N§[¢R©Öp\u001c§\u0017EÑ)\bÂAÇ@\t\u0004\u000ei)¥^ËÕ1\u001b]~a&×´C Ð\u0012òG\t¥|8\fm\u00131K.\\\u001cdW\u0016å\t£\u001d)=.\u000f\u0018\u0012{Ý\"q\"¦\u0010\u0012Ã\u0013²ä\nHÒ?,sþîÀ¢OømI]Ï\u0016\u0005`âÏäk .ôz½*dÂ«\u0018(DcdÅÁØÔÔ¤ÅA½èCSPÖÞF´©óôíÒ$\u001c0äÛ[\n\u0000\u000eÊ¼\b\u0014Âb#\bçEâÑxI=RÁ\u000e\u0010ï(\u0003¦äðc]Ìoö÷\u001eðìþÒ½]Ó\u0012Mæp8>ä8n\u0019Rõ\u0010Lô®äh8DÄ¢øÙlµ>ñèY\u0014ÎÕÁ)Oª)/µËJ×¸Û\"5`\u0013À¢ÒÁÔ\"\u0001p\u0003\u0019À°OÜ¼º®{×4,+-\"!ø\u001beÂ&\u001b8àð\bQ\u0004úeØ©S§$7×ë½×jµ¾1]øG×ùæS ° È9£óñ\u001f¹)¡UßIdë\u001b\u0016I_\u0005ðú¼%«êúÞ.üüY¨ø²WW\u0018\b\u0011\u000e`\u0017\u001c~Ø\u000f\u0002í\u0006ø?XÄ\u0019c\u001d^¯wQ´Cðt½¹kgQ\u0006p`]biLFòABüÎOá\b\u001ffñ|ÿþRà1ÒíºqÍ¾Á\u0013Ó½%»Ýþ=ã^Áí\u001eXå\u0007·:â\u0001(¥3Æ\u001e`¡ex9!DE)EïN¯×û~EEÅÉéÆ9ºÞµAËNøá\rú*>À\u0011Ã[Røû\u0001N7YªÄ\u0018¡\u0014ÿ\b\u0007ÞÕÕÕhµ1&éX¢(~íõzßMµýÃA(C@\u0006 EÈ\u001e1¦þã¸Û ¼¢\b'ÚqÅL`¨9Û\u0018\u001f\u0013\u0018\u0011Á\u0000à\u0002\u0014\u0004ñðÝ¯v#JKÏtºGñ=\u0014\u0018WÆ?hL=®æ¸Ñb\u0019q¤ÄFÎ0\u0018\trac½\u001eF¾tT&\u001av\r-]ýÆÐ±H¬\u0015\u0019¥Àl¥ÀJþ\u0011cÊ\u000b\u001cÇÿ\u0010\u001b4\u0010¯\"\u0012\u0013@ÎÔ_oLðÎL#\u0000pnì\u0012$ÜE|ÑÚÚ·¥xg\u001aQ|¢\u0014økR`R+ßëâîÒh´¿#iÂÒÇ\u0010\u001833SÍHûE \u0011 ;î~µûÿ®\u001d¥ÀL¤Àç÷\u000f«ã\f\u001aúaÊñOæpûwV]éñç\u0007K<\u00041u¹Fz\u0012H/âÙ\u0015{ºCJû\rvíèsQ\nÌ6\nLÉ\u0000\u00027tp}Ò\u000fÔ*õc\fB\u0016ÆµE©\u001cá#\u0011:¨^FZýYp »\u0007\u0006ò×\u001c\u0018nV\b.:-Jo4\u0005®\u0001È8´!å\u0017*\u0002ÿF¥\u0010ÂàA8ü(ø)·\u000eóùÄ-+ëº\u001b\u000eøQ\u0018Q\n|\u0013) \u0001\u0010G©\u001fq\u001cw+l\u0002`\u0002¨% \t±¤¸\u0012\u0002c\u0003H\u001eB±\u000ft \u001eíE(°+^ízD\tÌè(\u0005®\u0015\n(f\u0000ûÖ8­¾\u0012\u0001báì£©\u000fÍ& \u0005\u001f\u0006éaô}7#\u001dÿî\u000b\\B-öy­¼üè>£\u0014PÌ\u0000@ºý÷$ÌÑÆªß¦\u001c'u40WKÞÞ\u001bl\u0017ßÌ?&U\u000fê\u0019f$^MHJMJÔÜÛ1p ¡\bÝÑ{Ð#Ñ[_\u0014YÈ<W¾êTÜ(úID)p-Q $\u0006\u0000B½x3Q/X¨ßÏsô²(;},%\u0013D\u0017_Ä\u0013|í\u0012I§+´Ü@ÁÇvÞ]\u0017\u0015ù¯¥7º×Ð)\u00102\u0003Q8bL1\u0013JÂQ.W\u0006\u0000<V\u0005\u001b\u0001TÑ!Õå#Ä#2©\u0010¾ükA$_SÊ\u0018GéÜ©¶'ì=ÂØ»(¼±êµ>©TntD)\u0010¥@ð\u0014\b\u001b\u0003<´!y;ÏñÿD)M\r\u0016\rÆÀ\bûJð[W½Þ»\u000fóÞ\\\u001bÇ«ãÖ\u001c]B\u0019ºÂ2J(ÇXHØÁs_ô\u001eÙROf]§`i\u0012}.Jé @Ø\u0019\u0000®½Ä§ès(¥\u001b\u0004J¿«â¸ÛÆnBHù÷ \u001cðrìÏköö6m\u0017=\u001d\u0004®\u0011¥ÀµL0k Ñ½G)0(ð:\u001e \u0000\u0000\u0000\u0000IEND®B`"}},"snd":{"constructor":"Sound","arguments":["/projects/flappy-bnn/source/effect/Explosion.snd"],"blob":{"buffer":{"ogg":"data:application/ogg;base64,OggS\u0000\u0002\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u00008\u001co\u0000\u0000\u0000\u0000(Ò;\u0001\u001e\u0001vorbis\u0000\u0000\u0000\u0000\u0001D¬\u0000\u0000\u0000\u0000\u0000\u0000»\u0000\u0000\u0000\u0000\u0000\u0000¸\u0001OggS\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u00008\u001co\u0001\u0000\u0000\u0000\u000e»ñú\u000f=ÿÿÿÿÿÿÿÿÿÿÿÿÿ2\u0003vorbis-\u0000\u0000\u0000Xiph.Org libVorbis I 20101101 (Schaufenugget)\u0000\u0000\u0000\u0000\u0001\u0005vorbis\u001fBCV\u0001\u0000\u0000\u0001\u0000\u0018cT)FRÒJ\u0019s1FbJ¥\u0016BHs\u0014S©9×k¬¹µ \u0010\u001aSP)\u0005RRi\u0019c)\u0005R\u0010KI%t\u0012:'c\u0010[IÁÖkA¶\u001c\rRL)ÄRB\b\u0019S)ÅRJB\u0007%t\u000e:æ\u001cSJ(A¸s«µc©tJç$dLBH)J\u0007¥SNBH5ÖR)\u001dsRRjAè \u0010B¶ \rÐU\u0000\u0000\u0001\u0000À@\u0010\u001a²\n\u0000P\u0000\u0000\u0010¡\u0018\u0002¬\u0002\u00002\u0000\u0000\u0004 (â(#9cI\u0016\u0010\u001a²\n\u0000\u0000\u0002\u0000\u0010\u0000\u0000Àp\u0014I\u0014É±$KÒ,KÓDQU}Õ6UUöu]×u]×u 4d\u0015\u0000\u0000\u0001\u0000@H§¥\u001a Â\fd\u0018\b\rY\u0005\u0000 \u0000\u0000\u0000F(Â\u0010\u0003BCV\u0001\u0000\u0000\u0001\u0000\u0000b(9&´æ|sf9h*Åætp\"ÕæIn*ææsÎ9'sÆ8çsrf1h&´æs\u0012f)h&´æsÄæAkª´æsÆ9§qF\u0018çs´æAj6Öæs\u0016´¦9j.Åæs\"åæIm.ÕæsÎ9çsÎ9çsª\u0017§spN8çs¢öæZnB\u0017çs>\u0019§{sB8çsÎ9çsÎ9çsÐU\u0000\u0000\u0010\u0000\u0000A\u00186q§ H£\u0018EiÈ¤\u0007Ý£Ã$h\fr\n©G££Rê TÆI) 4d\u0015\u0000\u0000\b\u0000\u0000!\u0014RH!\u0014RH!\u0014R!\u0018bÈ)§\n*©¤¢2Ê,³Ì2Ë,³Ì2ë°³Î:ì0Ä\u0010C\f­´\u0012KMµÕXc­¹çk\u000eÒZi­µÖJ)¥RJ)\b\rY\u0005\u0000\u0000\u0000\u0010\b\u0019dAF!\u0014R!¦rÊ)¨ \u0002BCV\u0001\u0000\u0000\u0000\u0002\u0000\u0000\u0000<ÉsDGtDGtDGtDGtDÇs<GDIDI´LËÔLO\u0015UÕ][ÖeÝöma\u0017vÝ÷uß÷uã×aYeYeYeYeYeYÐU\u0000\u0000\b\u0000\u0000\u0010B\b!\u0014RH!¥\u0018cÌ1ç PB 4d\u0015\u0000\u0000\b\u0000 \u0000\u0000\u0000ÀQ\u001cÅq$Gr$É,I4K³<ÍÓ<MôDQ\u0014MÓTEWtEÝ´EÙM×tMÙtUYµ]Y¶mÙÖm_mß÷}ß÷}ß÷}ß÷}ß÷u\u001d\b\rY\u0005\u0000H\u0000\u0000èH¤H¤Hã8$\u0001¡!«\u0000\u0000\u0019\u0000\u0000\u0001\u0000(£8ãH$I¤IåY¢fj¦gzª¨\u0002¡!«\u0000\u0000@\u0000\u0000\u0001\u0000\u0000\u0000\u0000\u0000(â)¦â)¢â9¢#J¢eZ¢¦j®(²ëº®ëº®ëº®ëº®ëº®ëº®ëº®ëº®ëº®ëº®ëº®ëº.\u0010\u001a²\n\u0000\u0000\u0000Ð\u001cÉ\u001cI\u0014I\u001cÉ\u0001BCV\u0001\u00002\u0000\u0000\u0002\u0000p\fÇ\u0014É±,KÓ<ÍÓ<MôDOôLO\u0015]Ñ\u0005BCV\u0001\u0000\u0000\u0000\u0002\u0000\u0000\u0000\u0000\u00000$ÃR,Gs4ITKµTMµTK\u0015UOUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUU5MÓ4M 4d%\u0000\u0000\u0004\u0000ÀbÁå !%%åÞ\u0010Â\u00101&!µ^!\u0004Þ1\u0006\u00152¢\frÞBã\u0010\u001e\b\rY\u0011\u0000D\u0001\u0000\u0000Æ Ç\u0010sÈ9G©\u00129ç¨t\u001aç\u001c¥Rg)ÅbÍ(ØR¬sRG­£b,-vR©Æ\u0002\u0000\u0000\u0002\u001c\u0000\u0000\u0002,BCV\u0004\u0000Q\u0000\u00001H)¤\u0014b9§C)çs1æ\u001cs9ç tR*çtNJÄ\u0018s9§sR:'sNJ'¡\u0000\u0000\u0000\u0007\u0000\u0000\u000b¡Ð\u0015\u0001@\u0000A<Oò4Q4O\u0014ESt]Q4]×ò<ÕôLSU=ÑTUSUmÙTUY<Ï4=ÓTUÏ4UÕTUY6UUEUÕmÓuuÛtUÝmÛ÷][\u0016vQUmÝT]Û7U×ö]Ùö}YÖucò<UõLÓu=ÓteÕum[u]]÷LSM×eÓumÛe]weÙ÷5Ót]ÓUeÙt]ÙveW·]Yö}Óuße_WeY\u0018v]÷[×åt]ÝWeW7VYö}[×áÖua<OU=Ót]Ï4]Wu]_W]×Ö5ÓeÓumÙT]YveÙ÷]WÖuÏ4eÙt]Û6]W]Yö}WuÝt]_WeYøUWöuY×áÖmá7]×÷UYöWuáÖua¹u]\u0018>Uõ}Sváteß×ßYn]8Ñu}amáXeY9~áXÝ÷et]_XmÙ\u0018VY\u0016_øåö}ãxu]\u0019nÝçÌºï\fÇï¤ûÊÓÕmc}ÝYf_wá\u0018:¿ðã©ª¯®+\f§,\u000b¿íëÆ³û¾²®ëûª,\u000b¿*ÛÂ±ë¾óü¾°,£ìúÂjËÂ°Ú¶1Ü¾n,¿p\u001cËkëÊ1ë¾Q¶u|_x\nÃótu]yf]ÇöutãG8~Ê\u0000\u0000\u0001\u0007\u0000\u0000\u0013Ê@¡!+\u00028\u0001\u0000$¢dY¢(Y(¦èº¢hº®¤i¦©iiZg¦iª²)®,iiZf§¦h®k¦¬¦)Ë¦jÊ²i²ìº²m»®lÛ¢iÊ²i²l¦,»²«Û®ìêº¤Y¦©yijg¦jÊ²i®«yjzhª(ªªjªª­ªª,[gè©¦'ªjª¦­ª*Ë¦ªÚ²iª¶lªªm»ªìú²mëºiª²mª¦-ªjÛ®ìê²,Ûº/iijgç¦i²lª+[§(ªªæ¦jªª,¦ªÊçª'ªêkª*Ë¦jÚªi¶lªª-¦*Ë®mû¾ëÊ²nªªlªjë¦jÊ²lË¾ïÊªî¦)Ë¦ªÚ²iª²-Û²ïË²¬û¢iÊ²iª²mªª.Ë²m\u001b³lûºh²mª¦-ª*Û²-ûº,ÛºïÊ®o«ª¬ë²-ûºîú®pëº0¼²lûª¬úº+Ûºoë2Ûö}DÓeS5mÛTUYveÙöeÛö}Ñ4m[UU[6MÕ¶eYö}Y¶ma4MÙ6UUÖMÕ´mYma¶eáveÙ·e[öu×u_×}ã×eÝæº²íË²­ûª«ú¶îûÂpë®ð\n\u0000\u0000\u0018p\u0000\u0000\b0¡\f\u0014\u001a²\u0012\u0000\u0002\u0000\u0000a1\bRÎ9\u0007¡QÊ9ç dÎA\b!Ì9\b!9\u0007¡2ç R\b¡Z\u000b!Rk\u0005\u0000\u0000\u00148\u0000\u0000\u0004Ø )±8@¡!+\u0001T\u0000\u0000ãXç¢jÚ²cI'ª©ª¶íHç¢iªªm['¦©ª®ëëç¢iªªëêºh¦©ª®ëºº.¢©ªªëº²®¦ªª®+»²ìë¦ªªªëÊ®,ûÂªº®+Ë²mëÂ°ª®ëÊ²lÛ¶oÜº®ë¾ïûÂ­ëº.üÂ1\fG\u0001\u0000à\t\u000e\u0000@\u00056¬pR4\u0016XhÈJ\u0000 \u0003\u00000\u0006!\u0010B\u0006!RJ!¥\u0012\u0000\u00000à\u0000\u0000\u0010`B\u0019(4dE\u0000\u0010'\u0000\u0000\u0018C)¤RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RH)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ©¤RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥RJ)¥R\n\u0000p\u0000z0¡\f\u0014\u001a²\u0012\u0000H\u0005\u0000\u0000QJ)Æ\u00101æ\u0018cÐI()bÌ9Æ\u001cRå\u001c\u0010Ri-·Ê9\b!¤ÔRmsRZ1æ\u00183ç¤¤\u0014[Í9RR±ækî¤´Vk®5çZZ«5×sÍ¹´\u0016k®9×sË1×sÎ9ç\u0018sÎ9çsÎ\u0005\u0000à48\u0000\u001eØ°:ÂIÑX`¡!+\u0001T\u0000\u0000\u0002\u0019¥\u0018sÎ9è\u0010R9ç\u001c\u0010\"\u0018sÎ9\b!T9ç\u001ct\u0010B¨\u0018sÌ9\b!9ç\u001c\u0010B\b!s\u000e:è \u0010B\u0007\u001d\u0010B\b¡ÎA\b!\u0010J(!\u0010B\b!\u0010:\b!\u0010B\b!\u0010B\b!RJ\b!\u0010B\t¡P\u0000\u0000`\u0003\u0000@\r«#\u0014\u0005\u0016\u001a²\u0012\u0000\u0000\u0002\u0000\u001c RÎAA\rAÊQ3\rBL9ÑbNj3\u0015S9\u0010t\u0012\u0019jAÙ^2\u000b\u0000\u0000 \u0000 À\u0004\u0010\u0018 (øB\b1\u0000\u0000AÌ\u0010\tU°À \f\u001a\u001cæ\u0001À\u0003DD\u0000 H»¸.\u0003\\ÐÅ]\u0007B\bB\u0010X\u001c@\u0001\t88á'Þð\u001b STê \u0000\u0000\u0000\u0000\u0000\f\u0000à\u0001\u0000à \u0000\"\"«°¸ÀÈÐØàèð\b\u0000\u0000\u0000\u0000\u0000\u0016\u0000ø\u0000\u00008>æ*,.02468:<\u0002\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000@\u0000\u0000\u0000OggS\u0000\u00047A\u0000\u0000\u0000\u0000\u0000\u00008\u001co\u0002\u0000\u0000\u00000,Ùa\u001f\u0015\u001f  \u001f\u001f   \u0019 \u001f\u001d\u001f\u001e\u001f#\u001e!\u001f\u001f\u001f\u001a\u001e\u001f\u001f\u001f \u001f!\u001f\u001f \u001c\u0019\u001f  \u001a \u001e\u001f\u001d\u001e\u001e ! \u001f¦\u0019\u001f\" \u001e\u001f\u001e\u001f\u001b\u001f\u001e\u001f\u001d  \u001e\u001f \u001f\u0019\u001c\u001c\u001f\u001e\u001d \u001f\u001e\u001f\u001e\u001f  \u001f\u001f \u001e\u0017\u001a\u001e\u001f\u0001\u0001gÎ¡}\u0010`\u001fÇ\u001fzèa|4\u001aF£Ñhcc¾ùªªÒi\u0011\u0000tõÝ¹ù\u001f\u0000\u0000\u0000f$p¯³f}~Ù2\u0000téà\u0007k\u001aPõÓÈN¿ÏT6§+ó¼ÇÆßcãÛÞ,\\ï¨ó>aMÀýK*MÜ]9v7oÊÅJr±òÒ\u001fcw¥\u0004gaâ~U,°Ïó´AºÆUÇùãããõíôûô79\u0000|éÐÀ\u0007kæ\u0000>\u000bÄÄi²r·r·ò¬½®½®%eJ\u0014\u0005kaâþ\u0001ì3¥Azl|sú?nü}º\u00127þ>SÙ¬g\u001ctëÐà\u0007k&\t<\u001d!\u0005¢°uìn-¹X¹+g¿Xy-Çv\u0012\u0000kááþúÜÀ®q[\u0014yF\u001bUï/ïã£óªÒ/ïMT\u0001tójã¿`9µ^9;\u0015úô6L¾\\´2ßØ<©/¾ø[Ôlë9D\u001e@i\u0000³­­&åXÔ\"P\u000bf%\u0000lkÙÂ\u001fìÇ\u0000¶ØuVï½\u0015Çß¿ÿþe2kÖ¬Y\u0016ß_\u001fiÎ×Úä\u0000Ön3+móûç6ßX[___WÞÞÞ\u0006\u0005kQÒ~\u0004v|G\u0010uÆs¬^e¦³U¯lNW6£n\u0003|iñ\u0007kæ\u0000^íÙD'ßä:ÛûôWßN¿oÖ%K\u0003|g¤Â»Ê\t`íÕ=Vó±\u000b¯8¥8¥8¥8)_Ëdö\tdëpw\u001f\u001cZ\u0013\u0003e\u0011s%þÎT\u0006ï±3]é£ëY\"w\u0005\u0000iaâÝÅ\u0016C\u0002Ñ«xñwe¾¹»\u0017WÆæ¹»xye,õî\u0000|g¤Â»Ê\t`­ê®ÕübìÂ+N)N)N)NÊ×2}\u0002\\ëò~°Ú&°¹ Çóß¿ÿþýû÷ïß¿ÿþýû×%\u0000dñ³?}°fÀó ZÀ¶m{}}}}}}}}}]áííÍ{|éÀ\u0007«\tø×2¨§>êæô\u0017\u001b¿O*ÓÍúä\u0001tñ*ä\u001e¬\u0019\t¼hµ\u0006\u0012aÇäb%)\u001e»+ÇîR.V\u0005|ó¥\u001fÿ\u0001¤é\u0004þÌ×\u0015JÑÅÚ)]Fçv\u001dw\u0000tí(§\u001f¬¶\t\\W-{Ï_Ööo}Ö÷w\u0012÷_=c}:tëÜ\u0007k&\tÜ\u0015øÎ\tum¬^ÙÆÆß7g\u001b¡î.\u0001khò®:¹Àq\u0004m^+Éå|ÉEÑXêÅÊØYi)\u0000lë°'\u001f°\u000e\u0006HËg¶Õ3ïþ¬ÿzÜßõwf\u001dtëÁ\u0007«\u0011ÀóýzçÙ\u001c·ªãªgþgÞ§7Ç­êÎ\u0003dg\u0005\u000fVë\u0002RW78â×µ×å®v1f§\u0014¿®=ËG\u0002deÙà\u000fös\u0001ÝëF)ûh¿oÆÏ³ñ¾\u0019?Oå}\u001f\u001d¯¼(\u0019taXà¾^Ì\töÛüëxeýÿõgÍ¿uÖ¬ó·\u0019\u0001|iØ\u0005kÀ³ÝØnM%Õ«\rãí­×7oY·!\nlë0OXS'ðkC°íÔì·µ;Ï~]»ó_W.Rf\u0007té@à5IàÞ.UË»+ÇîJ·[\u0012³\u0012ÌX@\u0002tçXÐû§\u0001Ò0GLÕý}ú\u000bM\u0012§þ¾Ó\u0004\\aQÒµ\u000bàÓ/¾§ÎêÉïxÜÿôÖõ_ßVÏ|J\u0003tgáÑÝ\u0004L\u001cY#ldÅNY»«\u0015¿­íÆ_Wv)åA\u0001lë0\u0007«m\u0002}RÚG[W½\u001c§ò~?½ñ¾9=^µÙ\u0001tóe»ÿ`8#\u0007ó>m\u0013î.Òcnq»[të0Ó\u000fVk\u0002o£ú¨ÑùßãÇßcãï±ñ÷Øø{É\tiAâlr=Ò2±$&\u0017+ÉÅÊÜÅ»Èî.v¥\u0003iááþ=\u0002ØwÄéÒ½jsº²\u0019?þ\u001e\u001b¯lNW¶±ñl\u0000déÐà\u0007k\u0006 \u0006\u001aärüY&±¢Ê]ÚWü¨©y\u0000Tç\u0007¶æé\u0010T¶]ÜÕÍ*\u000báöZ\u001füÌúÖ5myléÀ\u0007«57%S­ÂÙö5²¾{ëâ7Y?oëúÖù\u0000|gÑÑlr-²Ø\\Çî~çK½X»+Çî.V<Â\u0000lë³U?Ø;@5§WÎ.ºÑÆ|óÍN§ß_Þ4ÑéyÆG£\u0006é$ýÅ\b`Ç'¾.Ýßïç©lNW6££ô>:zßOW6£kááþ6\u0001Ø¹î$Ð§·ãÕqgþgÞ§7Ç­êX\u000e\u0000ú\u001c½S9?@`x_÷¥§ßýtlj,À$\tëßúÌïºûa­5|Ûþ6±ÛÈè>\rÕÙ¨øº\u001añM¤*¯ÃYí\u001a\\,¤'á´<jQm¨ÔÏiNAjCe6r³*¯j<\u0017/¹~X,ò#&ÞôV:-W0\u001ez\u0018=äË\u0003Ñ7ûÞ\by!;À\tj\\R¦®ì\r\u0001Þ\rz#à\u0007\bwMd¶HÝR[$a­?µñU~ÚÓ©:¬|qÓÅ\u0017õ}Î-\u0017øÑ½JÔ9.=yÅ\u000bÛ¶F1åfÎ¨äØÑr\u001fûLnê¾êGº:ÜoäüóÉ5\u001cMWGùHûÊ\u0014º-\u0017ÛuºEM\u001eb¶FSÄ¬I¡<\u0011\u0017r Ûhr`®$¯>}\u001aßOSKvMßèÚÞØ\u0004 ð9\u001ec²\u001ccäÔ#åH%á1É\t5~ðu{®ó<öÃlô-îyÏq\u000f6(ì«z¡ìÓ\tO:q¯Û×Ë­÷êÝz¯·Ûçí6å¹|KyÛ¦$oÛäuë½rdÈk¦ÖÖr©wñ2ÜÅkõõâµúz¹ÞÅåÚª®³®%­f±Î\u00005Á\u000bGHN\n)ç2%y7÷*)ÉëÖ{Ç{åHr\u0004w\u0004lí Ú\u0007¡K\u0000½nh%e'*Ó9æ¶aJ^³:Lé°õnÂ:&®]e!ÖT¤ïí9­Úh}tt\u0000gaàÝ@ICjÑ«xñ7=ßÜÝÅïÊØÜÝEÑÊX\u001a\u0000|i£Ù¨\u001d ¾®Îê½à¯ÿ¿È½¥\b]ü­îY³äÿo%\u0001iNç¦6\tØçÈõ|ßxëõuûõí­××íçí.V\u0000iaâ~>\tìý\u001c[ÓPóT6§+ÓÍéÊætesÚm\u0003dé0à\u0007kfÀgaÓÂN.Väb^÷bzîÅì\u001elíÜº\u000fVK\u0000ßZ\u00064I°ï¼â×å\"eíµv²vW+n\u0000lñ*Í0Í\u001cÀZ¿\u001c³\u0013ãï\u0013·%úgÆß\u0003|ið\u0007«\u0002ü1­NÄ«gfmÿú3³Î_&îû«K\u0003da\nâýÅ\\`K<ï­ò7ÕÊfeÕ\u000eZqáôÀ+|gÎ¯\u0007k\u0017ÀÅS)W«¯\u000f¬·7om}ý¼½yËú:j\u0001ló¥ÿ`9W\n¤l\u0011g4r9-g¿F£\u0000lëÐÑ\u000fÖÌ\u0001¼ß?(fõþÝõ_û;±ªgÞÇãþ'Ñ\u0016TcYÅ\u001fì\u001apéÈé³5¦¬í¼õ§Vü¶Ø)kwÞúÓ\u001a\u0000|cÎá»2\u0001ëït\rR\u001dWmùãããÛé÷é÷ý\u0005léÉ\u0007«ÀË\rÎ³\u0017Õq¾å[þæøæ</ÏóòôûZ|gáá]\u0001j\u001fCÛÂÖdånåY{]{]{]KÊâ\u0014ã\u0019\u0000dëÐ\u0007k¦3¥²ÈÎÇñ÷é÷ÿXuÜøæøûôûd\u0002dëÜg\u001f\f[\u0000OJömg\u0015z3|.&Ú'Ò\u0004lí¸\u0007«%Â\u0005ê\u00031IâW)ñZCÛ¯R|L\u0000lí\u000b\u001b\u000fV\u001b@ãr¯Üsq¿ßß\u0010FU9ûýÞ\u0017lë0\u0007kf@øÖBç=¹zÆú;\u001d÷ïÏÚþû[%;dë¼Ñ\u000fV\u000bàñ®5q¶ý¤¬ëÛRüê­ß¥¬]¼u\u0001lñû´ñ`j\u0004ð½©\u0012\"à¢ÞÊþ¬n·vtÞ\u0006dë\u000fXm\u0001¢¼¬ÊBßôXêû±Ô\u0017WÆR/Êh\u001d|gèñþ?\u001dÀ:tÎPQÆ«^ÍSy¿\u001e½ï£ãéÍ¾\u001ete1â¾X\u0003Öy\u0010B\b³fÍ5+ü÷ïß¿ÿþU,ç^ûiÀ&~£µÖnÍÚÚÚúúúú°­Ïsûvyé9lñê´ÿÁ´\u000bà0}´Îûïo}Öö¯?ËúëÏÄýû\rTëðv?`\u001d,\u001daTÊxÆ·Óï³ýÇ*Öøæøûô7Q\u0000léÐ\u0007«\u0005pæV¹UØ1YKS.Æ.VîV^×R½ø\u0005teèñu\u0003V/\u0014¤}´ÅxÕË±y*ï÷Ó\u001bïûèxz³¯\u0007\\é|²\u000fÖ4à)¯¸.Ê±äÅr>ww±2vw\u001b\u0000\\ã àÕ\u0004|òB.ûuÖÿ´U=ó[gÞÇãþN¤\t\\a\u0019\u000fv\u000bàÑùÙ$Øw^ñër²þZ»HY»«\u0015'\u000b\u0002lahò~T$°\u0011Ë5=ß(õîâ7=ß(5zaÒ+Ç\u0012\\[\u0000ð~º\u0019\u0010AÎ7J¿®låÔM\u0002DÛ@ð\u0003¨q\u0000k¯$½´óâ²Õ.UÂAÔä%\u0000L]±ÙþÒ z1{ïý¯ß³.­¨ïïß¿\u0015f\u0002\\[í±~ÒH`ÝrTê\u001fÿ¹nóµõõõu=oooo\u0000ºÉ½Û\u0015-\u0000Ó\u0016\u000eK02²\u0000z8þÕW_}õÕW/\u001fro.yýõ×ï^Þ\u0001ÕßÝ»ýn×Þ`ó¼½\tëëëëëëÊÛÛÛÛ\u001b¬­3°l~ÿÏýs;¼y°(<oooo°¶¾¾¾¾\u000e\u0000këëëë\u0017PEMÜ¾½½½y\u0000ÀÛÛÛÛ \u0000À\u0005¬¯¯¯+\u0000ôúúúz\u0015\u0000¸u\u0000\u000e\u000e","mp3":"data:audio/mp3;base64,ÿûpÄ\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000Info\u0000\u0000\u0000\u000f\u0000\u0000\u0000\u0010\u0000\u0000\u0014Ñ\u0000\u0010\u0010\u0010\u0010\u0010\u0010      000000@@@@@@PPPPPPP``````pppppp      °°°°°°ÀÀÀÀÀÀÐÐÐÐÐÐÐààààààððððððÿÿÿÿÿÿ\u0000\u0000\u00009LAME3.99r\u0001Í\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0014`$\u0004B\u0000\u0000`\u0000\u0000\u0014Ñ\nâ\u0014&\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000ÿûpÄ\u0000\u0000\u0007è\u0019hta\u0000\u0003E1¬?4ð\u0000\u0000æ°\u0000BO&L4È\u0010@\u0010\u0004\u0001ð|\u001f\u0007ÁÀ@\u0010\u0004\u0003\u0000ø>~P\u0010\u0004\u0001\u0000À>\u000f¿\u0004/\u0007ß(\b\u0002\u0001Ô\bP!ÿÿîÿôûº@\u0001\u0014\u0015\u0001Ô!AÔ-\r@  P\t¢§0\u000bp1FÌxRÖ·@H7L :x \tK£OS5v`\u0012Óh·¨z¢Tvi£ëK²¢Ä|äBÚ\u0013ê¹tù6¨P«'Õn*öç°Xa>«Ù%Fx¬lñXØ ½aù]}ëv®\u0019â¿WñóZÚÖÍkÓ\u001b¦·ª¿Wñêþ>-jÖ¸µ³ZÛ5Åþ·½Uü|¿÷ËúÚÖÍk[5¯¶íc4ûÖ­ëåýó\u001eù<>'ÿ·ÿÿ\u0003Áð8|\u001f\u0003ÁõÃûÿ¾¿¾¾þ¾\tèYr##E«m\u001cÿûrÄ\t\u0011Èõu9\nd\u001f0?4À\u0003x\u001c»O\u001a¢P(\u001e_\u0014p7q\"p\u0014R\u0006@dh4 ¤\u0011\u0011¼34\u0015q]\n\u0012Å R*)\u0004ÈVÔ*6VeQ~D)4¤d»'·9Ûä´²KIi¹T§³¿;¸ä\"®IT© Q&\u0002\u0000À7Á|BÆ¯\u0007.\u001frý¨l#¡\u001aTQ$ÕeZ¥PPØÍÌÝ\tûy¾O7\tN:\u0019\u001a\u0018llÈ\u0011\u000e\b\\²!¨Æíº¯2ï¦ZñPÈ/\u001c\u0000A\u0004%.\u000b\u0000àp©',^ûvq\u0002\u0002Æ*±ë­(^êóÎ?píç³kg8Úö_³ïBíÐ­\u001b¿|¦uâ~YêûÝ=ïÓé=y¥oÛ\u001c½\u000b2º0\u0002%Ò\f>Y5>º6£Þ8ô',ATuñ2 \u0010\u0015p%c²XòuºN9\u001c®3Ê\u0018ÿûpÄ\b\u0000\u0012E={¹\nA¡í÷4ð\u0000PkQ\u0015µföO~l\u0018\u0007\u000e(ÞÕ¸ª\u0014ë\fn\u0003¹PýT§ÍH\u001b%¡ç\u0007ä4­%-Ó\u001aªEm\u001aÝ5õ¼ügL\u0019lÓ\u00165éOLc_yø y>1Lc^ôÆ½³ñ\u000b\u0013fh\u001eOõ¯Lzc\u0018ÿ\u001aöÏÇð©6fäð¡ÊkØäûqÏÖ­k9H7wí¦÷iu¶[%Ô)Ì&\u0002B6¥0¬£ÊbãÃîÔÊÕ8ð¸¬\u0004LIk\u0016\u0016Søå8a¡&õ\u0014¹T©¬É\u0012g¸Ì\u0016\u0017\u0016æØ¸KøVÌ(ÌPf\u0006.¯¿{ïÚß±A\u000e½ëûf¿5Õu\u000b:B¥>µ¯ÿÍÎ7ë§Õ£ìâ\u0010Hùw® j\u0015PñiâÓßðV\u0012XÅ$fsU-\u000eC3X¬T*!\u0012ºº/ÿûrÄ\b\u0012`·s¹\u00128\u0017.·4ð\u0001\u0003ð\u000e=bÇ\u001f¤m\u0018\u0003\u0001'\u0014\rÇk9×CÕ\u000ed±\u001e-ièðÙï4E\u0006®÷Á¥âD3}\u000fgÝöõßq#°DVD½·__¼zxã³Ç\f\u0006\u0007V_.\b\u0006\n\u0003äZÒD\u001cíàùq\u0000 Q¡Ðh$H\u0015þ|¹\u0000@¡184&$%\u0010³ÿÿÿífý%ÉÑÆìy²pèn³ ¨{6<k7\u0011¦G7}ÊXgÍÖ\u001cd,÷)\u0002Ð9ËùÔ²ÈÈ¯<69ÔÌ37A´óÁcw3ö¸/Åxò\u00049cÄ¼wÅuLÖ¿w¥.ó7y¬Ò\f\u001dV.¡ß±\u001c#\u0003\"ÐJ\u000fúÀ\u0010\b\u0000q\b­%±\u0005_úA\u0005}M¨è^1õ\u0015\u0001\u0014FU[VudEÖÙ,²Y+|­4\u001fÿûpÄ\n\u0013\u0000Õoù\nF%±72\u0003QP-».!Bì©Â{\u0000ÊÅ \n\u0019'\u0007R\u001a=*F¦òÞ¯B\u0013²>f³êÇWÎàÏ\u0016vf\u0015,hï\u00023ï«lÌúø¶Õo\u001a\u0014\u001bBo^Â\n8µmgÒâÙÇÆ5X8\nYp:²â0s`°èb¬\\ª¢8güSJ¡£hõÛ+ïÿÿ¶\u001bn]­ÖÛm¶Ûm·kv´RØ@dNlnF\u0010\u00049:»ËÐãµÊm­5î\u0011\u000eÜ\u0002á±ÀÈªR`m¤!RÇR©Á0BP6#WxIhÞæÚfÿÛ9£*Ë©¯ÿDé1H\u001c¢4\u000e4Â\u0014Q¯_ÿú\fðÎzdÕQ\u001cØmìüßìcMê¢\u00000ØHUPÈ$Wÿÿÿö;Ë8@!ä¬ºÜÝnË\u0018¨F+\u0015ÿûrÄ\u0007\u0012%[w¹\u0002N\"n÷0ð\u0000¯\u00158¸5(\u0002\r­Dj`ºV\u0019Å®\f°>ê\u000b\u000bÐ\u0006Ðõ2I;DÈ8LLÉWaæ?I£xÄÖ*dQ4/\u001a\u0015)h¢þx1)\u0017ÌV¤¤¿¬ÆjjdxÁ%£Z(èÿÒ/,ØùE\u0013Tz[VÿQ©¡É#cc¦É°+\u0016==\u0012¶<:®ßoe¢Ñ|v?\u001a\t$V\u0018iÉ¯Ø´\t\nãR|ía!¹\u001c3/\u001dÅZ²µ\\K5ñµ\fu«ÓñcÑä¬\u0010:µÁý÷»ÀD`n;MÓæ§6è¯olË\u0019æµJGÎ5¼kxÅ!ÀXóÒ\u001eïó­{ÿïü\u00195\u0016;ÌC´mHè½/&°øD\u00160\u000e\nwýÆ®B\u0001õïêö¦Y9Ás\tujÿûpÄ\u0007\u00128Ùm9\u0000\nB¡n·2À\u0001\u000bYÞ³°ÿ}JxWeHÇ!ð°]*\u000b\"áÛg-.)=\u0001Òèkc%§+Q\tM\"PÁÛm.]ÕB­\u0012LO8ã\rÞg«k1t]\n'mÝì¶Ö¶µªìRë¿\u0012Òé\u0000\u0003Û'¿ËFã`i\b}¶D±6Ôr(ÈcÀ!¯ï·ÿ|êþÔ}¯ýÿÿî%¦ÑVôv;\u001dO7R­F\f\u0006\u000bÂA\u000f;É~VRûLVß \u001eP¼ÍÁxp\bÐ \u00008D\u0011Éè<¶|L$'Kzõi2êOÉ&N®ìûK\bÎ9Cn»n«Ý»lÇ×´y\u0003«Ýwé\u0014}6ÜÙµ_£ÎlWþþï§dÌÎLËðRþ¤\u0018\u000032\u0015ÿøãÒj9f\u0018¤Tò¢µHÛ-vË]®GjµÚä\u0002õÿûrÄ\b\u0000\u00121{¹\u0012N\u001b.72ð\u0000\u0006\u0015\b´Öàò÷\u0000õÀ\u0013ÏÒ\u001aµ+t¤òD\n09IRé\"°;Å¸p1«i\u001c\u0005¼KÄ°KÔÉYRÉK¦J³-MS\"]\u001c£È°!uh©$·\u001e\u00061èH\u0012dOé­nIåDó±5\"X¢}¿¯êúGÝ\u0004ÓA5ÿÿÿÖ]2DÔØñ©¹¢\u0006åÃ\u00034\u0003'Zm²¢(\u0016T) Ð\u0000ÎB\u0001d¢$ºÞ«­<`Ér²/·.µh¨f8Ç¤Z% à¬kn2J¸SÇhÍp¥R)×*KM\u001e,¿\u000eX\u0010å÷O¬ë?\u001bÜ9`C\u0004=ß\u0014Æ¯üåxþWåxü=±â@¸&$\u000bd\u0002!p\">\\\u001c\u0007Á0p\u001f\u0004ÁÀñð\"\t9ßéÓï#\u0005W§ygTÚÛ×f3\u001cÿûpÄ\b\u0000\u0012TÑiù§\n1£n72ð\u00023b@Ý¥&«d¨\u0005ísÆ»44Ma$\rê¦]Â.\u0007üêSDò!'Ê©I¥l%s\u0003\u0019â­\u000fÆ¶kUJM\rU0@ñaüZÙ¬\u0018ìþ%±ë\\ZÙ®«\u0006·Ô[c×>ÕÅ­Ö\u0005áÏ\b\u0000\u001eRh¥¨*) «°OlÿÿÅ$\u0015!»³>»ÿÿÿü¢\nH*)\u0002Óh°Ze\u0016D P(\u0010\u0015ÕÑ f\u000bÍ°i;%»V\u0007ò'B\u0000cæïÄW\u0014³Äs¤8/4yýÉð\u0015&\u0004Jgnt÷¢(ë!\u0007\u000ft½wOkhÅ\nåSS\u0019Þé­¯ÛU­oÜ\u0019ó]Ó\u0019ÿÿÿþy­\n\rA¶õÿ×ÏÿÿÿÿÚð(\u000e\u000f owü¡¢¡!(\u001cAK\\VÛ8Ûm´Ò@\r\u0002\u000b\u001bÿûrÄ\n\u0012\f×s¹\u0000\nU/.w0°\u0001e½\r `6í»êÝ» ,\u0001Ö\u0017D\u0010È°$#$R\u001e^hfùÁHñ)Ô´¹|\u000b BÔq?eÓo~%ò½îýWÒ³Zí\\b¯Õþb6)¬×­3gØ¥*ý_PZ2çåé|Y[Y!òÉ&º*kBáÀBQ§\u0019{,ã}4ÛÛ@\r¦Ûm´Ú\rvA¨ÐhP®£ó¨w® 4èI%2Ï\u0017]²¶YÈb\u0006Á4\u001d5ô\u001e\u0006±°>µÖ>\u0010D ï\u001dÄ£æù\n:×7<t@¦M¿ü\\;\u001aLM$Æ¥ÿù=\u0013v\u0017\u000e'gb-ÿù£O¬n¹º¨}È³ºÿÿþ\u000eIÅO¦»-t³¶¶¿ÿÿÿc(ûOï8ä¬<­f\n©\u0012#\n¨a(\u0002\u0010³T\u0010QZ²òÔ;\f!¢TÿûpÄ\n\u0000\u00120áZ\u0019µ\u0002_«®?4Ð\u0000¨³Ù£¦èn\u0002P&\u0011\u0007³Xy\u0003¢0ðPWG&\u0003ù\u0014v\u000e²B\t2oÌÈS1ÜIA3E\u001eûîôEhAô\u0014z\n?ÿàáÓÍ5IT!èCÙ__ú,Mà0dp8*\u0010\u0012|°H*\u0010\u0002\u0019\u0011\u0001Á\u0019ÃÿÀ!Q`¸&\u0005\u0003\u0004Îôÿþ\"\u0012$\u0011\u0006BBà§ürXôÞCfvhevfU}uß@ P\r?PªC\u0001Ó\u0016¯H@$\b\u0015|D[ÞK&K\u0004AÒ \ru\u0019\u0019Äðä²\u0015!ðáÄzÈÃ\u0012¦\nLÀÐÔÙay\u0013\"\bd\u00130gZ\u000eè\u000f\u0012X JujIj¹@¢R(\u0014KIE]]^x¦J\u001e7.\u001a\u001b?ÿô\rË\u0017Ë\u0005òáÃ?ÿÿÌ\u000e\u0019\u001c302:pÈéÃ#µ\u0000D\b\u0003\u0006\u0003\u0000B!\u0010\u0000ÿûrÄ\u0007\u0000\u0011IK[¹µ\u0002\u001c\u001d®÷0ð\u0000\u0019\u001bÊ\u0011Äºµô_ä\u001eglªÛ¸ý3Z8f1,\u0004ÑñÄy¹\f.\u001bÖDëéë\u000f./I°ãè\u001a\u001c\u0010I¤\u0003.³÷ËÓ05@éæíciìe^n}U\u001ecï¶~´\u001c¹·Ke°Ýß¾ú÷Þö1Ù;­×<Ô¶=ÿû;yüà¨\"@wc~ÿú{[t¶lì¹\u001d®\u0004S;{\u000b\u001aô­üGÀ±ª\u0005Óú×â¾\u001a£T¡íªª½º®\u0011XØrÒ\u0013çyÕmíL\u0019Ípò\u000búÇl~Ï\u001e\u00067\\ëß\u0014µ\"Í-¯\u0002ß×ÿLß;ö\u001fSÄß×û_\u001aÆ½3¸·jGÔñ?I\u0002\b\u0013\u0002í\b$\rô2@¢dÀ\r\u000b\b\r$-j \u0005CF3t6\u0013édºy<L|8Ùi@2\u0017}ø|AsD#ÿûpÄ\u0010\u0010@±mù\nº-ë2À\u0001ïÜ¥§¿TàDD m)\f8Ð\u001b\u0011\u0010Ú\u0019 c\u0010I\u0007«$\b ¢\u0004\u0016Ü[¯|*\u0010ØStÄåzc`Äê\u001d\r<¡^è~o,A!¤¼£qú?5Ó\f³ÚØçí¶ì<ÂïiQ¶ß»ýÞI\u001fóFÒ@çp\u0006ÒÞ\u0001C\u0017¹¼\nX¦ì5È¥Å\u0010ôS\u0003\bBðd>ÉH'L©\\V*¦*ºzåêµqÙÄ\u000fºëyíû\u001e(&W;\rWQ§·mZº¶\bYÅðµW\u0019¥«3¹i^±û:ûÌÚÏC,ã°|Îmzf«ªÄ\r±/¹Ökëµjmv·þfm³3±;mf\r­\u001bÞ~8º¼×Û~\u0010\u00110ø_Í;a!U\u0015\u0000\f\u0016ÿüq¤hZe\u001ae]-\u001aE¢@àH$\u000e\u0000Lb\"ýÿûrÄ\n\u0000\u0010m\u0013_¹¦\u0001äAá·p\u00005àdé\u001aq\u001c=\u0014R3\u001cÿ\u0004ð+L\u00076\"Æ\u001cb\u000eÒD×\u00018\u0012tq8Ü»äqÈVJè²I/æãÅó\u0013mK·ä¡L¾pÑJHÅleüÐÍ#åÅ)Ñ]%ócÅó\u0014\u000e\"nÍI\u0017wÀ\u0001ð\"\u0001Àà:9ý\u000e»\\£8\u0000@\u0000.sQ]wú¥ýSÿÿÿÿÿÏ½WúwÑf§{ôÏmY>·¦fÑQ[ÿÿÿVîc+±YùCÑÌÇ\u0010ÁãÜ£§\u001a:§\u000f\nNa¨ð2)8 \\`àð\\D(%4B.\u001f\u001b\u000e\u000eÄ°Ú8.0*\f\u001f\u000e\u0004@\u0000\r\u0015xê¯DêTÑ®¹]»ÍZÎB9ÏF6nù¯¯ïéTJísÊ¨4<q7qG)Â(áÐ\u0005ÌQ\u0010ö§kÖ¬H¼ÿûpÄ\u001e\u0000\r&\u0011\b\u0000\u0015\u0001A¡´\u0012§à»\u0015«buRº#H«e$ärôÜ°\u001e\u0005\u0002Dbà´®'&Ráx!\u0016Â¤d¢­ï\u001fAvL$Í\u0010\u0000\\ú;Þu¡\u0013ÿÌÿ¢ËSÿÿ­¾ÿß£wz7{*{³õ±öëOÿÿÓÿÛ2»>ÄA¬Z¹D\u001cÌ,¡Ðn\\æyXÅ¬°3¦ ¥Å\u001a\"fE\u0002qY-95ôÐÕ%1Ü\u0017ÒQXLÕPuTEAª \u0000'\u0014ðæ¦\u0015,D\u0019÷'ÿè¿×ÿÔ¿þ©ÿ+KùJT6¥Êß­)|Ï7ÿÿý\u001fþd3ô~`!F3åcjR{-®âî=ö\\¹êÖ­\u0019\u001f}kìÚ×`z\u001fÅÇÐLOY%#u«A\u0010\n\rL½LAME3.99.5UUUUUUUUUUUUUUUUUUUUUUUUÿûrÄGÍ\u0010ÿàÀ\u0000\u00004\u0000\u0000\u0004UUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUU"}}}},"exports":"function(lychee, global, attachments) {\n\n\tconst _CONFIG  = attachments[\"json\"].buffer;\n\tconst _TEXTURE = attachments[\"png\"];\n\tconst _SOUND   = attachments[\"snd\"];\n\n\n\n\t/*\n\t * IMPLEMENTATION\n\t */\n\n\tconst Composite = function(states) {\n\n\t\tthis.delay    = 0;\n\t\tthis.duration = 250;\n\t\tthis.frame    = 7;\n\t\tthis.position = { x: null, y: null, z: null };\n\n\t\tthis.__frame  = 0;\n\t\tthis.__map    = Math.random() > 0.5 ? _CONFIG.map['default'] : _CONFIG.map['fire'];\n\t\tthis.__origin = 0;\n\t\tthis.__start  = null;\n\t\tthis.__sound  = true;\n\n\n\t\tthis.delay    = typeof states.delay === 'number'    ? (states.delay    | 0) : 0;\n\t\tthis.duration = typeof states.duration === 'number' ? (states.duration | 0) : 250;\n\n\t\tif (states.position instanceof Object) {\n\t\t\tthis.position.x = typeof states.position.x === 'number' ? (states.position.x | 0) : null;\n\t\t\tthis.position.y = typeof states.position.y === 'number' ? (states.position.y | 0) : null;\n\t\t\tthis.position.z = typeof states.position.z === 'number' ? (states.position.z | 0) : null;\n\t\t}\n\n\t};\n\n\n\tComposite.prototype = {\n\n\t\t/*\n\t\t * ENTITY API\n\t\t */\n\n\t\t// deserialize: function(blob) {},\n\n\t\tserialize: function() {\n\n\t\t\tlet states = {};\n\n\n\t\t\tif (this.delay !== 0)      states.delay    = this.delay;\n\t\t\tif (this.duration !== 250) states.duration = this.duration;\n\n\n\t\t\tif (this.position.x !== null || this.position.y !== null || this.position.z !== null) {\n\n\t\t\t\tstates.position = {};\n\n\t\t\t\tif (this.position.x !== null) states.position.x = this.position.x;\n\t\t\t\tif (this.position.y !== null) states.position.y = this.position.y;\n\t\t\t\tif (this.position.z !== null) states.position.z = this.position.z;\n\n\t\t\t}\n\n\n\t\t\treturn {\n\t\t\t\t'constructor': 'game.effect.Explosion',\n\t\t\t\t'arguments':   [ states ]\n\t\t\t};\n\n\t\t},\n\n\t\trender: function(renderer, offsetX, offsetY) {\n\n\t\t\tlet t = (this.__clock - this.__start) / this.duration;\n\t\t\tif (t > 0 && t <= 1) {\n\n\t\t\t\tlet frame    = (this.__frame | 0);\n\t\t\t\tlet map      = this.__map[frame] || null;\n\t\t\t\tlet position = this.position;\n\n\t\t\t\tif (map !== null) {\n\n\t\t\t\t\tlet x1 = position.x + offsetX - map.w / 2;\n\t\t\t\t\tlet y1 = position.y + offsetY - map.h / 2;\n\n\n\t\t\t\t\trenderer.drawSprite(\n\t\t\t\t\t\tx1,\n\t\t\t\t\t\ty1,\n\t\t\t\t\t\t_TEXTURE,\n\t\t\t\t\t\tmap\n\t\t\t\t\t);\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t},\n\n\t\tupdate: function(entity, clock, delta) {\n\n\t\t\tthis.__clock = clock;\n\n\n\t\t\tif (this.__start === null) {\n\t\t\t\tthis.__start = clock + this.delay;\n\t\t\t}\n\n\n\t\t\tlet t = (clock - this.__start) / this.duration;\n\t\t\tif (t < 0) {\n\n\t\t\t\treturn true;\n\n\t\t\t} else {\n\n\t\t\t\tif (this.__origin === null) {\n\t\t\t\t\tthis.__origin = 0;\n\t\t\t\t}\n\n\t\t\t\tif (this.__sound === true) {\n\t\t\t\t\tthis.__sound = false;\n\t\t\t\t\t_SOUND.play();\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\tlet origin = this.__origin;\n\t\t\tlet frame  = this.frame;\n\t\t\tlet f      = origin;\n\n\t\t\tif (t <= 1) {\n\n\t\t\t\tf += t * (frame - origin);\n\n\n\t\t\t\tthis.__frame = f;\n\n\n\t\t\t\treturn true;\n\n\t\t\t} else {\n\n\t\t\t\tthis.__frame = frame;\n\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\n\treturn Composite;\n\n}"}},"lychee.net.Service":{"constructor":"lychee.Definition","arguments":[{"id":"lychee.net.Service","url":"/libraries/lychee/source/net/Service.js"}],"blob":{"attaches":{},"includes":["lychee.event.Emitter"],"exports":"function(lychee, global, attachments) {\n\n\tconst _Emitter  = lychee.import('lychee.event.Emitter');\n\tconst _SERVICES = {};\n\n\n\n\t/*\n\t * HELPERS\n\t */\n\n\tconst _plug_broadcast = function() {\n\n\t\tlet id = this.id;\n\t\tif (id !== null) {\n\n\t\t\tlet cache = _SERVICES[id] || null;\n\t\t\tif (cache === null) {\n\t\t\t\tcache = _SERVICES[id] = [];\n\t\t\t}\n\n\n\t\t\tlet found = false;\n\n\t\t\tfor (let c = 0, cl = cache.length; c < cl; c++) {\n\n\t\t\t\tif (cache[c] === this) {\n\t\t\t\t\tfound = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\tif (found === false) {\n\t\t\t\tcache.push(this);\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tconst _unplug_broadcast = function() {\n\n\t\tthis.setMulticast([]);\n\n\n\t\tlet id = this.id;\n\t\tif (id !== null) {\n\n\t\t\tlet cache = _SERVICES[id] || null;\n\t\t\tif (cache !== null) {\n\n\t\t\t\tfor (let c = 0, cl = cache.length; c < cl; c++) {\n\n\t\t\t\t\tif (cache[c] === this) {\n\t\t\t\t\t\tcache.splice(c, 1);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\n\n\t/*\n\t * IMPLEMENTATION\n\t */\n\n\tconst Composite = function(id, tunnel, type) {\n\n\t\tthis.id     = typeof id === 'string'                        ? id     : null;\n\t\tthis.tunnel = lychee.interfaceof(lychee.net.Tunnel, tunnel) ? tunnel : null;\n\t\tthis.type   = lychee.enumof(Composite.TYPE, type)           ? type   : null;\n\n\t\tthis.__multicast = [];\n\n\n\t\tif (lychee.debug === true) {\n\n\t\t\tif (this.id === null) {\n\t\t\t\tconsole.error('lychee.net.Service: Invalid (string) id. It has to be kept in sync with the lychee.net.Client and lychee.net.Remote instance.');\n\t\t\t}\n\n\t\t\tif (this.tunnel === null) {\n\t\t\t\tconsole.error('lychee.net.Service: Invalid (lychee.net.Tunnel) tunnel.');\n\t\t\t}\n\n\t\t\tif (this.type === null) {\n\t\t\t\tconsole.error('lychee.net.Service: Invalid (lychee.net.Service.TYPE) type.');\n\t\t\t}\n\n\t\t}\n\n\n\t\t_Emitter.call(this);\n\n\n\n\t\t/*\n\t\t * INITIALIZATION\n\t\t */\n\n\t\tif (this.type === Composite.TYPE.remote) {\n\n\t\t\tthis.bind('plug',   _plug_broadcast,   this);\n\t\t\tthis.bind('unplug', _unplug_broadcast, this);\n\n\t\t}\n\n\t};\n\n\n\tComposite.TYPE = {\n\t\t// 'default': 0, (deactivated)\n\t\t'client': 1,\n\t\t'remote': 2\n\t};\n\n\n\tComposite.prototype = {\n\n\t\t/*\n\t\t * ENTITY API\n\t\t */\n\n\t\t// deserialize: function(blob) {},\n\n\t\tserialize: function() {\n\n\t\t\tlet data = _Emitter.prototype.serialize.call(this);\n\t\t\tdata['constructor'] = 'lychee.net.Service';\n\n\t\t\tlet id     = null;\n\t\t\tlet tunnel = null;\n\t\t\tlet type   = null;\n\t\t\tlet blob   = (data['blob'] || {});\n\n\n\t\t\tif (this.id !== null)   id   = this.id;\n\t\t\tif (this.type !== null) type = this.type;\n\n\t\t\tif (this.type === Composite.TYPE.client) {\n\t\t\t\ttunnel = '#MAIN.client';\n\t\t\t} else {\n\t\t\t\ttunnel = null;\n\t\t\t}\n\n\n\t\t\tdata['arguments'][0] = id;\n\t\t\tdata['arguments'][1] = tunnel;\n\t\t\tdata['arguments'][2] = type;\n\t\t\tdata['blob']         = Object.keys(blob).length > 0 ? blob : null;\n\n\n\t\t\treturn data;\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * SERVICE API\n\t\t */\n\n\t\tmulticast: function(data, service) {\n\n\t\t\tdata    = data instanceof Object    ? data    : null;\n\t\t\tservice = service instanceof Object ? service : null;\n\n\n\t\t\tif (data === null) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\n\t\t\tlet type = this.type;\n\t\t\tif (type === Composite.TYPE.client) {\n\n\t\t\t\tif (service === null) {\n\n\t\t\t\t\tservice = {\n\t\t\t\t\t\tid:    this.id,\n\t\t\t\t\t\tevent: 'multicast'\n\t\t\t\t\t};\n\n\t\t\t\t}\n\n\n\t\t\t\tif (this.tunnel !== null) {\n\n\t\t\t\t\tthis.tunnel.send({\n\t\t\t\t\t\tdata:    data,\n\t\t\t\t\t\tservice: service\n\t\t\t\t\t}, {\n\t\t\t\t\t\tid:     this.id,\n\t\t\t\t\t\tmethod: 'multicast'\n\t\t\t\t\t});\n\n\t\t\t\t\treturn true;\n\n\t\t\t\t}\n\n\t\t\t} else if (type === Composite.TYPE.remote) {\n\n\t\t\t\tif (data.service !== null) {\n\n\t\t\t\t\tfor (let m = 0, ml = this.__multicast.length; m < ml; m++) {\n\n\t\t\t\t\t\tlet tunnel = this.__multicast[m];\n\t\t\t\t\t\tif (tunnel !== this.tunnel) {\n\n\t\t\t\t\t\t\tdata.data.tid = this.tunnel.host + ':' + this.tunnel.port;\n\n\t\t\t\t\t\t\ttunnel.send(\n\t\t\t\t\t\t\t\tdata.data,\n\t\t\t\t\t\t\t\tdata.service\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\treturn true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tbroadcast: function(data, service) {\n\n\t\t\tdata    = data instanceof Object    ? data    : null;\n\t\t\tservice = service instanceof Object ? service : null;\n\n\n\t\t\tif (data === null || this.id === null) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\n\t\t\tlet type = this.type;\n\t\t\tif (type === Composite.TYPE.client) {\n\n\t\t\t\tif (service === null) {\n\n\t\t\t\t\tservice = {\n\t\t\t\t\t\tid:    this.id,\n\t\t\t\t\t\tevent: 'broadcast'\n\t\t\t\t\t};\n\n\t\t\t\t}\n\n\n\t\t\t\tif (this.tunnel !== null) {\n\n\t\t\t\t\tthis.tunnel.send({\n\t\t\t\t\t\tdata:    data,\n\t\t\t\t\t\tservice: service\n\t\t\t\t\t}, {\n\t\t\t\t\t\tid:     this.id,\n\t\t\t\t\t\tmethod: 'broadcast'\n\t\t\t\t\t});\n\n\t\t\t\t\treturn true;\n\n\t\t\t\t}\n\n\t\t\t} else if (type === Composite.TYPE.remote) {\n\n\t\t\t\t// XXX: Allow method calls from remote side\n\t\t\t\tif (data !== null && service !== null) {\n\n\t\t\t\t\tdata = {\n\t\t\t\t\t\tdata:    data,\n\t\t\t\t\t\tservice: service\n\t\t\t\t\t};\n\n\t\t\t\t}\n\n\n\t\t\t\tif (data.service !== null) {\n\n\t\t\t\t\tlet broadcast = _SERVICES[this.id] || null;\n\t\t\t\t\tif (broadcast !== null) {\n\n\t\t\t\t\t\tfor (let b = 0, bl = broadcast.length; b < bl; b++) {\n\n\t\t\t\t\t\t\tlet tunnel = broadcast[b].tunnel;\n\t\t\t\t\t\t\tif (tunnel !== this.tunnel) {\n\n\t\t\t\t\t\t\t\tdata.data.tid = this.tunnel.host + ':' + this.tunnel.port;\n\n\t\t\t\t\t\t\t\ttunnel.send(\n\t\t\t\t\t\t\t\t\tdata.data,\n\t\t\t\t\t\t\t\t\tdata.service\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn true;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\taccept: function(message, blob) {\n\n\t\t\tmessage = typeof message === 'string' ? message : null;\n\t\t\tblob    = blob instanceof Object      ? blob    : null;\n\n\n\t\t\tif (message !== null) {\n\n\t\t\t\tlet tunnel = this.tunnel;\n\t\t\t\tif (tunnel !== null) {\n\n\t\t\t\t\ttunnel.send({\n\t\t\t\t\t\tmessage: message,\n\t\t\t\t\t\tblob:    blob\n\t\t\t\t\t}, {\n\t\t\t\t\t\tid:    this.id,\n\t\t\t\t\t\tevent: 'success'\n\t\t\t\t\t});\n\n\t\t\t\t\treturn true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\treject: function(message, blob) {\n\n\t\t\tmessage = typeof message === 'string' ? message : null;\n\t\t\tblob    = blob instanceof Object      ? blob    : null;\n\n\n\t\t\tif (message !== null) {\n\n\t\t\t\tlet tunnel = this.tunnel;\n\t\t\t\tif (tunnel !== null) {\n\n\t\t\t\t\ttunnel.send({\n\t\t\t\t\t\tmessage: message,\n\t\t\t\t\t\tblob:    blob\n\t\t\t\t\t}, {\n\t\t\t\t\t\tid:    this.id,\n\t\t\t\t\t\tevent: 'error'\n\t\t\t\t\t});\n\n\t\t\t\t\treturn true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetMulticast: function(multicast) {\n\n\t\t\tmulticast = multicast instanceof Array ? multicast : null;\n\n\n\t\t\tif (multicast !== null) {\n\n\t\t\t\tthis.__multicast = multicast.filter(function(instance) {\n\t\t\t\t\treturn lychee.interfaceof(lychee.net.Tunnel, instance);\n\t\t\t\t});\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t}\n\n\t};\n\n\n\treturn Composite;\n\n}"}},"lychee.net.remote.Debugger":{"constructor":"lychee.Definition","arguments":[{"id":"lychee.net.remote.Debugger","url":"/libraries/lychee/source/net/remote/Debugger.js"}],"blob":{"attaches":{},"includes":["lychee.net.Service"],"exports":"function(lychee, global, attachments) {\n\n\tconst _Service = lychee.import('lychee.net.Service');\n\tconst _TUNNELS = [];\n\n\n\n\t/*\n\t * HELPERS\n\t */\n\n\tconst _bind_console = function(event) {\n\n\t\tthis.bind(event, function(data) {\n\n\t\t\tif (this.tunnel !== null) {\n\n\t\t\t\tlet receiver = data.tid || null;\n\t\t\t\tif (receiver !== null) {\n\n\t\t\t\t\tlet tunnel = _TUNNELS.find(function(client) {\n\t\t\t\t\t\treturn (client.host + ':' + client.port) === receiver;\n\t\t\t\t\t}) || null;\n\n\t\t\t\t\tif (tunnel !== null) {\n\n\t\t\t\t\t\ttunnel.send(data, {\n\t\t\t\t\t\t\tid:    'debugger',\n\t\t\t\t\t\t\tevent: 'console'\n\t\t\t\t\t\t});\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}, this);\n\n\t};\n\n\tconst _bind_relay = function(event) {\n\n\t\tthis.bind(event, function(data) {\n\n\t\t\tlet sender   = null;\n\t\t\tlet receiver = data.tid || null;\n\n\t\t\tif (this.tunnel !== null) {\n\t\t\t\tsender = this.tunnel.host + ':' + this.tunnel.port;\n\t\t\t}\n\n\n\t\t\tif (sender !== null && receiver !== null) {\n\n\t\t\t\tlet tunnel = _TUNNELS.find(function(client) {\n\t\t\t\t\treturn (client.host + ':' + client.port) === receiver;\n\t\t\t\t}) || null;\n\n\t\t\t\tif (tunnel !== null) {\n\n\t\t\t\t\tdata.receiver = sender;\n\n\t\t\t\t\ttunnel.send(data, {\n\t\t\t\t\t\tid:    'debugger',\n\t\t\t\t\t\tevent: event\n\t\t\t\t\t});\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}, this);\n\n\t};\n\n\n\n\t/*\n\t * IMPLEMENTATION\n\t */\n\n\tconst Composite = function(remote) {\n\n\t\t_Service.call(this, 'debugger', remote, _Service.TYPE.remote);\n\n\n\n\t\t/*\n\t\t * INITIALIZATION\n\t\t */\n\n\t\tthis.bind('plug', function() {\n\n\t\t\t_TUNNELS.push(this.tunnel);\n\n\t\t}, this);\n\n\t\tthis.bind('unplug', function() {\n\n\t\t\tlet index = _TUNNELS.indexOf(this.tunnel);\n\t\t\tif (index !== -1) {\n\t\t\t\t_TUNNELS.splice(index, 1);\n\t\t\t}\n\n\t\t}, this);\n\n\n\t\t// Relay events to proper tunnel (data.tid)\n\t\t_bind_relay.call(this, 'define');\n\t\t_bind_relay.call(this, 'execute');\n\t\t_bind_relay.call(this, 'expose');\n\t\t_bind_relay.call(this, 'snapshot');\n\n\t\t// Relay events to proper tunnel (data.receiver > data.tid)\n\t\t_bind_console.call(this, 'define-value');\n\t\t_bind_console.call(this, 'execute-value');\n\t\t_bind_console.call(this, 'expose-value');\n\t\t_bind_console.call(this, 'snapshot-value');\n\n\t};\n\n\n\tComposite.prototype = {\n\n\t\t/*\n\t\t * ENTITY API\n\t\t */\n\n\t\t// deserialize: function(blob) {},\n\n\t\tserialize: function() {\n\n\t\t\tlet data = _Service.prototype.serialize.call(this);\n\t\t\tdata['constructor'] = 'lychee.net.remote.Debugger';\n\t\t\tdata['arguments']   = [];\n\n\n\t\t\treturn data;\n\n\t\t}\n\n\t};\n\n\n\treturn Composite;\n\n}"}},"lychee.net.remote.Storage":{"constructor":"lychee.Definition","arguments":[{"id":"lychee.net.remote.Storage","url":"/libraries/lychee/source/net/remote/Storage.js"}],"blob":{"attaches":{},"includes":["lychee.net.Service"],"exports":"function(lychee, global, attachments) {\n\n\tconst _Service = lychee.import('lychee.net.Service');\n\n\n\n\t/*\n\t * IMPLEMENTATION\n\t */\n\n\tconst Composite = function(remote) {\n\n\t\t_Service.call(this, 'storage', remote, _Service.TYPE.remote);\n\n\n\n\t\t/*\n\t\t * INITIALIZATION\n\t\t */\n\n\t\tthis.bind('sync', function(data) {\n\n\t\t\tthis.broadcast(data, {\n\t\t\t\tid:    this.id,\n\t\t\t\tevent: 'sync'\n\t\t\t});\n\n\t\t}, this);\n\n\t};\n\n\n\tComposite.prototype = {\n\n\t\t/*\n\t\t * ENTITY API\n\t\t */\n\n\t\t// deserialize: function(blob) {},\n\n\t\tserialize: function() {\n\n\t\t\tlet data = _Service.prototype.serialize.call(this);\n\t\t\tdata['constructor'] = 'lychee.net.remote.Storage';\n\t\t\tdata['arguments']   = [];\n\n\n\t\t\treturn data;\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * CUSTOM API\n\t\t */\n\n\t\tsync: function(objects) {\n\n\t\t\tobjects = objects instanceof Array ? objects : null;\n\n\n\t\t\tif (objects !== null && this.tunnel !== null) {\n\n\t\t\t\tthis.tunnel.send({\n\t\t\t\t\ttimestamp: Date.now(),\n\t\t\t\t\tobjects:   objects\n\t\t\t\t}, {\n\t\t\t\t\tid:    'storage',\n\t\t\t\t\tevent: 'sync'\n\t\t\t\t});\n\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t}\n\n\t};\n\n\n\treturn Composite;\n\n}"}},"lychee.net.remote.Stash":{"constructor":"lychee.Definition","arguments":[{"id":"lychee.net.remote.Stash","url":"/libraries/lychee/source/net/remote/Stash.js"}],"blob":{"attaches":{},"includes":["lychee.net.Service"],"exports":"function(lychee, global, attachments) {\n\n\tconst _Service = lychee.import('lychee.net.Service');\n\n\n\n\t/*\n\t * IMPLEMENTATION\n\t */\n\n\tconst Composite = function(remote) {\n\n\t\t_Service.call(this, 'stash', remote, _Service.TYPE.remote);\n\n\n\n\t\t/*\n\t\t * INITIALIZATION\n\t\t */\n\n\t\tthis.bind('sync', function(data) {\n\n\t\t\tthis.broadcast(data, {\n\t\t\t\tid:    this.id,\n\t\t\t\tevent: 'sync'\n\t\t\t});\n\n\t\t}, this);\n\n\t};\n\n\n\tComposite.prototype = {\n\n\t\t/*\n\t\t * ENTITY API\n\t\t */\n\n\t\t// deserialize: function(blob) {},\n\n\t\tserialize: function() {\n\n\t\t\tlet data = _Service.prototype.serialize.call(this);\n\t\t\tdata['constructor'] = 'lychee.net.remote.Stash';\n\t\t\tdata['arguments']   = [];\n\n\n\t\t\treturn data;\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * CUSTOM API\n\t\t */\n\n\t\tsync: function(assets) {\n\n\t\t\tassets = assets instanceof Object ? assets : null;\n\n\n\t\t\tif (assets !== null && this.tunnel !== null) {\n\n\t\t\t\tlet data = {};\n\n\t\t\t\tfor (let id in assets) {\n\t\t\t\t\tdata[id] = lychee.serialize(assets[id]);\n\t\t\t\t}\n\n\n\t\t\t\tthis.tunnel.send({\n\t\t\t\t\ttimestamp: Date.now(),\n\t\t\t\t\tassets:    data\n\t\t\t\t}, {\n\t\t\t\t\tid:    'stash',\n\t\t\t\t\tevent: 'sync'\n\t\t\t\t});\n\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t}\n\n\t};\n\n\n\treturn Composite;\n\n}"}},"lychee.app.Entity":{"constructor":"lychee.Definition","arguments":[{"id":"lychee.app.Entity","url":"/libraries/lychee/source/app/Entity.js"}],"blob":{"attaches":{},"exports":"function(lychee, global, attachments) {\n\n\t/*\n\t * HELPERS\n\t */\n\n\tconst _validate_effect = function(effect) {\n\n\t\tif (effect instanceof Object) {\n\n\t\t\tif (\n\t\t\t\ttypeof effect.update === 'function'\n\t\t\t\t&& typeof effect.render === 'function'\n\t\t\t) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t}\n\n\n\t\treturn false;\n\n\t};\n\n\tconst _sphere_sphere = function(a, b) {\n\n\t\tlet dx  = Math.sqrt(Math.pow(b.position.x - a.position.x, 2));\n\t\tlet dy  = Math.sqrt(Math.pow(b.position.y - a.position.y, 2));\n\t\tlet dz  = Math.sqrt(Math.pow(b.position.z - a.position.z, 2));\n\n\t\tlet rxy = 0;\n\t\tlet rxz = 0;\n\n\t\tif (a.shape === Composite.SHAPE.sphere) {\n\t\t\trxy += a.radius;\n\t\t\trxz += a.radius;\n\t\t}\n\n\t\tif (b.shape === Composite.SHAPE.sphere) {\n\t\t\trxy += b.radius;\n\t\t\trxz += b.radius;\n\t\t}\n\n\t\treturn ((dx + dy) <= rxy && (dx + dz) <= rxz);\n\n\t};\n\n\tconst _sphere_cuboid = function(a, b) {\n\n\t\tlet r  = a.radius;\n\t\tlet hw = b.width  / 2;\n\t\tlet hh = b.height / 2;\n\t\tlet hd = b.depth  / 2;\n\n\t\tlet ax = a.position.x;\n\t\tlet ay = a.position.y;\n\t\tlet az = a.position.z;\n\n\t\tlet bx = b.position.x;\n\t\tlet by = b.position.y;\n\t\tlet bz = b.position.z;\n\n\t\tlet colx = (ax + r >= bx - hw) && (ax - r <= bx + hw);\n\t\tlet coly = (ay + r >= by - hh) && (ay - r <= by + hh);\n\n\t\tif (a.shape === Composite.SHAPE.circle) {\n\t\t\tr = 0;\n\t\t}\n\n\t\tlet colz = (az + r >= bz - hd) && (az - r <= bz + hd);\n\n\t\treturn (colx && coly && colz);\n\n\t};\n\n\tconst _cuboid_cuboid = function(a, b) {\n\n\t\tlet dx = Math.abs(b.position.x - a.position.x);\n\t\tlet dy = Math.abs(b.position.y - a.position.y);\n\t\tlet dz = Math.abs(b.position.z - a.position.z);\n\n\t\tlet hw = (a.width  + b.width)  / 2;\n\t\tlet hh = (a.height + b.height) / 2;\n\t\tlet hd = (a.depth  + b.depth)  / 2;\n\n\t\treturn (dx <= hw && dy <= hh && dz <= hd);\n\n\t};\n\n\n\n\t/*\n\t * IMPLEMENTATION\n\t */\n\n\tconst Composite = function(data) {\n\n\t\tlet states = Object.assign({}, data);\n\n\n\t\tthis.width  = typeof states.width === 'number'  ? states.width  : 0;\n\t\tthis.height = typeof states.height === 'number' ? states.height : 0;\n\t\tthis.depth  = typeof states.depth === 'number'  ? states.depth  : 0;\n\t\tthis.radius = typeof states.radius === 'number' ? states.radius : 0;\n\n\t\tthis.alpha     = 1;\n\t\tthis.collision = Composite.COLLISION.none;\n\t\tthis.effects   = [];\n\t\tthis.shape     = Composite.SHAPE.rectangle;\n\t\tthis.state     = 'default';\n\t\tthis.states    = { 'default': null };\n\t\tthis.position  = { x: 0, y: 0, z: 0 };\n\t\tthis.velocity  = { x: 0, y: 0, z: 0 };\n\n\n\t\tthis.setAlpha(states.alpha);\n\t\tthis.setCollision(states.collision);\n\t\tthis.setShape(states.shape);\n\t\tthis.setStates(states.states);\n\t\tthis.setState(states.state);\n\t\tthis.setPosition(states.position);\n\t\tthis.setVelocity(states.velocity);\n\n\n\t\tstates = null;\n\n\t};\n\n\n\t// Same ENUM values as lychee.ui.Entity\n\tComposite.COLLISION = {\n\t\tnone: 0,\n\t\tA:    1,\n\t\tB:    2,\n\t\tC:    3,\n\t\tD:    4\n\t};\n\n\n\t// Same ENUM values as lychee.ui.Entity\n\tComposite.SHAPE = {\n\t\tcircle:    0,\n\t\trectangle: 1,\n\t\tsphere:    2,\n\t\tcuboid:    3\n\t};\n\n\n\tComposite.prototype = {\n\n\t\t/*\n\t\t * ENTITY API\n\t\t */\n\n\t\t// deserialize: function(blob) {},\n\n\t\tserialize: function() {\n\n\t\t\tlet states = {};\n\n\n\t\t\tif (this.width  !== 0) states.width  = this.width;\n\t\t\tif (this.height !== 0) states.height = this.height;\n\t\t\tif (this.depth  !== 0) states.depth  = this.depth;\n\t\t\tif (this.radius !== 0) states.radius = this.radius;\n\n\t\t\tif (this.alpha !== 1)                            states.alpha     = this.alpha;\n\t\t\tif (this.collision !== Composite.COLLISION.none) states.collision = this.collision;\n\t\t\tif (this.shape !== Composite.SHAPE.rectangle)    states.shape     = this.shape;\n\t\t\tif (this.state !== 'default')                    states.state     = this.state;\n\t\t\tif (Object.keys(this.states).length > 1)         states.states    = this.states;\n\n\n\t\t\tif (this.position.x !== 0 || this.position.y !== 0 || this.position.z !== 0) {\n\n\t\t\t\tstates.position = {};\n\n\t\t\t\tif (this.position.x !== 0) states.position.x = this.position.x;\n\t\t\t\tif (this.position.y !== 0) states.position.y = this.position.y;\n\t\t\t\tif (this.position.z !== 0) states.position.z = this.position.z;\n\n\t\t\t}\n\n\n\t\t\tif (this.velocity.x !== 0 || this.velocity.y !== 0 || this.velocity.z !== 0) {\n\n\t\t\t\tstates.velocity = {};\n\n\t\t\t\tif (this.velocity.x !== 0) states.velocity.x = this.velocity.x;\n\t\t\t\tif (this.velocity.y !== 0) states.velocity.y = this.velocity.y;\n\t\t\t\tif (this.velocity.z !== 0) states.velocity.z = this.velocity.z;\n\n\t\t\t}\n\n\n\t\t\treturn {\n\t\t\t\t'constructor': 'lychee.app.Entity',\n\t\t\t\t'arguments':   [ states ],\n\t\t\t\t'blob':        null\n\t\t\t};\n\n\t\t},\n\n\t\trender: function(renderer, offsetX, offsetY) {\n\n\t\t\tlet effects = this.effects;\n\t\t\tfor (let e = 0, el = effects.length; e < el; e++) {\n\t\t\t\teffects[e].render(renderer, offsetX, offsetY);\n\t\t\t}\n\n\t\t},\n\n\t\tupdate: function(clock, delta) {\n\n\t\t\tlet velocity = this.velocity;\n\n\t\t\tif (velocity.x !== 0 || velocity.y !== 0 || velocity.z !== 0) {\n\n\t\t\t\tlet x = this.position.x;\n\t\t\t\tlet y = this.position.y;\n\t\t\t\tlet z = this.position.z;\n\n\n\t\t\t\tlet vt = delta / 1000;\n\n\t\t\t\tif (velocity.x !== 0) {\n\t\t\t\t\tx += velocity.x * vt;\n\t\t\t\t}\n\n\t\t\t\tif (velocity.y !== 0) {\n\t\t\t\t\ty += velocity.y * vt;\n\t\t\t\t}\n\n\t\t\t\tif (velocity.z !== 0) {\n\t\t\t\t\tz += velocity.z * vt;\n\t\t\t\t}\n\n\n\t\t\t\tthis.position.x = x;\n\t\t\t\tthis.position.y = y;\n\t\t\t\tthis.position.z = z;\n\n\t\t\t}\n\n\n\t\t\tlet effects = this.effects;\n\t\t\tfor (let e = 0, el = effects.length; e < el; e++) {\n\n\t\t\t\tlet effect = effects[e];\n\t\t\t\tif (effect.update(this, clock, delta) === false) {\n\t\t\t\t\tthis.removeEffect(effect);\n\t\t\t\t\tel--;\n\t\t\t\t\te--;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * CUSTOM API\n\t\t */\n\n\t\tisAtPosition: function(position) {\n\n\t\t\tposition = position instanceof Object ? position : null;\n\n\n\t\t\tif (position !== null) {\n\n\t\t\t\tif (typeof position.x === 'number' && typeof position.y === 'number') {\n\n\t\t\t\t\tlet ax = position.x;\n\t\t\t\t\tlet ay = position.y;\n\t\t\t\t\tlet az = position.z;\n\t\t\t\t\tlet bx = this.position.x;\n\t\t\t\t\tlet by = this.position.y;\n\t\t\t\t\tlet bz = this.position.z;\n\n\n\t\t\t\t\tlet shape = this.shape;\n\t\t\t\t\tif (shape === Composite.SHAPE.circle) {\n\n\t\t\t\t\t\tlet dist = Math.sqrt(Math.pow(ax - bx, 2) + Math.pow(ay - by, 2));\n\t\t\t\t\t\tif (dist < this.radius) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if (shape === Composite.SHAPE.sphere) {\n\n\t\t\t\t\t\tlet dist = Math.sqrt(Math.pow(ax - bx, 2) + Math.pow(ay - by, 2) + Math.pow(az - bz, 2));\n\t\t\t\t\t\tif (dist < this.radius) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if (shape === Composite.SHAPE.rectangle) {\n\n\t\t\t\t\t\tlet hwidth  = this.width  / 2;\n\t\t\t\t\t\tlet hheight = this.height / 2;\n\t\t\t\t\t\tlet colX    = (ax >= bx - hwidth)  && (ax <= bx + hwidth);\n\t\t\t\t\t\tlet colY    = (ay >= by - hheight) && (ay <= by + hheight);\n\n\n\t\t\t\t\t\treturn colX && colY;\n\n\t\t\t\t\t} else if (shape === Composite.SHAPE.cuboid) {\n\n\t\t\t\t\t\tlet hwidth  = this.width  / 2;\n\t\t\t\t\t\tlet hheight = this.height / 2;\n\t\t\t\t\t\tlet hdepth  = this.depth  / 2;\n\t\t\t\t\t\tlet colX    = (ax >= bx - hwidth)  && (ax <= bx + hwidth);\n\t\t\t\t\t\tlet colY    = (ay >= by - hheight) && (ay <= by + hheight);\n\t\t\t\t\t\tlet colZ    = (az >= bz - hdepth)  && (az <= bz + hdepth);\n\n\n\t\t\t\t\t\treturn colX && colY && colZ;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tcollidesWith: function(entity) {\n\n\t\t\tentity = lychee.interfaceof(Composite, entity) ? entity : null;\n\n\n\t\t\tif (entity !== null) {\n\n\t\t\t\tlet none = Composite.COLLISION.none;\n\t\t\t\tif (this.collision !== entity.collision || this.collision === none || entity.collision === none) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\n\t\t\t\tlet circle    = Composite.SHAPE.circle;\n\t\t\t\tlet sphere    = Composite.SHAPE.sphere;\n\t\t\t\tlet rectangle = Composite.SHAPE.rectangle;\n\t\t\t\tlet cuboid    = Composite.SHAPE.cuboid;\n\n\t\t\t\tlet shapeA    = this.shape;\n\t\t\t\tlet shapeB    = entity.shape;\n\n\t\t\t\tlet issphereA = shapeA === circle    || shapeA === sphere;\n\t\t\t\tlet issphereB = shapeB === circle    || shapeB === sphere;\n\t\t\t\tlet iscuboidA = shapeA === rectangle || shapeA === cuboid;\n\t\t\t\tlet iscuboidB = shapeB === rectangle || shapeB === cuboid;\n\n\t\t\t\tif (issphereA && issphereB) {\n\t\t\t\t\treturn _sphere_sphere(this, entity);\n\t\t\t\t} else if (iscuboidA && iscuboidB) {\n\t\t\t\t\treturn _cuboid_cuboid(this, entity);\n\t\t\t\t} else if (issphereA && iscuboidB) {\n\t\t\t\t\treturn _sphere_cuboid(this, entity);\n\t\t\t\t} else if (iscuboidA && issphereB) {\n\t\t\t\t\treturn _sphere_cuboid(entity, this);\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetAlpha: function(alpha) {\n\n\t\t\talpha = typeof alpha === 'number' ? alpha : null;\n\n\n\t\t\tif (alpha !== null) {\n\n\t\t\t\tthis.alpha = Math.min(Math.max(alpha, 0), 1);\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetCollision: function(collision) {\n\n\t\t\tcollision = lychee.enumof(Composite.COLLISION, collision) ? collision : null;\n\n\n\t\t\tif (collision !== null) {\n\n\t\t\t\tthis.collision = collision;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\taddEffect: function(effect) {\n\n\t\t\teffect = _validate_effect(effect) ? effect : null;\n\n\n\t\t\tif (effect !== null) {\n\n\t\t\t\tlet index = this.effects.indexOf(effect);\n\t\t\t\tif (index === -1) {\n\n\t\t\t\t\tthis.effects.push(effect);\n\n\t\t\t\t\treturn true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tremoveEffect: function(effect) {\n\n\t\t\teffect = _validate_effect(effect) ? effect : null;\n\n\n\t\t\tif (effect !== null) {\n\n\t\t\t\tlet index = this.effects.indexOf(effect);\n\t\t\t\tif (index !== -1) {\n\n\t\t\t\t\tthis.effects.splice(index, 1);\n\n\t\t\t\t\treturn true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tremoveEffects: function() {\n\n\t\t\tlet effects = this.effects;\n\n\t\t\tfor (let e = 0, el = effects.length; e < el; e++) {\n\n\t\t\t\teffects[e].update(this, Infinity, 0);\n\t\t\t\tthis.removeEffect(effects[e]);\n\n\t\t\t\tel--;\n\t\t\t\te--;\n\n\t\t\t}\n\n\n\t\t\treturn true;\n\n\t\t},\n\n\t\tsetPosition: function(position) {\n\n\t\t\tposition = position instanceof Object ? position : null;\n\n\n\t\t\tif (position !== null) {\n\n\t\t\t\tthis.position.x = typeof position.x === 'number' ? position.x : this.position.x;\n\t\t\t\tthis.position.y = typeof position.y === 'number' ? position.y : this.position.y;\n\t\t\t\tthis.position.z = typeof position.z === 'number' ? position.z : this.position.z;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetShape: function(shape) {\n\n\t\t\tshape = lychee.enumof(Composite.SHAPE, shape) ? shape : null;\n\n\n\t\t\tif (shape !== null) {\n\n\t\t\t\tthis.shape = shape;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetStates: function(states) {\n\n\t\t\tstates = states instanceof Object ? states : null;\n\n\n\t\t\tif (states !== null) {\n\n\t\t\t\tthis.states = {\n\t\t\t\t\t'default': null\n\t\t\t\t};\n\n\t\t\t\tfor (let id in states) {\n\n\t\t\t\t\tif (states.hasOwnProperty(id)) {\n\n\t\t\t\t\t\tlet state = states[id];\n\t\t\t\t\t\tif (state instanceof Object) {\n\t\t\t\t\t\t\tthis.states[id] = states[id];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetState: function(id) {\n\n\t\t\tid = typeof id === 'string' ? id : null;\n\n\n\t\t\tif (id !== null && this.states[id] !== undefined) {\n\n\t\t\t\tthis.state = id;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetVelocity: function(velocity) {\n\n\t\t\tvelocity = velocity instanceof Object ? velocity : null;\n\n\n\t\t\tif (velocity !== null) {\n\n\t\t\t\tthis.velocity.x = typeof velocity.x === 'number' ? velocity.x : this.velocity.x;\n\t\t\t\tthis.velocity.y = typeof velocity.y === 'number' ? velocity.y : this.velocity.y;\n\t\t\t\tthis.velocity.z = typeof velocity.z === 'number' ? velocity.z : this.velocity.z;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t}\n\n\t};\n\n\n\treturn Composite;\n\n}"}},"lychee.net.socket.WS":{"constructor":"lychee.Definition","arguments":[{"id":"lychee.net.socket.WS","url":"/libraries/lychee/source/platform/html/net/socket/WS.js"}],"blob":{"attaches":{},"tags":{"platform":"html"},"requires":["lychee.codec.JSON","lychee.net.protocol.WS"],"includes":["lychee.event.Emitter"],"supports":"function(lychee, global) {\n\n\tif (typeof global.WebSocket !== 'undefined') {\n\t\treturn true;\n\t}\n\n\n\treturn false;\n\n}","exports":"function(lychee, global, attachments) {\n\n\tconst _Emitter   = lychee.import('lychee.event.Emitter');\n\tconst _JSON      = lychee.import('lychee.codec.JSON');\n\tconst _Protocol  = lychee.import('lychee.net.protocol.WS');\n\tconst _WebSocket = global.WebSocket;\n\n\n\n\t/*\n\t * HELPERS\n\t */\n\n\tconst _connect_socket = function(socket, protocol) {\n\n\t\tlet that = this;\n\t\tif (that.__connection !== socket) {\n\n\t\t\tsocket.onmessage = function(event) {\n\n\t\t\t\tlet blob = null;\n\n\t\t\t\tif (typeof event.data === 'string') {\n\n\t\t\t\t\tblob = Buffer.from(event.data, 'utf8');\n\n\t\t\t\t} else if (event.data instanceof ArrayBuffer) {\n\n\t\t\t\t\tblob = Buffer.from(event.data);\n\n\t\t\t\t}\n\n\n\t\t\t\tlet temp = _JSON.decode(blob);\n\t\t\t\tif (temp === null) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\n\t\t\t\t// XXX: HTML WebSocket doesn't support Buffer data\n\t\t\t\tlet chunks = [ temp ];\n\t\t\t\tif (chunks.length > 0) {\n\n\t\t\t\t\tfor (let c = 0, cl = chunks.length; c < cl; c++) {\n\n\t\t\t\t\t\tlet chunk = chunks[c];\n\t\t\t\t\t\tif (chunk.payload[0] === 136) {\n\n\t\t\t\t\t\t\tthat.send(chunk.payload, chunk.headers, true);\n\t\t\t\t\t\t\tthat.disconnect();\n\n\t\t\t\t\t\t\treturn;\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tthat.trigger('receive', [ chunk.payload, chunk.headers ]);\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tsocket.onerror = function() {\n\t\t\t\tthat.trigger('error');\n\t\t\t\tthat.disconnect();\n\t\t\t};\n\n\t\t\tsocket.ontimeout = function() {\n\t\t\t\tthat.trigger('error');\n\t\t\t\tthat.disconnect();\n\t\t\t};\n\n\t\t\tsocket.onclose = function() {\n\t\t\t\tthat.disconnect();\n\t\t\t};\n\n\n\t\t\tthat.__connection = socket;\n\t\t\tthat.__protocol   = protocol;\n\n\n\t\t\tsocket.onopen = function() {\n\t\t\t\tthat.trigger('connect');\n\t\t\t};\n\n\t\t}\n\n\t};\n\n\tconst _disconnect_socket = function(socket, protocol) {\n\n\t\tlet that = this;\n\t\tif (that.__connection === socket) {\n\n\t\t\tsocket.onmessage = function() {};\n\t\t\tsocket.onerror   = function() {};\n\t\t\tsocket.ontimeout = function() {};\n\t\t\tsocket.onclose   = function() {};\n\n\t\t\tsocket.close();\n\t\t\tprotocol.close();\n\n\n\t\t\tthat.__connection = null;\n\t\t\tthat.__protocol   = null;\n\n\t\t\tthat.trigger('disconnect');\n\n\t\t}\n\n\t};\n\n\n\n\t/*\n\t * IMPLEMENTATION\n\t */\n\n\tconst Composite = function() {\n\n\t\tthis.__connection = null;\n\t\tthis.__protocol   = null;\n\n\n\t\t_Emitter.call(this);\n\n\t};\n\n\n\tComposite.prototype = {\n\n\t\t/*\n\t\t * ENTITY API\n\t\t */\n\n\t\t// deserialize: function(blob) {},\n\n\t\tserialize: function() {\n\n\t\t\tlet data = _Emitter.prototype.serialize.call(this);\n\t\t\tdata['constructor'] = 'lychee.net.socket.WS';\n\n\n\t\t\treturn data;\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * CUSTOM API\n\t\t */\n\n\t\tconnect: function(host, port, connection) {\n\n\t\t\thost       = typeof host === 'string'       ? host       : null;\n\t\t\tport       = typeof port === 'number'       ? (port | 0) : null;\n\t\t\tconnection = typeof connection === 'object' ? connection : null;\n\n\n\t\t\tlet that     = this;\n\t\t\tlet url      = /:/g.test(host) ? ('ws://[' + host + ']:' + port) : ('ws://' + host + ':' + port);\n\t\t\tlet protocol = null;\n\n\n\t\t\tif (host !== null && port !== null) {\n\n\t\t\t\tif (connection !== null) {\n\n\t\t\t\t\tprotocol   = new _Protocol({\n\t\t\t\t\t\ttype: _Protocol.TYPE.remote\n\t\t\t\t\t});\n\t\t\t\t\tconnection = null;\n\n\t\t\t\t\t// TODO: Remote Socket API\n\n\t\t\t\t\t// _connect_socket.call(that, connection, protocol);\n\t\t\t\t\t// connection.resume();\n\n\t\t\t\t} else {\n\n\t\t\t\t\tprotocol   = new _Protocol({\n\t\t\t\t\t\ttype: _Protocol.TYPE.client\n\t\t\t\t\t});\n\t\t\t\t\tconnection = new _WebSocket(url, [ 'lycheejs' ]);\n\n\n\t\t\t\t\t_connect_socket.call(that, connection, protocol);\n\n\t\t\t\t}\n\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsend: function(payload, headers, binary) {\n\n\t\t\tpayload = payload instanceof Buffer ? payload : null;\n\t\t\theaders = headers instanceof Object ? headers : {};\n\t\t\tbinary  = binary === true;\n\n\n\t\t\tif (payload !== null) {\n\n\t\t\t\tlet connection = this.__connection;\n\t\t\t\tlet protocol   = this.__protocol;\n\n\t\t\t\tif (connection !== null && protocol !== null) {\n\n\t\t\t\t\t// XXX: HTML WebSocket does not support Buffer data\n\t\t\t\t\tlet chunk = _JSON.encode({\n\t\t\t\t\t\theaders: headers,\n\t\t\t\t\t\tpayload: payload\n\t\t\t\t\t});\n\n\t\t\t\t\tif (chunk !== null) {\n\n\t\t\t\t\t\tif (binary === true) {\n\n\t\t\t\t\t\t\tlet blob = new ArrayBuffer(chunk.length);\n\t\t\t\t\t\t\tlet view = new Uint8Array(blob);\n\n\t\t\t\t\t\t\tfor (let c = 0, cl = chunk.length; c < cl; c++) {\n\t\t\t\t\t\t\t\tview[c] = chunk[c];\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconnection.send(blob);\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tconnection.send(chunk.toString('utf8'));\n\n\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\treturn true;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tdisconnect: function() {\n\n\t\t\tlet connection = this.__connection;\n\t\t\tlet protocol   = this.__protocol;\n\n\t\t\tif (connection !== null && protocol !== null) {\n\n\t\t\t\t_disconnect_socket.call(this, connection, protocol);\n\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t}\n\n\t};\n\n\n\treturn Composite;\n\n}"}},"lychee.net.socket.HTTP":{"constructor":"lychee.Definition","arguments":[{"id":"lychee.net.socket.HTTP","url":"/libraries/lychee/source/platform/html/net/socket/HTTP.js"}],"blob":{"attaches":{},"tags":{"platform":"html"},"requires":["lychee.net.protocol.HTTP"],"includes":["lychee.event.Emitter"],"supports":"function(lychee, global) {\n\n\tif (\n\t\ttypeof global.XMLHttpRequest === 'function'\n\t\t|| typeof global.XMLHttpRequest === 'object'\n\t) {\n\t\treturn true;\n\t}\n\n\n\treturn false;\n\n}","exports":"function(lychee, global, attachments) {\n\n\tconst _Emitter  = lychee.import('lychee.event.Emitter');\n\tconst _Protocol = lychee.import('lychee.net.protocol.HTTP');\n\tconst _XHR      = global.XMLHttpRequest;\n\n\n\n\t/*\n\t * HELPERS\n\t */\n\n\tconst _uppercase = function(str) {\n\n\t\tlet tmp = str.split('-');\n\n\t\tfor (let t = 0, tl = tmp.length; t < tl; t++) {\n\t\t\tlet ch = tmp[t];\n\t\t\ttmp[t] = ch.charAt(0).toUpperCase() + ch.substr(1);\n\t\t}\n\n\t\treturn tmp.join('-');\n\n\t};\n\n\tconst _receive_xhr = function(raw_headers, raw_payload) {\n\n\t\tlet blob = null;\n\n\t\tif (typeof raw_payload === 'string') {\n\n\t\t\tblob = Buffer.from(raw_payload, 'utf8');\n\n\t\t} else if (raw_payload instanceof ArrayBuffer) {\n\n\t\t\tblob = Buffer.from(raw_payload);\n\n\t\t}\n\n\n\t\tlet headers = {};\n\t\tlet payload = blob;\n\n\t\traw_headers.split('\\r\\n').forEach(function(line) {\n\n\t\t\tlet i1 = line.indexOf(':');\n\t\t\tif (i1 !== -1) {\n\n\t\t\t\tlet key = line.substr(0, i1).trim().toLowerCase();\n\t\t\t\tlet val = line.substr(i1 + 1).trim();\n\n\t\t\t\tif (key.startsWith('x-')) {\n\t\t\t\t\theaders['@' + key.substr(2)] = val;\n\t\t\t\t} else if (key.length > 0) {\n\t\t\t\t\theaders[key.toLowerCase()] = val;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t});\n\n\n\t\treturn [{\n\t\t\theaders: headers,\n\t\t\tpayload: payload\n\t\t}];\n\n\t};\n\n\tconst _reconnect_xhr = function(chunk, headers, binary) {\n\n\t\tlet connection = this.__connection;\n\t\tif (connection !== null) {\n\n\t\t\tlet tmp    = chunk.toString('utf8').split('\\n')[0].trim().split(' ');\n\t\t\tlet method = tmp[0];\n\t\t\tlet url    = 'http://' + connection.host + ':' + connection.port + tmp[1];\n\t\t\tlet socket = new _XHR();\n\t\t\tlet that   = this;\n\n\n\t\t\tsocket.open(method, url, true);\n\t\t\tsocket.responseType = binary === true ? 'arraybuffer' : 'text';\n\n\t\t\tsocket.onload = function() {\n\n\t\t\t\tlet chunks = _receive_xhr.call(that, socket.getAllResponseHeaders(), socket.response);\n\t\t\t\tif (chunks.length > 0) {\n\n\t\t\t\t\tfor (let c = 0, cl = chunks.length; c < cl; c++) {\n\n\t\t\t\t\t\tlet chunk = chunks[c];\n\t\t\t\t\t\tif (chunk.payload !== null) {\n\t\t\t\t\t\t\tthat.trigger('receive', [ chunk.payload, chunk.headers ]);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tsocket.onerror = function() {\n\t\t\t\tthat.trigger('error');\n\t\t\t\tthat.disconnect();\n\t\t\t};\n\n\t\t\tsocket.ontimeout = function() {\n\t\t\t\tthat.trigger('error');\n\t\t\t\tthat.disconnect();\n\t\t\t};\n\n\t\t\tfor (let key in headers) {\n\n\t\t\t\tif (key.charAt(0) === '@') {\n\t\t\t\t\tsocket.setRequestHeader(_uppercase('x-' + key.substr(1)), headers[key]);\n\t\t\t\t} else {\n\t\t\t\t\tsocket.setRequestHeader(_uppercase(key), headers[key]);\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn socket;\n\n\t\t}\n\n\n\t\treturn null;\n\n\t};\n\n\tconst _connect_socket = function(socket, protocol) {\n\n\t\tlet that = this;\n\t\tif (that.__connection !== socket) {\n\n\t\t\t// TODO: connect socket events\n\n\t\t\tthat.__connection = socket;\n\t\t\tthat.__protocol   = protocol;\n\n\t\t\tthat.trigger('connect');\n\n\t\t}\n\n\t};\n\n\tconst _disconnect_socket = function(socket, protocol) {\n\n\t\tlet that = this;\n\t\tif (that.__connection === socket) {\n\n\t\t\t// TODO: disconnect socket events\n\n\t\t\t// socket.destroy();\n\t\t\tprotocol.close();\n\n\n\t\t\tthat.__connection = null;\n\t\t\tthat.__protocol   = null;\n\n\n\t\t\tsetTimeout(function() {\n\t\t\t\tthat.trigger('disconnect');\n\t\t\t}, 0);\n\n\t\t}\n\n\t};\n\n\n\n\t/*\n\t * IMPLEMENTATION\n\t */\n\n\tconst Composite = function() {\n\n\t\tthis.__connection = null;\n\t\tthis.__protocol   = null;\n\n\n\t\t_Emitter.call(this);\n\n\t};\n\n\n\tComposite.prototype = {\n\n\t\t/*\n\t\t * ENTITY API\n\t\t */\n\n\t\t// deserialize: function(blob) {},\n\n\t\tserialize: function() {\n\n\t\t\tlet data = _Emitter.prototype.serialize.call(this);\n\t\t\tdata['constructor'] = 'lychee.net.socket.HTTP';\n\n\n\t\t\treturn data;\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * CUSTOM API\n\t\t */\n\n\t\tconnect: function(host, port, connection) {\n\n\t\t\thost       = typeof host === 'string'       ? host       : null;\n\t\t\tport       = typeof port === 'number'       ? (port | 0) : null;\n\t\t\tconnection = typeof connection === 'object' ? connection : null;\n\n\n\t\t\tlet that     = this;\n\t\t\tlet protocol = null;\n\n\n\t\t\tif (host !== null && port !== null) {\n\n\t\t\t\tif (connection !== null) {\n\n\t\t\t\t\tprotocol   = new _Protocol({\n\t\t\t\t\t\ttype: _Protocol.TYPE.remote\n\t\t\t\t\t});\n\t\t\t\t\tconnection = null;\n\n\t\t\t\t\t// TODO: Remote Socket API\n\n\t\t\t\t\t// _connect_socket.call(that, connection, protocol);\n\t\t\t\t\t// connection.resume();\n\n\t\t\t\t} else {\n\n\t\t\t\t\tprotocol   = new _Protocol({\n\t\t\t\t\t\ttype: _Protocol.TYPE.client\n\t\t\t\t\t});\n\t\t\t\t\tconnection = {\n\t\t\t\t\t\thost: host,\n\t\t\t\t\t\tport: port\n\t\t\t\t\t};\n\n\n\t\t\t\t\t_connect_socket.call(that, connection, protocol);\n\n\t\t\t\t}\n\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsend: function(payload, headers, binary) {\n\n\t\t\tpayload = payload instanceof Buffer ? payload : null;\n\t\t\theaders = headers instanceof Object ? headers : null;\n\t\t\tbinary  = binary === true;\n\n\n\t\t\tif (payload !== null) {\n\n\t\t\t\tlet connection = this.__connection;\n\t\t\t\tlet protocol   = this.__protocol;\n\n\t\t\t\tif (connection !== null && protocol !== null) {\n\n\t\t\t\t\t// XXX: HTML XHR does not support Buffer data\n\t\t\t\t\tlet chunk = protocol.send(payload, headers, binary);\n\n\n\t\t\t\t\t// XXX: Web XHR does not support halfopen Sockets\n\t\t\t\t\tconnection = _reconnect_xhr.call(this, chunk, headers, binary);\n\t\t\t\t\tchunk      = payload;\n\n\n\t\t\t\t\tif (connection !== null && chunk !== null) {\n\n\t\t\t\t\t\tif (binary === true) {\n\n\t\t\t\t\t\t\tlet blob = new ArrayBuffer(chunk.length);\n\t\t\t\t\t\t\tlet view = new Uint8Array(blob);\n\n\t\t\t\t\t\t\tfor (let c = 0, cl = chunk.length; c < cl; c++) {\n\t\t\t\t\t\t\t\tview[c] = chunk[c];\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconnection.send(blob);\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tconnection.send(chunk.toString('utf8'));\n\n\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\treturn true;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tdisconnect: function() {\n\n\t\t\tlet connection = this.__connection;\n\t\t\tlet protocol   = this.__protocol;\n\n\t\t\tif (connection !== null && protocol !== null) {\n\n\t\t\t\t_disconnect_socket.call(this, connection, protocol);\n\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\n\t\t\treturn false;\n\n\t\t}\n\n\t};\n\n\n\treturn Composite;\n\n}"}},"lychee.codec.BENCODE":{"constructor":"lychee.Definition","arguments":[{"id":"lychee.codec.BENCODE","url":"/libraries/lychee/source/codec/BENCODE.js"}],"blob":{"attaches":{},"exports":"function(lychee, global, attachments) {\n\n\t/*\n\t * HELPERS\n\t */\n\n\tconst _CHARS_DANGEROUS = /[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g;\n\tconst _CHARS_ESCAPABLE = /[\\\\\"\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g;\n\tconst _CHARS_META      = {\n\t\t'\\b': '\\\\b',\n\t\t'\\t': '\\\\t',\n\t\t'\\n': '\\\\n',\n\t\t'\\f': '\\\\f',\n\t\t'\\r': '',    // FUCK YOU, Microsoft!\n\t\t'\"':  '\\\\\"',\n\t\t'\\\\': '\\\\\\\\'\n\t};\n\n\tconst _sanitize_string = function(str) {\n\n\t\tlet san = str;\n\n\n\t\tif (_CHARS_ESCAPABLE.test(san)) {\n\n\t\t\tsan = san.replace(_CHARS_ESCAPABLE, function(char) {\n\n\t\t\t\tlet val = _CHARS_META[char];\n\t\t\t\tif (typeof val === 'string') {\n\t\t\t\t\treturn val;\n\t\t\t\t} else {\n\t\t\t\t\treturn '\\\\u' + (char.charCodeAt(0).toString(16)).slice(-4);\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t}\n\n\t\treturn san;\n\n\t};\n\n\n\n\t/*\n\t * STRUCTS\n\t */\n\n\tconst _Stream = function(buffer) {\n\n\t\tthis.__buffer = typeof buffer === 'string' ? buffer : '';\n\t\tthis.__index  = 0;\n\n\t};\n\n\n\t_Stream.prototype = {\n\n\t\ttoString: function() {\n\t\t\treturn this.__buffer;\n\t\t},\n\n\t\tpointer: function() {\n\t\t\treturn this.__index;\n\t\t},\n\n\t\tlength: function() {\n\t\t\treturn this.__buffer.length;\n\t\t},\n\n\t\tsearch: function(array) {\n\n\t\t\tlet bytes = Infinity;\n\n\t\t\tfor (let a = 0, al = array.length; a < al; a++) {\n\n\t\t\t\tlet token = array[a];\n\t\t\t\tlet size  = this.__buffer.indexOf(token, this.__index + 1) - this.__index;\n\t\t\t\tif (size > -1 && size < bytes) {\n\t\t\t\t\tbytes = size;\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\tif (bytes === Infinity) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\n\t\t\treturn bytes;\n\n\t\t},\n\n\t\tseek: function(bytes) {\n\n\t\t\tif (bytes > 0) {\n\t\t\t\treturn this.__buffer.substr(this.__index, bytes);\n\t\t\t} else {\n\t\t\t\treturn this.__buffer.substr(this.__index + bytes, Math.abs(bytes));\n\t\t\t}\n\n\t\t},\n\n\t\tread: function(bytes) {\n\n\t\t\tlet buffer = '';\n\n\t\t\tbuffer       += this.__buffer.substr(this.__index, bytes);\n\t\t\tthis.__index += bytes;\n\n\t\t\treturn buffer;\n\n\t\t},\n\n\t\twrite: function(buffer) {\n\n\t\t\tthis.__buffer += buffer;\n\t\t\tthis.__index  += buffer.length;\n\n\t\t}\n\n\t};\n\n\n\n\t/*\n\t * ENCODER and DECODER\n\t */\n\n\tconst _encode = function(stream, data) {\n\n\t\t// Boolean, Null, Undefined, Infinity, NaN\n\t\tif (\n\t\t\ttypeof data === 'boolean'\n\t\t\t|| data === null\n\t\t\t|| data === undefined\n\t\t\t|| (\n\t\t\t\ttypeof data === 'number'\n\t\t\t\t&& (\n\t\t\t\t\tdata === Infinity\n\t\t\t\t\t|| data === -Infinity\n\t\t\t\t\t|| isNaN(data) === true\n\t\t\t\t)\n\t\t\t)\n\t\t) {\n\n\t\t\tif (data === null) {\n\t\t\t\tstream.write('pne');\n\t\t\t} else if (data === undefined) {\n\t\t\t\tstream.write('pue');\n\t\t\t} else if (data === false) {\n\t\t\t\tstream.write('pfe');\n\t\t\t} else if (data === true) {\n\t\t\t\tstream.write('pte');\n\t\t\t} else if (data === Infinity) {\n\t\t\t\tstream.write('p+e');\n\t\t\t} else if (data === -Infinity) {\n\t\t\t\tstream.write('p-e');\n\t\t\t} else if (isNaN(data) === true) {\n\t\t\t\tstream.write('p_e');\n\t\t\t}\n\n\n\t\t// i123e : Integer\n\t\t// f12.3e : Float\n\t\t} else if (typeof data === 'number') {\n\n\t\t\tlet type = 'i';\n\t\t\tif (data < 268435456 && data !== (data | 0)) {\n\t\t\t\ttype = 'f';\n\t\t\t}\n\n\t\t\tlet sign = 0;\n\t\t\tif (data < 0) {\n\t\t\t\tdata = -data;\n\t\t\t\tsign = 1;\n\t\t\t}\n\n\n\t\t\tstream.write(type);\n\n\t\t\tif (sign === 1) {\n\t\t\t\tstream.write('-');\n\t\t\t}\n\n\t\t\tstream.write(data.toString());\n\n\t\t\tstream.write('e');\n\n\n\t\t// <length>:<contents> : String\n\t\t} else if (typeof data === 'string') {\n\n\t\t\tdata = _sanitize_string(data);\n\n\n\t\t\tstream.write(data.length + ':' + data);\n\n\n\t\t// l<contents>e : Array\n\t\t} else if (data instanceof Array) {\n\n\t\t\tstream.write('l');\n\n\t\t\tfor (let d = 0, dl = data.length; d < dl; d++) {\n\t\t\t\t_encode(stream, data[d]);\n\t\t\t}\n\n\t\t\tstream.write('e');\n\n\n\t\t// d<contents>e : Object\n\t\t} else if (data instanceof Object && typeof data.serialize !== 'function') {\n\n\t\t\tstream.write('d');\n\n\t\t\tlet keys = Object.keys(data).sort(function(a, b) {\n\t\t\t\tif (a > b) return  1;\n\t\t\t\tif (a < b) return -1;\n\t\t\t\treturn 0;\n\t\t\t});\n\n\t\t\tfor (let k = 0, kl = keys.length; k < kl; k++) {\n\n\t\t\t\tlet key = keys[k];\n\n\t\t\t\t_encode(stream, key);\n\t\t\t\t_encode(stream, data[key]);\n\n\t\t\t}\n\n\t\t\tstream.write('e');\n\n\n\t\t// s<contents>e : Custom High-Level Implementation\n\t\t} else if (data instanceof Object && typeof data.serialize === 'function') {\n\n\t\t\tstream.write('s');\n\n\t\t\tlet blob = lychee.serialize(data);\n\n\t\t\t_encode(stream, blob);\n\n\t\t\tstream.write('e');\n\n\t\t}\n\n\t};\n\n\tconst _is_decodeable_value = function(str) {\n\n\t\tlet head = str.charAt(0);\n\t\tif (/([piflds]+)/g.test(head) === true) {\n\t\t\treturn true;\n\t\t} else if (isNaN(parseInt(head, 10)) === false) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\n\t};\n\n\tconst _decode = function(stream) {\n\n\t\tlet value  = undefined;\n\t\tlet size   = 0;\n\t\tlet tmp    = 0;\n\t\tlet errors = 0;\n\t\tlet check  = null;\n\n\n\t\tif (stream.pointer() < stream.length()) {\n\n\t\t\tlet seek = stream.seek(1);\n\n\n\t\t\t// Boolean, Null, Undefined, Infinity, NaN\n\t\t\tif (seek === 'p') {\n\n\t\t\t\tcheck = stream.seek(3);\n\n\t\t\t\tif (check === 'pne') {\n\t\t\t\t\tstream.read(3);\n\t\t\t\t\tvalue = null;\n\t\t\t\t} else if (check === 'pue') {\n\t\t\t\t\tstream.read(3);\n\t\t\t\t\tvalue = undefined;\n\t\t\t\t} else if (check === 'pfe') {\n\t\t\t\t\tstream.read(3);\n\t\t\t\t\tvalue = false;\n\t\t\t\t} else if (check === 'pte') {\n\t\t\t\t\tstream.read(3);\n\t\t\t\t\tvalue = true;\n\t\t\t\t} else if (check === 'p+e') {\n\t\t\t\t\tstream.read(3);\n\t\t\t\t\tvalue = +Infinity;\n\t\t\t\t} else if (check === 'p-e') {\n\t\t\t\t\tstream.read(3);\n\t\t\t\t\tvalue = -Infinity;\n\t\t\t\t} else if (check === 'p_e') {\n\t\t\t\t\tstream.read(3);\n\t\t\t\t\tvalue = NaN;\n\t\t\t\t}\n\n\n\t\t\t// i123e : Integer\n\t\t\t} else if (seek === 'i') {\n\n\t\t\t\tstream.read(1);\n\n\t\t\t\tsize = stream.search([ 'e' ]);\n\n\t\t\t\tif (size > 0) {\n\n\t\t\t\t\ttmp   = stream.read(size);\n\t\t\t\t\tvalue = parseInt(tmp, 10);\n\t\t\t\t\tcheck = stream.read(1);\n\n\t\t\t\t}\n\n\t\t\t// f12.3e : Float\n\t\t\t} else if (seek === 'f') {\n\n\t\t\t\tstream.read(1);\n\n\t\t\t\tsize = stream.search([ 'e' ]);\n\n\t\t\t\tif (size > 0) {\n\n\t\t\t\t\ttmp   = stream.read(size);\n\t\t\t\t\tvalue = parseFloat(tmp, 10);\n\t\t\t\t\tcheck = stream.read(1);\n\n\t\t\t\t}\n\n\n\t\t\t// <length>:<contents> : String\n\t\t\t} else if (isNaN(parseInt(seek, 10)) === false) {\n\n\t\t\t\tsize = stream.search([ ':' ]);\n\n\t\t\t\tif (size > 0) {\n\n\t\t\t\t\tsize  = parseInt(stream.read(size), 10);\n\t\t\t\t\tcheck = stream.read(1);\n\n\t\t\t\t\tif (isNaN(size) === false && check === ':') {\n\t\t\t\t\t\tvalue = stream.read(size);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\n\t\t\t// l<contents>e : Array\n\t\t\t} else if (seek === 'l') {\n\n\t\t\t\tvalue = [];\n\n\n\t\t\t\tstream.read(1);\n\n\t\t\t\twhile (errors === 0) {\n\n\t\t\t\t\tvalue.push(_decode(stream));\n\n\t\t\t\t\tcheck = stream.seek(1);\n\n\t\t\t\t\tif (check === 'e') {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} else if (_is_decodeable_value(check) === false) {\n\t\t\t\t\t\terrors++;\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tstream.read(1);\n\n\n\t\t\t// d<contents>e : Object\n\t\t\t} else if (seek === 'd') {\n\n\t\t\t\tvalue = {};\n\n\n\t\t\t\tstream.read(1);\n\n\t\t\t\twhile (errors === 0) {\n\n\t\t\t\t\tlet object_key   = _decode(stream);\n\t\t\t\t\tlet object_value = _decode(stream);\n\n\t\t\t\t\tcheck = stream.seek(1);\n\n\t\t\t\t\tvalue[object_key] = object_value;\n\n\t\t\t\t\tif (check === 'e') {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} else if (isNaN(parseInt(check, 10))) {\n\t\t\t\t\t\terrors++;\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tstream.read(1);\n\n\n\t\t\t// s<contents>e : Custom High-Level Implementation\n\t\t\t} else if (seek === 's') {\n\n\t\t\t\tstream.read(1);\n\n\t\t\t\tlet blob = _decode(stream);\n\n\t\t\t\tvalue = lychee.deserialize(blob);\n\t\t\t\tcheck = stream.read(1);\n\n\t\t\t\tif (check !== 'e') {\n\t\t\t\t\tvalue = undefined;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\n\t\treturn value;\n\n\t};\n\n\n\n\t/*\n\t * IMPLEMENTATION\n\t */\n\n\tconst Module = {\n\n\t\t/*\n\t\t * ENTITY API\n\t\t */\n\n\t\t// deserialize: function(blob) {},\n\n\t\tserialize: function() {\n\n\t\t\treturn {\n\t\t\t\t'reference': 'lychee.codec.BENCODE',\n\t\t\t\t'blob':      null\n\t\t\t};\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * CUSTOM API\n\t\t */\n\n\t\tencode: function(data) {\n\n\t\t\tdata = data instanceof Object ? data : null;\n\n\n\t\t\tif (data !== null) {\n\n\t\t\t\tlet stream = new _Stream('');\n\n\t\t\t\t_encode(stream, data);\n\n\t\t\t\treturn Buffer.from(stream.toString(), 'utf8');\n\n\t\t\t}\n\n\n\t\t\treturn null;\n\n\t\t},\n\n\t\tdecode: function(data) {\n\n\t\t\tdata = data instanceof Buffer ? data : null;\n\n\n\t\t\tif (data !== null) {\n\n\t\t\t\tlet stream = new _Stream(data.toString('utf8'));\n\t\t\t\tlet object = _decode(stream);\n\t\t\t\tif (object !== undefined) {\n\t\t\t\t\treturn object;\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn null;\n\n\t\t}\n\n\t};\n\n\n\treturn Module;\n\n}"}},"lychee.codec.BITON":{"constructor":"lychee.Definition","arguments":[{"id":"lychee.codec.BITON","url":"/libraries/lychee/source/codec/BITON.js"}],"blob":{"attaches":{},"exports":"function(lychee, global, attachments) {\n\n\t/*\n\t * HELPERS\n\t */\n\n\tconst _CHAR_TABLE = new Array(256);\n\tconst _MASK_TABLE = new Array(9);\n\tconst _POW_TABLE  = new Array(9);\n\tconst _RPOW_TABLE = new Array(9);\n\n\t(function() {\n\n\t\tfor (let c = 0; c < 256; c++) {\n\t\t\t_CHAR_TABLE[c] = String.fromCharCode(c);\n\t\t}\n\n\t\tfor (let m = 0; m < 9; m++) {\n\t\t\t_POW_TABLE[m]  = Math.pow(2, m) - 1;\n\t\t\t_MASK_TABLE[m] = ~(_POW_TABLE[m] ^ 0xff);\n\t\t\t_RPOW_TABLE[m] = Math.pow(10, m);\n\t\t}\n\n\t})();\n\n\n\tconst _CHARS_ESCAPABLE = /[\\\\\"\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g;\n\tconst _CHARS_META      = {\n\t\t'\\b': '\\\\b',\n\t\t'\\t': '\\\\t',\n\t\t'\\n': '\\\\n',\n\t\t'\\f': '\\\\f',\n\t\t'\\r': '',    // FUCK YOU, Microsoft!\n\t\t'\"':  '\\\\\"',\n\t\t'\\\\': '\\\\\\\\'\n\t};\n\n\tconst _sanitize_string = function(str) {\n\n\t\tlet san  = str;\n\t\tlet keys = Object.keys(_CHARS_META);\n\t\tlet vals = Object.values(_CHARS_META);\n\n\n\t\tkeys.forEach(function(key, i) {\n\t\t\tsan = san.replace(key, vals[i]);\n\t\t});\n\n\n\t\tif (_CHARS_ESCAPABLE.test(san)) {\n\n\t\t\tsan = san.replace(_CHARS_ESCAPABLE, function(chr) {\n\t\t\t\treturn '\\\\u' + (chr.charCodeAt(0).toString(16)).slice(-4);\n\t\t\t});\n\n\t\t}\n\n\t\treturn san;\n\n\t};\n\n\tconst _desanitize_string = function(san) {\n\n\t\tlet str  = san;\n\t\tlet keys = Object.keys(_CHARS_META);\n\t\tlet vals = Object.values(_CHARS_META);\n\n\n\t\tvals.forEach(function(val, i) {\n\n\t\t\tif (val !== '') {\n\t\t\t\tstr = str.replace(val, keys[i]);\n\t\t\t}\n\n\t\t});\n\n\n\t\treturn str;\n\n\t};\n\n\tconst _resolve_constructor = function(identifier, scope) {\n\n\t\tlet pointer = scope;\n\n\t\tlet ns = identifier.split('.');\n\t\tfor (let n = 0, l = ns.length; n < l; n++) {\n\n\t\t\tlet name = ns[n];\n\n\t\t\tif (pointer[name] !== undefined) {\n\t\t\t\tpointer = pointer[name];\n\t\t\t} else {\n\t\t\t\tpointer = null;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t}\n\n\n\t\treturn pointer;\n\n\t};\n\n\n\n\t/*\n\t * STRUCTS\n\t */\n\n\tconst _Stream = function(buffer, mode) {\n\n\t\tthis.__buffer    = typeof buffer === 'string' ? buffer : '';\n\t\tthis.__mode      = typeof mode === 'number'   ? mode   : 0;\n\n\t\tthis.__pointer   = 0;\n\t\tthis.__value     = 0;\n\t\tthis.__remaining = 8;\n\t\tthis.__index     = 0;\n\n\t\tif (this.__mode === _Stream.MODE.read) {\n\t\t\tthis.__value = this.__buffer.charCodeAt(this.__index);\n\t\t}\n\n\t};\n\n\n\t_Stream.MODE = {\n\t\tread:  0,\n\t\twrite: 1\n\t};\n\n\n\t_Stream.prototype = {\n\n\t\ttoString: function() {\n\n\t\t\tif (this.__mode === _Stream.MODE.write) {\n\n\t\t\t\tif (this.__value > 0) {\n\t\t\t\t\tthis.__buffer += _CHAR_TABLE[this.__value];\n\t\t\t\t\tthis.__value   = 0;\n\t\t\t\t}\n\n\n\t\t\t\t// 0: Boolean or Null or EOS\n\t\t\t\tthis.write(0, 3);\n\t\t\t\t// 00: EOS\n\t\t\t\tthis.write(0, 2);\n\n\t\t\t}\n\n\t\t\treturn this.__buffer;\n\n\t\t},\n\n\t\tpointer: function() {\n\t\t\treturn this.__pointer;\n\t\t},\n\n\t\tlength: function() {\n\t\t\treturn this.__buffer.length * 8;\n\t\t},\n\n\t\tread: function(bits) {\n\n\t\t\tlet overflow = bits - this.__remaining;\n\t\t\tlet captured = this.__remaining < bits ? this.__remaining : bits;\n\t\t\tlet shift    = this.__remaining - captured;\n\n\n\t\t\tlet buffer = (this.__value & _MASK_TABLE[this.__remaining]) >> shift;\n\n\n\t\t\tthis.__pointer   += captured;\n\t\t\tthis.__remaining -= captured;\n\n\n\t\t\tif (this.__remaining === 0) {\n\n\t\t\t\tthis.__value     = this.__buffer.charCodeAt(++this.__index);\n\t\t\t\tthis.__remaining = 8;\n\n\t\t\t\tif (overflow > 0) {\n\t\t\t\t\tbuffer = buffer << overflow | ((this.__value & _MASK_TABLE[this.__remaining]) >> (8 - overflow));\n\t\t\t\t\tthis.__remaining -= overflow;\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn buffer;\n\n\t\t},\n\n\t\treadRAW: function(bytes) {\n\n\t\t\tif (this.__remaining !== 8) {\n\n\t\t\t\tthis.__index++;\n\t\t\t\tthis.__value     = 0;\n\t\t\t\tthis.__remaining = 8;\n\n\t\t\t}\n\n\n\t\t\tlet buffer = '';\n\n\t\t\tif (this.__remaining === 8) {\n\n\t\t\t\tbuffer       += this.__buffer.substr(this.__index, bytes);\n\t\t\t\tthis.__index += bytes;\n\t\t\t\tthis.__value  = this.__buffer.charCodeAt(this.__index);\n\n\t\t\t}\n\n\n\t\t\treturn buffer;\n\n\t\t},\n\n\t\twrite: function(buffer, bits) {\n\n\t\t\tlet overflow = bits - this.__remaining;\n\t\t\tlet captured = this.__remaining < bits ? this.__remaining : bits;\n\t\t\tlet shift    = this.__remaining - captured;\n\n\n\t\t\tif (overflow > 0) {\n\t\t\t\tthis.__value += buffer >> overflow << shift;\n\t\t\t} else {\n\t\t\t\tthis.__value += buffer << shift;\n\t\t\t}\n\n\n\t\t\tthis.__pointer   += captured;\n\t\t\tthis.__remaining -= captured;\n\n\n\t\t\tif (this.__remaining === 0) {\n\n\t\t\t\tthis.__buffer    += _CHAR_TABLE[this.__value];\n\t\t\t\tthis.__remaining  = 8;\n\t\t\t\tthis.__value      = 0;\n\n\t\t\t\tif (overflow > 0) {\n\t\t\t\t\tthis.__value     += (buffer & _POW_TABLE[overflow]) << (8 - overflow);\n\t\t\t\t\tthis.__remaining -= overflow;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t},\n\n\t\twriteRAW: function(buffer) {\n\n\t\t\tif (this.__remaining !== 8) {\n\n\t\t\t\tthis.__buffer    += _CHAR_TABLE[this.__value];\n\t\t\t\tthis.__value      = 0;\n\t\t\t\tthis.__remaining  = 8;\n\n\t\t\t}\n\n\t\t\tif (this.__remaining === 8) {\n\n\t\t\t\tthis.__buffer  += buffer;\n\t\t\t\tthis.__pointer += buffer.length * 8;\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\n\n\t/*\n\t * ENCODER and DECODER\n\t */\n\n\tconst _encode = function(stream, data) {\n\n\t\t// 0: Boolean, Null (or EOS), Undefined, Infinity, NaN\n\t\tif (\n\t\t\ttypeof data === 'boolean'\n\t\t\t|| data === null\n\t\t\t|| data === undefined\n\t\t\t|| (\n\t\t\t\ttypeof data === 'number'\n\t\t\t\t&& (\n\t\t\t\t\tdata === Infinity\n\t\t\t\t\t|| data === -Infinity\n\t\t\t\t\t|| isNaN(data) === true\n\t\t\t\t)\n\t\t\t)\n\t\t) {\n\n\t\t\tstream.write(0, 3);\n\n\t\t\tif (data === null) {\n\t\t\t\tstream.write(1, 3);\n\t\t\t} else if (data === undefined) {\n\t\t\t\tstream.write(2, 3);\n\t\t\t} else if (data === false) {\n\t\t\t\tstream.write(3, 3);\n\t\t\t} else if (data === true) {\n\t\t\t\tstream.write(4, 3);\n\t\t\t} else if (data === Infinity) {\n\t\t\t\tstream.write(5, 3);\n\t\t\t} else if (data === -Infinity) {\n\t\t\t\tstream.write(6, 3);\n\t\t\t} else if (isNaN(data) === true) {\n\t\t\t\tstream.write(7, 3);\n\t\t\t}\n\n\n\t\t// 1: Integer, 2: Float\n\t\t} else if (typeof data === 'number') {\n\n\t\t\tlet type = 1;\n\t\t\tif (data < 268435456 && data !== (data | 0)) {\n\t\t\t\ttype = 2;\n\t\t\t}\n\n\n\t\t\tstream.write(type, 3);\n\n\n\t\t\t// Negative value\n\t\t\tlet sign = 0;\n\t\t\tif (data < 0) {\n\t\t\t\tdata = -data;\n\t\t\t\tsign = 1;\n\t\t\t}\n\n\n\t\t\t// Float only: Calculate the integer value and remember the shift\n\t\t\tlet shift = 0;\n\n\t\t\tif (type === 2) {\n\n\t\t\t\tlet step = 10;\n\t\t\t\tlet m    = data;\n\t\t\t\tlet tmp  = 0;\n\n\n\t\t\t\t// Calculate the exponent and shift\n\t\t\t\tdo {\n\n\t\t\t\t\tm     = data * step;\n\t\t\t\t\tstep *= 10;\n\t\t\t\t\ttmp   = m | 0;\n\t\t\t\t\tshift++;\n\n\t\t\t\t} while (m - tmp > 1 / step && shift < 8 && m < 214748364);\n\n\n\t\t\t\tstep = tmp / 10;\n\n\t\t\t\t// Recorrect shift if we are > 0.5\n\t\t\t\t// and shift is too high\n\t\t\t\tif (step === (step | 0)) {\n\t\t\t\t\ttmp = step;\n\t\t\t\t\tshift--;\n\t\t\t\t}\n\n\t\t\t\tdata = tmp;\n\n\t\t\t}\n\n\n\n\t\t\tif (data < 2) {\n\n\t\t\t\tstream.write(0, 4);\n\t\t\t\tstream.write(data, 1);\n\n\t\t\t} else if (data < 16) {\n\n\t\t\t\tstream.write(1, 4);\n\t\t\t\tstream.write(data, 4);\n\n\t\t\t} else if (data < 256) {\n\n\t\t\t\tstream.write(2, 4);\n\t\t\t\tstream.write(data, 8);\n\n\t\t\t} else if (data < 4096) {\n\n\t\t\t\tstream.write(3, 4);\n\t\t\t\tstream.write(data >>  8 & 0xff, 4);\n\t\t\t\tstream.write(data       & 0xff, 8);\n\n\t\t\t} else if (data < 65536) {\n\n\t\t\t\tstream.write(4, 4);\n\t\t\t\tstream.write(data >>  8 & 0xff, 8);\n\t\t\t\tstream.write(data       & 0xff, 8);\n\n\t\t\t} else if (data < 1048576) {\n\n\t\t\t\tstream.write(5, 4);\n\t\t\t\tstream.write(data >> 16 & 0xff, 4);\n\t\t\t\tstream.write(data >>  8 & 0xff, 8);\n\t\t\t\tstream.write(data       & 0xff, 8);\n\n\t\t\t} else if (data < 16777216) {\n\n\t\t\t\tstream.write(6, 4);\n\t\t\t\tstream.write(data >> 16 & 0xff, 8);\n\t\t\t\tstream.write(data >>  8 & 0xff, 8);\n\t\t\t\tstream.write(data       & 0xff, 8);\n\n\t\t\t} else if (data < 268435456) {\n\n\t\t\t\tstream.write(7, 4);\n\t\t\t\tstream.write(data >> 24 & 0xff, 8);\n\t\t\t\tstream.write(data >> 16 & 0xff, 8);\n\t\t\t\tstream.write(data >>  8 & 0xff, 8);\n\t\t\t\tstream.write(data       & 0xff, 8);\n\n\t\t\t} else {\n\n\t\t\t\tstream.write(8, 4);\n\n\t\t\t\t_encode(stream, data.toString());\n\n\t\t\t}\n\n\n\t\t\tstream.write(sign, 1);\n\n\n\t\t\t// Float only: Remember the shift for precision\n\t\t\tif (type === 2) {\n\t\t\t\tstream.write(shift, 4);\n\t\t\t}\n\n\n\t\t// 3: String\n\t\t} else if (typeof data === 'string') {\n\n\t\t\tdata = _sanitize_string(data);\n\n\n\t\t\tstream.write(3, 3);\n\n\n\t\t\tlet l = data.length;\n\n\t\t\t// Write Size Field\n\t\t\tif (l > 65535) {\n\n\t\t\t\tstream.write(31, 5);\n\n\t\t\t\tstream.write(l >> 24 & 0xff, 8);\n\t\t\t\tstream.write(l >> 16 & 0xff, 8);\n\t\t\t\tstream.write(l >>  8 & 0xff, 8);\n\t\t\t\tstream.write(l       & 0xff, 8);\n\n\t\t\t} else if (l > 255) {\n\n\t\t\t\tstream.write(30, 5);\n\n\t\t\t\tstream.write(l >>  8 & 0xff, 8);\n\t\t\t\tstream.write(l       & 0xff, 8);\n\n\t\t\t} else if (l > 28) {\n\n\t\t\t\tstream.write(29, 5);\n\n\t\t\t\tstream.write(l, 8);\n\n\t\t\t} else {\n\n\t\t\t\tstream.write(l, 5);\n\n\t\t\t}\n\n\n\t\t\tstream.writeRAW(data);\n\n\n\t\t// 4: Start of Array\n\t\t} else if (data instanceof Array) {\n\n\t\t\tstream.write(4, 3);\n\n\t\t\tfor (let d = 0, dl = data.length; d < dl; d++) {\n\t\t\t\tstream.write(0, 3);\n\t\t\t\t_encode(stream, data[d]);\n\t\t\t}\n\n\t\t\t// Write EOO marker\n\t\t\tstream.write(7, 3);\n\n\n\t\t// 5: Start of Object\n\t\t} else if (data instanceof Object && typeof data.serialize !== 'function') {\n\n\t\t\tstream.write(5, 3);\n\n\t\t\tfor (let prop in data) {\n\n\t\t\t\tif (data.hasOwnProperty(prop)) {\n\t\t\t\t\tstream.write(0, 3);\n\t\t\t\t\t_encode(stream, prop);\n\t\t\t\t\t_encode(stream, data[prop]);\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// Write EOO marker\n\t\t\tstream.write(7, 3);\n\n\n\t\t// 6: Custom High-Level Implementation\n\t\t} else if (data instanceof Object && typeof data.serialize === 'function') {\n\n\t\t\tstream.write(6, 3);\n\n\t\t\tlet blob = lychee.serialize(data);\n\n\t\t\t_encode(stream, blob);\n\n\t\t\t// Write EOO marker\n\t\t\tstream.write(7, 3);\n\n\t\t}\n\n\t};\n\n\tconst _decode = function(stream) {\n\n\t\tlet value  = undefined;\n\t\tlet tmp    = 0;\n\t\tlet errors = 0;\n\t\tlet check  = 0;\n\n\t\tif (stream.pointer() < stream.length()) {\n\n\t\t\tlet type = stream.read(3);\n\n\n\t\t\t// 0: Boolean, Null (or EOS), Undefined, Infinity, NaN\n\t\t\tif (type === 0) {\n\n\t\t\t\ttmp = stream.read(3);\n\n\t\t\t\tif (tmp === 1) {\n\t\t\t\t\tvalue = null;\n\t\t\t\t} else if (tmp === 2) {\n\t\t\t\t\tvalue = undefined;\n\t\t\t\t} else if (tmp === 3) {\n\t\t\t\t\tvalue = false;\n\t\t\t\t} else if (tmp === 4) {\n\t\t\t\t\tvalue = true;\n\t\t\t\t} else if (tmp === 5) {\n\t\t\t\t\tvalue = Infinity;\n\t\t\t\t} else if (tmp === 6) {\n\t\t\t\t\tvalue = -Infinity;\n\t\t\t\t} else if (tmp === 7) {\n\t\t\t\t\tvalue = NaN;\n\t\t\t\t}\n\n\n\t\t\t// 1: Integer, 2: Float\n\t\t\t} else if (type === 1 || type === 2) {\n\n\t\t\t\ttmp = stream.read(4);\n\n\n\t\t\t\tif (tmp === 0) {\n\n\t\t\t\t\tvalue = stream.read(1);\n\n\t\t\t\t} else if (tmp === 1) {\n\n\t\t\t\t\tvalue = stream.read(4);\n\n\t\t\t\t} else if (tmp === 2) {\n\n\t\t\t\t\tvalue = stream.read(8);\n\n\t\t\t\t} else if (tmp === 3) {\n\n\t\t\t\t\tvalue = (stream.read(4) <<  8) + stream.read(8);\n\n\t\t\t\t} else if (tmp === 4) {\n\n\t\t\t\t\tvalue = (stream.read(8) <<  8) + stream.read(8);\n\n\t\t\t\t} else if (tmp === 5) {\n\n\t\t\t\t\tvalue = (stream.read(4) << 16) + (stream.read(8) <<  8) + stream.read(8);\n\n\t\t\t\t} else if (tmp === 6) {\n\n\t\t\t\t\tvalue = (stream.read(8) << 16) + (stream.read(8) <<  8) + stream.read(8);\n\n\t\t\t\t} else if (tmp === 7) {\n\n\t\t\t\t\tvalue = (stream.read(8) << 24) + (stream.read(8) << 16) + (stream.read(8) <<  8) + stream.read(8);\n\n\t\t\t\t} else if (tmp === 8) {\n\n\t\t\t\t\tlet str = _decode(stream);\n\n\t\t\t\t\tvalue = parseInt(str, 10);\n\n\t\t\t\t}\n\n\n\t\t\t\t// Negative value\n\t\t\t\tlet sign = stream.read(1);\n\t\t\t\tif (sign === 1) {\n\t\t\t\t\tvalue = -1 * value;\n\t\t\t\t}\n\n\n\t\t\t\t// Float only: Shift it back by the precision\n\t\t\t\tif (type === 2) {\n\t\t\t\t\tlet shift = stream.read(4);\n\t\t\t\t\tvalue /= _RPOW_TABLE[shift];\n\t\t\t\t}\n\n\n\t\t\t// 3: String\n\t\t\t} else if (type === 3) {\n\n\t\t\t\tlet size = stream.read(5);\n\n\t\t\t\tif (size === 31) {\n\n\t\t\t\t\tsize = (stream.read(8) << 24) + (stream.read(8) << 16) + (stream.read(8) <<  8) + stream.read(8);\n\n\t\t\t\t} else if (size === 30) {\n\n\t\t\t\t\tsize = (stream.read(8) <<  8) + stream.read(8);\n\n\t\t\t\t} else if (size === 29) {\n\n\t\t\t\t\tsize = stream.read(8);\n\n\t\t\t\t}\n\n\n\t\t\t\tvalue = _desanitize_string(stream.readRAW(size));\n\n\n\t\t\t// 4: Array\n\t\t\t} else if (type === 4) {\n\n\t\t\t\tvalue = [];\n\n\n\t\t\t\twhile (errors === 0) {\n\n\t\t\t\t\tcheck = stream.read(3);\n\n\t\t\t\t\tif (check === 0) {\n\t\t\t\t\t\tvalue.push(_decode(stream));\n\t\t\t\t\t} else if (check === 7) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} else {\n\t\t\t\t\t\terrors++;\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\n\t\t\t// 5: Object\n\t\t\t} else if (type === 5) {\n\n\t\t\t\tvalue = {};\n\n\n\t\t\t\twhile (errors === 0) {\n\n\t\t\t\t\tcheck = stream.read(3);\n\n\t\t\t\t\tif (check === 0) {\n\t\t\t\t\t\tvalue[_decode(stream)] = _decode(stream);\n\t\t\t\t\t} else if (check === 7) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} else {\n\t\t\t\t\t\terrors++;\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t// 6: Custom High-Level Implementation\n\t\t\t} else if (type === 6) {\n\n\t\t\t\tlet blob = _decode(stream);\n\n\t\t\t\tvalue = lychee.deserialize(blob);\n\t\t\t\tcheck = stream.read(3);\n\n\t\t\t\tif (check !== 7) {\n\t\t\t\t\tvalue = undefined;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\n\t\treturn value;\n\n\t};\n\n\n\n\t/*\n\t * IMPLEMENTATION\n\t */\n\n\tconst Module = {\n\n\t\t/*\n\t\t * ENTITY API\n\t\t */\n\n\t\t// deserialize: function(blob) {},\n\n\t\tserialize: function() {\n\n\t\t\treturn {\n\t\t\t\t'reference': 'lychee.codec.BITON',\n\t\t\t\t'blob':      null\n\t\t\t};\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * CUSTOM API\n\t\t */\n\n\t\tencode: function(data) {\n\n\t\t\tdata = data instanceof Object ? data : null;\n\n\n\t\t\tif (data !== null) {\n\n\t\t\t\tlet stream = new _Stream('', _Stream.MODE.write);\n\n\t\t\t\t_encode(stream, data);\n\n\t\t\t\treturn Buffer.from(stream.toString(), 'utf8');\n\n\t\t\t}\n\n\n\t\t\treturn null;\n\n\t\t},\n\n\t\tdecode: function(data) {\n\n\t\t\tdata = data instanceof Buffer ? data : null;\n\n\n\t\t\tif (data !== null) {\n\n\t\t\t\tlet stream = new _Stream(data.toString('utf8'), _Stream.MODE.read);\n\t\t\t\tlet object = _decode(stream);\n\t\t\t\tif (object !== undefined) {\n\t\t\t\t\treturn object;\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn null;\n\n\t\t}\n\n\t};\n\n\n\treturn Module;\n\n}"}},"lychee.net.protocol.HTTP":{"constructor":"lychee.Definition","arguments":[{"id":"lychee.net.protocol.HTTP","url":"/libraries/lychee/source/net/protocol/HTTP.js"}],"blob":{"attaches":{},"exports":"function(lychee, global, attachments) {\n\n\t/*\n\t * HELPERS\n\t */\n\n\tconst _uppercase = function(str) {\n\n\t\tlet tmp = str.split('-');\n\n\t\tfor (let t = 0, tl = tmp.length; t < tl; t++) {\n\t\t\tlet ch = tmp[t];\n\t\t\ttmp[t] = ch.charAt(0).toUpperCase() + ch.substr(1);\n\t\t}\n\n\t\treturn tmp.join('-');\n\n\t};\n\n\tconst _encode_buffer = function(payload, headers, binary) {\n\n\t\tlet type           = this.type;\n\t\tlet buffer         = null;\n\n\t\tlet headers_data   = null;\n\t\tlet headers_length = 0;\n\t\tlet payload_data   = payload;\n\t\tlet payload_length = payload.length;\n\n\n\t\tif (type === Composite.TYPE.client) {\n\n\t\t\tlet url            = headers['url']             || null;\n\t\t\tlet method         = headers['method']          || null;\n\t\t\tlet service_id     = headers['@service-id']     || null;\n\t\t\tlet service_event  = headers['@service-event']  || null;\n\t\t\tlet service_method = headers['@service-method'] || null;\n\n\n\t\t\tif (service_id !== null) {\n\n\t\t\t\tif (service_method !== null) {\n\n\t\t\t\t\tmethod = 'GET';\n\t\t\t\t\turl    = '/api/' + service_id + '/' + service_method;\n\n\t\t\t\t} else if (service_event !== null) {\n\n\t\t\t\t\tmethod = 'POST';\n\t\t\t\t\turl    = '/api/' + service_id + '/' + service_event;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\tif (url !== null && method !== null) {\n\t\t\t\theaders_data = method + ' ' + url + ' HTTP/1.1\\r\\n';\n\t\t\t} else {\n\t\t\t\theaders_data = 'GET * HTTP/1.1\\r\\n';\n\t\t\t}\n\n\n\t\t\theaders_data += 'Connection: keep-alive\\r\\n';\n\t\t\theaders_data += 'Content-Length: ' + payload_length + '\\r\\n';\n\n\t\t\tfor (let key in headers) {\n\n\t\t\t\tif (key.charAt(0) === '@') {\n\t\t\t\t\theaders_data += '' + _uppercase('x-' + key.substr(1)) + ': ' + headers[key] + '\\r\\n';\n\t\t\t\t} else if (/url|method/g.test(key) === false) {\n\t\t\t\t\theaders_data += '' + _uppercase(key) + ': ' + headers[key] + '\\r\\n';\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\theaders_data  += '\\r\\n';\n\t\t\theaders_length = headers_data.length;\n\n\t\t} else {\n\n\t\t\tlet status  = headers['status'] || Composite.STATUS.normal_okay;\n\t\t\tlet exposed = [ 'Content-Type' ];\n\n\n\t\t\theaders_data  = 'HTTP/1.1 ' + status + '\\r\\n';\n\t\t\theaders_data += 'Connection: keep-alive\\r\\n';\n\t\t\theaders_data += 'Content-Length: ' + payload_length + '\\r\\n';\n\n\t\t\tfor (let key in headers) {\n\n\t\t\t\tif (key.charAt(0) === '@') {\n\t\t\t\t\theaders_data += '' + _uppercase('x-' + key.substr(1)) + ': ' + headers[key] + '\\r\\n';\n\t\t\t\t\texposed.push(_uppercase('x-' + key.substr(1)));\n\t\t\t\t} else if (/status/g.test(key) === false) {\n\t\t\t\t\theaders_data += '' + _uppercase(key) + ': ' + headers[key] + '\\r\\n';\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\theaders_data  += 'Access-Control-Expose-Headers: ' + exposed.join(', ') + '\\r\\n';\n\t\t\theaders_data  += '\\r\\n';\n\t\t\theaders_length = headers_data.length;\n\n\t\t}\n\n\n\t\tlet content_type = headers['content-type'] || 'text/plain';\n\t\tif (/text\\//g.test(content_type) === true) {\n\n\t\t\tbuffer = Buffer.alloc(headers_length + payload_length + 4);\n\t\t\tbuffer.write(headers_data, 0, headers_length, 'utf8');\n\t\t\tpayload_data.copy(buffer, headers_length, 0, payload_length);\n\t\t\tbuffer.write('\\r\\n\\r\\n', headers_length + payload_length, 4, 'utf8');\n\n\t\t} else {\n\n\t\t\tbuffer = Buffer.alloc(headers_length + payload_length + 4);\n\t\t\tbuffer.write(headers_data, 0, headers_length, 'utf8');\n\t\t\tpayload_data.copy(buffer, headers_length, 0, payload_length);\n\t\t\tbuffer.write('\\r\\n\\r\\n', headers_length + payload_length, 4, 'utf8');\n\n\t\t}\n\n\n\t\treturn buffer;\n\n\t};\n\n\tconst _decode_buffer = function(buffer) {\n\n\t\tbuffer = buffer.toString('utf8');\n\n\n\t\tlet chunk = {\n\t\t\tbytes:   -1,\n\t\t\theaders: {},\n\t\t\tpayload: null\n\t\t};\n\n\n\t\tif (buffer.indexOf('\\r\\n\\r\\n') === -1) {\n\t\t\treturn chunk;\n\t\t}\n\n\n\t\tlet headers_length = buffer.indexOf('\\r\\n\\r\\n') + 4;\n\t\tlet headers_data   = buffer.substr(0, headers_length);\n\t\tlet payload_data   = buffer.substr(headers_length);\n\t\tlet payload_length = payload_data.length;\n\n\n\t\tlet i_end = payload_data.indexOf('\\r\\n\\r\\n');\n\t\tif (i_end !== -1) {\n\t\t\tpayload_data   = payload_data.substr(0, i_end);\n\t\t\tpayload_length = payload_data.length + 4;\n\t\t}\n\n\n\t\theaders_data.split('\\r\\n').forEach(function(line) {\n\n\t\t\tlet tmp = line.trim();\n\t\t\tif (/^(OPTIONS|GET|POST)/g.test(tmp) === true) {\n\n\t\t\t\tlet tmp2   = tmp.split(' ');\n\t\t\t\tlet method = (tmp2[0] || '').trim() || null;\n\t\t\t\tlet url    = (tmp2[1] || '').trim() || null;\n\n\t\t\t\tif (method !== null && url !== null) {\n\n\t\t\t\t\tchunk.headers['method'] = method;\n\t\t\t\t\tchunk.headers['url']    = url;\n\n\t\t\t\t}\n\n\n\t\t\t\tif (url.startsWith('/api/')) {\n\n\t\t\t\t\tlet tmp3 = [];\n\n\t\t\t\t\tif (url.indexOf('?') !== -1) {\n\t\t\t\t\t\ttmp3 = url.split('?')[0].split('/');\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttmp3 = url.split('/');\n\t\t\t\t\t}\n\n\t\t\t\t\tif (tmp3.length === 4) {\n\n\t\t\t\t\t\tif (method === 'GET') {\n\n\t\t\t\t\t\t\tchunk.headers['@service-id']     = tmp3[2];\n\t\t\t\t\t\t\tchunk.headers['@service-method'] = tmp3[3];\n\n\t\t\t\t\t\t} else if (method === 'POST') {\n\n\t\t\t\t\t\t\tchunk.headers['@service-id']    = tmp3[2];\n\t\t\t\t\t\t\tchunk.headers['@service-event'] = tmp3[3];\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if (tmp.startsWith('HTTP')) {\n\n\t\t\t\tif (/[0-9]{3}/g.test(tmp) === true) {\n\t\t\t\t\tchunk.headers['status'] = tmp.split(' ')[1];\n\t\t\t\t}\n\n\t\t\t} else if (/^[0-9]{3}/g.test(tmp) === true) {\n\n\t\t\t\tchunk.headers['status'] = tmp.split(' ')[0];\n\n\t\t\t} else if (/:/g.test(tmp)) {\n\n\t\t\t\tlet i_tmp = tmp.indexOf(':');\n\t\t\t\tlet key   = tmp.substr(0, i_tmp).trim().toLowerCase();\n\t\t\t\tlet val   = tmp.substr(i_tmp + 1).trim().toLowerCase();\n\n\t\t\t\tif (key === 'host') {\n\n\t\t\t\t\tif (/^\\[([a-f0-9:]+)\\](.*)$/g.test(val) === true) {\n\t\t\t\t\t\tchunk.headers[key] = val.split(/^\\[([a-f0-9:]+)\\](.*)$/g)[1];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tchunk.headers[key] = val;\n\t\t\t\t\t}\n\n\t\t\t\t} else if (/origin|connection|upgrade|content-type|content-length|accept-encoding|accept-language|e-tag/g.test(key) === true) {\n\n\t\t\t\t\tchunk.headers[key] = val;\n\n\t\t\t\t} else if (/expires|if-modified-since|last-modified/g.test(key) === true) {\n\n\t\t\t\t\tval = tmp.split(':').slice(1).join(':').trim();\n\t\t\t\t\tchunk.headers[key] = val;\n\n\t\t\t\t} else if (/access-control/g.test(key) === true) {\n\n\t\t\t\t\tchunk.headers[key] = val;\n\n\t\t\t\t} else if (key.startsWith('x-')) {\n\n\t\t\t\t\tchunk.headers['@' + key.substr(2)] = val;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t});\n\n\n\t\tlet check = chunk.headers['method'] || null;\n\t\tif (check === 'GET') {\n\n\t\t\tlet tmp4 = chunk.headers['url'] || '';\n\t\t\tif (tmp4.indexOf('?') !== -1) {\n\n\t\t\t\tlet tmp5 = tmp4.split('?')[1].split('&');\n\t\t\t\tlet tmp6 = {};\n\n\t\t\t\ttmp5.forEach(function(str) {\n\n\t\t\t\t\tlet key = str.split('=')[0] || '';\n\t\t\t\t\tlet val = str.split('=')[1] || '';\n\n\t\t\t\t\tif (key !== '' && val !== '') {\n\t\t\t\t\t\ttmp6[key] = val;\n\t\t\t\t\t}\n\n\t\t\t\t});\n\n\n\t\t\t\tlet tmp7 = JSON.stringify(tmp6);\n\n\t\t\t\tchunk.bytes   = headers_length + payload_length;\n\t\t\t\tchunk.payload = Buffer.alloc(tmp7.length, tmp7, 'utf8');\n\n\t\t\t} else {\n\n\t\t\t\tchunk.bytes   = headers_length + payload_length;\n\t\t\t\tchunk.payload = Buffer.alloc(0, '', 'utf8');\n\n\t\t\t}\n\n\t\t} else if (check === 'OPTIONS') {\n\n\t\t\tchunk.bytes   = headers_length + payload_length;\n\t\t\tchunk.payload = Buffer.alloc(0, '', 'utf8');\n\n\t\t} else if (check === 'POST') {\n\n\t\t\tchunk.bytes   = headers_length + payload_length;\n\t\t\tchunk.payload = Buffer.alloc(payload_data.length, payload_data, 'utf8');\n\n\t\t} else {\n\n\t\t\tlet status = chunk.headers['status'] || null;\n\t\t\tif (status !== null) {\n\n\t\t\t\tchunk.bytes   = headers_length + payload_length;\n\t\t\t\tchunk.payload = Buffer.alloc(payload_data.length, payload_data, 'utf8');\n\n\t\t\t} else {\n\n\t\t\t\tchunk.bytes   = buffer.length;\n\t\t\t\tchunk.headers = null;\n\t\t\t\tchunk.payload = null;\n\n\t\t\t}\n\n\t\t}\n\n\n\t\treturn chunk;\n\n\t};\n\n\n\n\t/*\n\t * IMPLEMENTATION\n\t */\n\n\tconst Composite = function(data) {\n\n\t\tlet states = Object.assign({}, data);\n\n\n\t\tthis.type = lychee.enumof(Composite.TYPE, states.type) ? states.type : null;\n\n\t\tthis.__buffer   = Buffer.alloc(0);\n\t\tthis.__isClosed = false;\n\n\n\t\tif (lychee.debug === true) {\n\n\t\t\tif (this.type === null) {\n\t\t\t\tconsole.error('lychee.net.protocol.HTTP: Invalid (lychee.net.protocol.HTTP.TYPE) type.');\n\t\t\t}\n\n\t\t}\n\n\t\tstates = null;\n\n\t};\n\n\n\t// Composite.FRAMESIZE = 32768; // 32kB\n\tComposite.FRAMESIZE = 0x800000; // 8MiB\n\n\n\tComposite.STATUS = {\n\n\t\t// RFC7231\n\t\tnormal_continue: '100 Continue',\n\t\tnormal_okay:     '200 OK',\n\t\tprotocol_error:  '400 Bad Request',\n\t\tmessage_too_big: '413 Payload Too Large',\n\t\tnot_found:       '404 Not Found',\n\t\tnot_allowed:     '405 Method Not Allowed',\n\t\tnot_implemented: '501 Not Implemented',\n\t\tbad_gateway:     '502 Bad Gateway',\n\n\t\t// RFC7233\n\t\tnormal_closure:  '204 No Content',\n\t\tnormal_partial:  '206 Partial Content'\n\n\t};\n\n\n\tComposite.TYPE = {\n\t\t// 'default': 0, (deactivated)\n\t\t'client': 1,\n\t\t'remote': 2\n\t};\n\n\n\tComposite.prototype = {\n\n\t\t/*\n\t\t * ENTITY API\n\t\t */\n\n\t\t// deserialize: function(blob) {},\n\n\t\tserialize: function() {\n\n\t\t\tlet states = {};\n\n\n\t\t\tif (this.type !== null) states.type = this.type;\n\n\n\t\t\treturn {\n\t\t\t\t'constructor': 'lychee.net.protocol.HTTP',\n\t\t\t\t'arguments':   [ states ],\n\t\t\t\t'blob':        null\n\t\t\t};\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * PROTOCOL API\n\t\t */\n\n\t\tsend: function(payload, headers, binary) {\n\n\t\t\tpayload = payload instanceof Buffer ? payload : null;\n\t\t\theaders = headers instanceof Object ? headers : null;\n\t\t\tbinary  = binary === true;\n\n\n\t\t\tif (payload !== null) {\n\n\t\t\t\tif (this.__isClosed === false) {\n\t\t\t\t\treturn _encode_buffer.call(this, payload, headers, binary);\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn null;\n\n\t\t},\n\n\t\treceive: function(blob) {\n\n\t\t\tblob = blob instanceof Buffer ? blob : null;\n\n\n\t\t\tlet chunks = [];\n\n\n\t\t\tif (blob !== null) {\n\n\t\t\t\tif (blob.length > Composite.FRAMESIZE) {\n\n\t\t\t\t\tchunks.push(this.close(Composite.STATUS.message_too_big));\n\n\t\t\t\t} else if (this.__isClosed === false) {\n\n\t\t\t\t\tlet buf = this.__buffer;\n\t\t\t\t\tlet tmp = Buffer.alloc(buf.length + blob.length);\n\n\n\t\t\t\t\tbuf.copy(tmp);\n\t\t\t\t\tblob.copy(tmp, buf.length);\n\t\t\t\t\tbuf = tmp;\n\n\n\t\t\t\t\tlet chunk = _decode_buffer.call(this, buf);\n\n\t\t\t\t\twhile (chunk.bytes !== -1) {\n\n\t\t\t\t\t\tif (chunk.payload !== null) {\n\t\t\t\t\t\t\tchunks.push(chunk);\n\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\ttmp = Buffer.alloc(buf.length - chunk.bytes);\n\t\t\t\t\t\tbuf.copy(tmp, 0, chunk.bytes);\n\t\t\t\t\t\tbuf = tmp;\n\n\t\t\t\t\t\tchunk = null;\n\t\t\t\t\t\tchunk = _decode_buffer.call(this, buf);\n\n\t\t\t\t\t}\n\n\n\t\t\t\t\tthis.__buffer = buf;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn chunks;\n\n\t\t},\n\n\t\tclose: function(status) {\n\n\t\t\tstatus = typeof status === 'number' ? status : Composite.STATUS.no_content;\n\n\n\t\t\tif (this.__isClosed === false) {\n\n\t\t\t\t// TODO: Close method should create a close status buffer\n\t\t\t\t// let buffer = Buffer.alloc(4);\n\n\t\t\t\t// buffer[0]  = 128 + 0x08;\n\t\t\t\t// buffer[1]  =   0 + 0x02;\n\n\t\t\t\t// buffer.write(String.fromCharCode((status >> 8) & 0xff) + String.fromCharCode((status >> 0) & 0xff), 2, 'binary');\n\n\t\t\t\t// this.__isClosed = true;\n\n\n\t\t\t\t// return buffer;\n\n\t\t\t}\n\n\n\t\t\treturn null;\n\n\t\t}\n\n\t};\n\n\n\treturn Composite;\n\n}"}},"lychee.net.protocol.WS":{"constructor":"lychee.Definition","arguments":[{"id":"lychee.net.protocol.WS","url":"/libraries/lychee/source/net/protocol/WS.js"}],"blob":{"attaches":{},"requires":["lychee.codec.JSON"],"exports":"function(lychee, global, attachments) {\n\n\tconst _JSON = lychee.import('lychee.codec.JSON');\n\n\n\n\t/*\n\t * HELPERS\n\t */\n\n\t/*\n\t * WebSocket Framing Protocol\n\t *\n\t * |0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|\n\t * +-+-+-+-+-------+-+-------------+-------------------------------+\n\t * |F|R|R|R| opcode|M| Payload len |    Extended payload length    |\n\t * |I|S|S|S|  (4)  |A|     (7)     |             (16/64)           |\n\t * |N|V|V|V|       |S|             |   (if payload len==126/127)   |\n\t * | |1|2|3|       |K|             |                               |\n\t * +-+-+-+-+-------+-+-------------+ - - - - - - - - - - - - - - - +\n\t * |     Extended payload length continued, if payload len == 127  |\n\t * + - - - - - - - - - - - - - - - +-------------------------------+\n\t * |                               |Masking-key, if MASK set to 1  |\n\t * +-------------------------------+-------------------------------+\n\t * | Masking-key (continued)       |          Payload Data         |\n\t * +-------------------------------- - - - - - - - - - - - - - - - +\n\t * :                     Payload Data continued ...                :\n\t * + - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - +\n\t * |                     Payload Data continued ...                |\n\t * +---------------------------------------------------------------+\n\t *\n\t */\n\n\tconst _on_ping_frame = function() {\n\n\t\tlet type = this.type;\n\t\tif (type === Composite.TYPE.remote) {\n\n\t\t\tlet buffer = Buffer.alloc(2);\n\n\t\t\t// FIN, Pong\n\t\t\t// Unmasked, 0 payload\n\n\t\t\tbuffer[0] = 128 + 0x0a;\n\t\t\tbuffer[1] =   0 + 0x00;\n\n\n\t\t\treturn buffer;\n\n\t\t}\n\n\n\t\treturn null;\n\n\t};\n\n\tconst _on_pong_frame = function() {\n\n\t\tlet type = this.type;\n\t\tif (type === Composite.TYPE.client) {\n\n\t\t\tlet buffer = Buffer.alloc(6);\n\n\t\t\t// FIN, Ping\n\t\t\t// Masked, 0 payload\n\n\t\t\tbuffer[0] = 128 + 0x09;\n\t\t\tbuffer[1] = 128 + 0x00;\n\n\t\t\tbuffer[2] = (Math.random() * 0xff) | 0;\n\t\t\tbuffer[3] = (Math.random() * 0xff) | 0;\n\t\t\tbuffer[4] = (Math.random() * 0xff) | 0;\n\t\t\tbuffer[5] = (Math.random() * 0xff) | 0;\n\n\n\t\t\treturn buffer;\n\n\t\t}\n\n\n\t\treturn null;\n\n\t};\n\n\tconst _encode_buffer = function(payload, headers, binary) {\n\n\t\tlet buffer         = null;\n\t\tlet data           = _JSON.encode({\n\t\t\theaders: headers,\n\t\t\tpayload: payload\n\t\t});\n\t\tlet mask           = false;\n\t\tlet mask_data      = null;\n\t\tlet payload_data   = null;\n\t\tlet payload_length = data.length;\n\t\tlet type           = this.type;\n\n\n\t\tif (type === Composite.TYPE.client) {\n\n\t\t\tmask      = true;\n\t\t\tmask_data = Buffer.alloc(4);\n\n\t\t\tmask_data[0] = (Math.random() * 0xff) | 0;\n\t\t\tmask_data[1] = (Math.random() * 0xff) | 0;\n\t\t\tmask_data[2] = (Math.random() * 0xff) | 0;\n\t\t\tmask_data[3] = (Math.random() * 0xff) | 0;\n\n\t\t\tpayload_data = data.map(function(value, index) {\n\t\t\t\treturn value ^ mask_data[index % 4];\n\t\t\t});\n\n\t\t} else {\n\n\t\t\tmask         = false;\n\t\t\tmask_data    = Buffer.alloc(4);\n\t\t\tpayload_data = data.map(function(value) {\n\t\t\t\treturn value;\n\t\t\t});\n\n\t\t}\n\n\n\t\t// 64 Bit Extended Payload Length\n\t\tif (payload_length > 0xffff) {\n\n\t\t\tlet lo = payload_length | 0;\n\t\t\tlet hi = (payload_length - lo) / 4294967296;\n\n\t\t\tbuffer = Buffer.alloc((mask === true ? 14 : 10) + payload_length);\n\n\t\t\tbuffer[0] = 128 + (binary === true ? 0x02 : 0x01);\n\t\t\tbuffer[1] = (mask === true ? 128 : 0) + 127;\n\n\t\t\tbuffer[2] = (hi >> 24) & 0xff;\n\t\t\tbuffer[3] = (hi >> 16) & 0xff;\n\t\t\tbuffer[4] = (hi >>  8) & 0xff;\n\t\t\tbuffer[5] = (hi >>  0) & 0xff;\n\n\t\t\tbuffer[6] = (lo >> 24) & 0xff;\n\t\t\tbuffer[7] = (lo >> 16) & 0xff;\n\t\t\tbuffer[8] = (lo >>  8) & 0xff;\n\t\t\tbuffer[9] = (lo >>  0) & 0xff;\n\n\n\t\t\tif (mask === true) {\n\n\t\t\t\tmask_data.copy(buffer, 10);\n\t\t\t\tpayload_data.copy(buffer, 14);\n\n\t\t\t} else {\n\n\t\t\t\tpayload_data.copy(buffer, 10);\n\n\t\t\t}\n\n\n\t\t// 16 Bit Extended Payload Length\n\t\t} else if (payload_length > 125) {\n\n\t\t\tbuffer = Buffer.alloc((mask === true ? 8 : 4) + payload_length);\n\n\t\t\tbuffer[0] = 128 + (binary === true ? 0x02 : 0x01);\n\t\t\tbuffer[1] = (mask === true ? 128 : 0) + 126;\n\n\t\t\tbuffer[2] = (payload_length >> 8) & 0xff;\n\t\t\tbuffer[3] = (payload_length >> 0) & 0xff;\n\n\n\t\t\tif (mask === true) {\n\n\t\t\t\tmask_data.copy(buffer, 4);\n\t\t\t\tpayload_data.copy(buffer, 8);\n\n\t\t\t} else {\n\n\t\t\t\tpayload_data.copy(buffer, 4);\n\n\t\t\t}\n\n\n\t\t// 7 Bit Payload Length\n\t\t} else {\n\n\t\t\tbuffer = Buffer.alloc((mask === true ? 6 : 2) + payload_length);\n\n\t\t\tbuffer[0] = 128 + (binary === true ? 0x02 : 0x01);\n\t\t\tbuffer[1] = (mask === true ? 128 : 0) + payload_length;\n\n\n\t\t\tif (mask === true) {\n\n\t\t\t\tmask_data.copy(buffer, 2);\n\t\t\t\tpayload_data.copy(buffer, 6);\n\n\t\t\t} else {\n\n\t\t\t\tpayload_data.copy(buffer, 2);\n\n\t\t\t}\n\n\t\t}\n\n\n\t\treturn buffer;\n\n\t};\n\n\tconst _decode_buffer = function(buffer) {\n\n\t\tlet fragment = this.__fragment;\n\t\tlet chunk    = {\n\t\t\tbytes:   -1,\n\t\t\theaders: {},\n\t\t\tpayload: null\n\t\t};\n\n\n\t\tif (buffer.length <= 2) {\n\t\t\treturn chunk;\n\t\t}\n\n\n\t\tlet fin            = (buffer[0] & 128) === 128;\n\t\t// let rsv1        = (buffer[0] & 64) === 64;\n\t\t// let rsv2        = (buffer[0] & 32) === 32;\n\t\t// let rsv3        = (buffer[0] & 16) === 16;\n\t\tlet operator       = buffer[0] & 15;\n\t\tlet mask           = (buffer[1] & 128) === 128;\n\t\tlet mask_data      = Buffer.alloc(4);\n\t\tlet payload_length = buffer[1] & 127;\n\t\tlet payload_data   = null;\n\n\t\tif (payload_length <= 125) {\n\n\t\t\tif (mask === true) {\n\t\t\t\tmask_data    = buffer.slice(2, 6);\n\t\t\t\tpayload_data = buffer.slice(6, 6 + payload_length);\n\t\t\t\tchunk.bytes  = 6 + payload_length;\n\t\t\t} else {\n\t\t\t\tmask_data    = null;\n\t\t\t\tpayload_data = buffer.slice(2, 2 + payload_length);\n\t\t\t\tchunk.bytes  = 2 + payload_length;\n\t\t\t}\n\n\t\t} else if (payload_length === 126) {\n\n\t\t\tpayload_length = (buffer[2] << 8) + buffer[3];\n\n\n\t\t\tif (payload_length > buffer.length) {\n\t\t\t\treturn chunk;\n\t\t\t}\n\n\n\t\t\tif (mask === true) {\n\t\t\t\tmask_data    = buffer.slice(4, 8);\n\t\t\t\tpayload_data = buffer.slice(8, 8 + payload_length);\n\t\t\t\tchunk.bytes  = 8 + payload_length;\n\t\t\t} else {\n\t\t\t\tmask_data    = null;\n\t\t\t\tpayload_data = buffer.slice(4, 4 + payload_length);\n\t\t\t\tchunk.bytes  = 4 + payload_length;\n\t\t\t}\n\n\t\t} else if (payload_length === 127) {\n\n\t\t\tlet hi = (buffer[2] * 0x1000000) + ((buffer[3] << 16) | (buffer[4] << 8) | buffer[5]);\n\t\t\tlet lo = (buffer[6] * 0x1000000) + ((buffer[7] << 16) | (buffer[8] << 8) | buffer[9]);\n\n\n\t\t\tpayload_length = (hi * 4294967296) + lo;\n\n\n\t\t\tif (payload_length > buffer.length) {\n\t\t\t\treturn chunk;\n\t\t\t}\n\n\n\t\t\tif (mask === true) {\n\t\t\t\tmask_data    = buffer.slice(10, 14);\n\t\t\t\tpayload_data = buffer.slice(14, 14 + payload_length);\n\t\t\t\tchunk.bytes  = 14 + payload_length;\n\t\t\t} else {\n\t\t\t\tmask_data    = null;\n\t\t\t\tpayload_data = buffer.slice(10, 10 + payload_length);\n\t\t\t\tchunk.bytes  = 10 + payload_length;\n\t\t\t}\n\n\t\t}\n\n\n\t\tif (mask_data !== null) {\n\n\t\t\tpayload_data = payload_data.map(function(value, index) {\n\t\t\t\treturn value ^ mask_data[index % 4];\n\t\t\t});\n\n\t\t}\n\n\n\t\t// 0: Continuation Frame (Fragmentation)\n\t\tif (operator === 0x00) {\n\n\t\t\tif (payload_data !== null) {\n\n\t\t\t\tlet payload = Buffer.alloc(fragment.payload.length + payload_length);\n\n\t\t\t\tfragment.payload.copy(payload, 0);\n\t\t\t\tpayload_data.copy(payload, fragment.payload.length);\n\n\t\t\t\tfragment.payload = payload;\n\n\t\t\t}\n\n\n\t\t\tif (fin === true) {\n\n\t\t\t\tlet tmp0 = _JSON.decode(fragment.payload);\n\t\t\t\tif (tmp0 !== null) {\n\t\t\t\t\tchunk.headers = tmp0.headers || {};\n\t\t\t\t\tchunk.payload = tmp0.payload || null;\n\t\t\t\t}\n\n\t\t\t\tfragment.operator = 0x00;\n\t\t\t\tfragment.payload  = Buffer.alloc(0);\n\n\t\t\t}\n\n\n\t\t// 1: Text Frame\n\t\t} else if (operator === 0x01) {\n\n\t\t\tif (fin === true) {\n\n\t\t\t\tlet tmp1 = _JSON.decode(payload_data);\n\t\t\t\tif (tmp1 !== null) {\n\t\t\t\t\tchunk.headers = tmp1.headers || {};\n\t\t\t\t\tchunk.payload = tmp1.payload || null;\n\t\t\t\t}\n\n\t\t\t} else if (payload_data !== null) {\n\n\t\t\t\tlet payload = Buffer.alloc(fragment.payload.length + payload_length);\n\n\t\t\t\tfragment.payload.copy(payload, 0);\n\t\t\t\tpayload_data.copy(payload, fragment.payload.length);\n\n\t\t\t\tfragment.payload  = payload;\n\t\t\t\tfragment.operator = operator;\n\n\t\t\t}\n\n\n\t\t// 2: Binary Frame\n\t\t} else if (operator === 0x02) {\n\n\t\t\tif (fin === true) {\n\n\t\t\t\tlet tmp2 = _JSON.decode(payload_data);\n\t\t\t\tif (tmp2 !== null) {\n\t\t\t\t\tchunk.headers = tmp2.headers || {};\n\t\t\t\t\tchunk.payload = tmp2.payload || null;\n\t\t\t\t}\n\n\t\t\t} else if (payload_data !== null) {\n\n\t\t\t\tlet payload = Buffer.alloc(fragment.payload.length + payload_length);\n\n\t\t\t\tfragment.payload.copy(payload, 0);\n\t\t\t\tpayload_data.copy(payload, fragment.payload.length);\n\n\t\t\t\tfragment.payload  = payload;\n\t\t\t\tfragment.operator = operator;\n\n\t\t\t}\n\n\n\t\t// 8: Connection Close\n\t\t} else if (operator === 0x08) {\n\n\t\t\tchunk.payload = this.close(Composite.STATUS.normal_closure);\n\n\n\t\t// 9: Ping Frame\n\t\t} else if (operator === 0x09) {\n\n\t\t\tchunk.payload = _on_ping_frame.call(this);\n\n\n\t\t// 10: Pong Frame\n\t\t} else if (operator === 0x0a) {\n\n\t\t\tchunk.payload = _on_pong_frame.call(this);\n\n\n\t\t// 3-7: Reserved Non-Control Frames, 11-15: Reserved Control Frames\n\t\t} else {\n\n\t\t\tchunk.payload = this.close(Composite.STATUS.protocol_error);\n\n\t\t}\n\n\n\t\treturn chunk;\n\n\t};\n\n\n\n\t/*\n\t * IMPLEMENTATION\n\t */\n\n\tconst Composite = function(data) {\n\n\t\tlet states = Object.assign({}, data);\n\n\n\t\tthis.type = lychee.enumof(Composite.TYPE, states.type) ? states.type : null;\n\n\t\tthis.__buffer   = Buffer.alloc(0);\n\t\tthis.__fragment = {\n\t\t\toperator: 0x00,\n\t\t\tpayload:  Buffer.alloc(0)\n\t\t};\n\t\tthis.__isClosed = false;\n\n\n\t\tif (lychee.debug === true) {\n\n\t\t\tif (this.type === null) {\n\t\t\t\tconsole.error('lychee.net.protocol.WS: Invalid (lychee.net.protocol.WS.TYPE) type.');\n\t\t\t}\n\n\t\t}\n\n\t\tstates = null;\n\n\t};\n\n\n\t// Composite.FRAMESIZE = 32768; // 32kB\n\tComposite.FRAMESIZE = 0x800000; // 8MiB\n\n\n\tComposite.STATUS = {\n\n\t\t// IESG_HYBI\n\t\tnormal_closure:  1000,\n\t\tprotocol_error:  1002,\n\t\tmessage_too_big: 1009\n\n\t\t// IESG_HYBI\n\t\t// going_away:         1001,\n\t\t// unsupported_data:   1003,\n\t\t// no_status_received: 1005,\n\t\t// abnormal_closure:   1006,\n\t\t// invalid_payload:    1007,\n\t\t// policy_violation:   1008,\n\t\t// missing_extension:  1010,\n\t\t// internal_error:     1011,\n\n\t\t// IESG_HYBI Current\n\t\t// service_restart:    1012,\n\t\t// service_overload:   1013,\n\n\t\t// IESG_HYBI\n\t\t// tls_handshake:      1015\n\n\t};\n\n\n\tComposite.TYPE = {\n\t\t// 'default': 0, (deactivated)\n\t\t'client': 1,\n\t\t'remote': 2\n\t};\n\n\n\tComposite.prototype = {\n\n\t\t/*\n\t\t * ENTITY API\n\t\t */\n\n\t\t// deserialize: function(blob) {},\n\n\t\tserialize: function() {\n\n\t\t\tlet states = {};\n\n\n\t\t\tif (this.type !== null) states.type = this.type;\n\n\n\t\t\treturn {\n\t\t\t\t'constructor': 'lychee.net.protocol.WS',\n\t\t\t\t'arguments':   [ states ],\n\t\t\t\t'blob':        null\n\t\t\t};\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * PROTOCOL API\n\t\t */\n\n\t\tsend: function(payload, headers, binary) {\n\n\t\t\tpayload = payload instanceof Buffer ? payload : null;\n\t\t\theaders = headers instanceof Object ? headers : null;\n\t\t\tbinary  = binary === true;\n\n\n\t\t\tif (payload !== null) {\n\n\t\t\t\tif (this.__isClosed === false) {\n\t\t\t\t\treturn _encode_buffer.call(this, payload, headers, binary);\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn null;\n\n\t\t},\n\n\t\treceive: function(blob) {\n\n\t\t\tblob = blob instanceof Buffer ? blob : null;\n\n\n\t\t\tlet chunks = [];\n\n\n\t\t\tif (blob !== null) {\n\n\t\t\t\tif (blob.length > Composite.FRAMESIZE) {\n\n\t\t\t\t\tchunks.push({\n\t\t\t\t\t\tpayload: this.close(Composite.STATUS.message_too_big)\n\t\t\t\t\t});\n\n\t\t\t\t} else if (this.__isClosed === false) {\n\n\t\t\t\t\tlet buf = this.__buffer;\n\t\t\t\t\tlet tmp = Buffer.alloc(buf.length + blob.length);\n\n\n\t\t\t\t\tbuf.copy(tmp);\n\t\t\t\t\tblob.copy(tmp, buf.length);\n\t\t\t\t\tbuf = tmp;\n\n\n\t\t\t\t\tlet chunk = _decode_buffer.call(this, buf);\n\n\t\t\t\t\twhile (chunk.bytes !== -1) {\n\n\t\t\t\t\t\tif (chunk.payload !== null) {\n\t\t\t\t\t\t\tchunks.push(chunk);\n\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\tif (buf.length - chunk.bytes > 0) {\n\n\t\t\t\t\t\t\ttmp = Buffer.alloc(buf.length - chunk.bytes);\n\t\t\t\t\t\t\tbuf.copy(tmp, 0, chunk.bytes);\n\t\t\t\t\t\t\tbuf = tmp;\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbuf = Buffer.alloc(0);\n\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\tchunk = null;\n\t\t\t\t\t\tchunk = _decode_buffer.call(this, buf);\n\n\t\t\t\t\t}\n\n\n\t\t\t\t\tthis.__buffer = buf;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\treturn chunks;\n\n\t\t},\n\n\t\tclose: function(status) {\n\n\t\t\tstatus = typeof status === 'number' ? status : Composite.STATUS.normal_closure;\n\n\n\t\t\tif (this.__isClosed === false) {\n\n\t\t\t\tlet buffer = Buffer.alloc(4);\n\n\t\t\t\tbuffer[0]  = 128 + 0x08;\n\t\t\t\tbuffer[1]  =   0 + 0x02;\n\n\t\t\t\tbuffer.write(String.fromCharCode((status >> 8) & 0xff) + String.fromCharCode((status >> 0) & 0xff), 2, 'binary');\n\n\t\t\t\tthis.__isClosed = true;\n\n\n\t\t\t\treturn buffer;\n\n\t\t\t}\n\n\n\t\t\treturn null;\n\n\t\t},\n\n\n\n\t\t/*\n\t\t * CUSTOM API\n\t\t */\n\n\t\tping: function() {\n\n\t\t\tlet buffer = _on_pong_frame.call(this);\n\t\t\tif (buffer !== null) {\n\t\t\t\treturn buffer;\n\t\t\t}\n\n\n\t\t\treturn null;\n\n\t\t}\n\n\t};\n\n\n\treturn Composite;\n\n}"}}},"features":{"Storage":"function","localStorage":{},"sessionStorage":{},"addEventListener":"function","document":{"createElement":"function","querySelectorAll":"function"},"CanvasRenderingContext2D":"function","innerWidth":"number","innerHeight":"number","WebSocket":"function","XMLHttpRequest":"function"}}});
	if (environment !== null) {

		lychee.init(environment, {
			profile: {}
		});

	}

})(lychee, typeof global !== 'undefined' ? global : this);
</script>
</body>
</html>
